const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Dashboard-CIRzPcG7.js","assets/MetricCard-CrIrYRD-.js","assets/Card-Cr9OAgbB.js","assets/trending-down-Bv3v621Y.js","assets/clipboard-list-CKxcwzz4.js","assets/isEqual-BHhVwzbp.js","assets/check-circle-CTtHyn7T.js","assets/frown-CG07Hc8V.js","assets/minus-DOXPjpFB.js","assets/list-CdTLXTIM.js","assets/activity-CtPdcfXV.js","assets/user-CIFL-UWv.js","assets/clock-CiZ1IF_T.js","assets/calendar-DHK5Xtal.js","assets/Orders-BF5x3K_-.js","assets/Input-BZEgl9G2.js","assets/Select-BwRdW-mQ.js","assets/TextArea-Cp0WOQfX.js","assets/activityLogger-D5lQN0Gb.js","assets/CustomerFormModal-B1qZrkVi.js","assets/Modal-BfbFXPiL.js","assets/circle-plus-uaTjFC1H.js","assets/shopping-bag-BrkeNu9j.js","assets/palette-CeCNDCCv.js","assets/check-B2F4x3B2.js","assets/truck-C58qqGGm.js","assets/printer-CF5_TQA7.js","assets/phone-BhdOTX_m.js","assets/map-pin-CHQvbAUO.js","assets/trash-2-DiA01aMl.js","assets/square-pen-BIVQ8kyS.js","assets/download-B9ew1_ti.js","assets/search-CZ-s9-55.js","assets/eye-B7MUet3E.js","assets/file-x-C7hgEAyV.js","assets/arrow-up-down-BPCEvZx4.js","assets/plus-De4zK4eV.js","assets/Expenses-DhsdWDOj.js","assets/funnel-BJnlsVnC.js","assets/tag-CzMNOLPg.js","assets/credit-card-BKVcKJ_8.js","assets/ConfirmationModal-CFQUW-DD.js","assets/MaterialsPage-Debuw0bB.js","assets/trending-up-BiZtRP2A.js","assets/history-C0UaW-wb.js","assets/Staff-ciGxGlqW.js","assets/index-ComdOs0r.js","assets/user-plus-B6BSmP5E.js","assets/star-DyxNfqub.js","assets/Payments-B9gms0DY.js","assets/pie-chart-ByWN3veW.js","assets/DueSummary-BDXsS3Ee.js","assets/hash-CvZM-WGw.js","assets/index-DdHjBg5j.js","assets/banknote-BJPN380d.js","assets/ProductMaster-bMpXEPrT.js","assets/StatusOverview-BaXjnbhF.js","assets/relativeTime-BJSYrNG1.js","assets/InvoiceList-si5Znuyr.js","assets/InvoicePage-CBaJZrwM.js","assets/UserManagement-6JV6tZJE.js","assets/StockPage-Cp9VOZ0d.js","assets/shopping-cart-ZqDE2_1l.js","assets/ShowcasePage-Dj4Itp2U.js","assets/image-off-D_IosDOU.js","assets/WhatsAppDashboard-B9K9FX6g.js","assets/send-DvzX1HMZ.js","assets/SettingsPage-DQjc68JQ.js","assets/building-1BUhKXo6.js","assets/shield-BhVOJR9q.js","assets/eye-off-C0SrYS6n.js","assets/database-DNttJzrA.js","assets/globe-MAQRJXQ_.js","assets/languages-BqDD95Lq.js","assets/TeamChatPage-CLceK29d.js","assets/AdminContentManagement-DBjTUasB.js","assets/image-BG2GD1cw.js","assets/layers-BuRYTrOX.js","assets/link-DX_LOZf7.js","assets/AIAgentPage-BQ9SRNlZ.js","assets/GeminiChat-B8KWcT2A.js","assets/InsightsPage-D-n6ieiI.js","assets/zap-CKB_YLdp.js"])))=>i.map(i=>d[i]);
var nR=Object.defineProperty;var rR=(n,e,t)=>e in n?nR(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Dw=(n,e,t)=>rR(n,typeof e!="symbol"?e+"":e,t);function LS(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();var $B=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Af(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function iR(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var Nm={exports:{}},qu={},Mm={exports:{}},tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ow;function sR(){if(Ow)return tt;Ow=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function v(L){return L===null||typeof L!="object"?null:(L=y&&L[y]||L["@@iterator"],typeof L=="function"?L:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,A={};function P(L,re,de){this.props=L,this.context=re,this.refs=A,this.updater=de||T}P.prototype.isReactComponent={},P.prototype.setState=function(L,re){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,re,"setState")},P.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function q(){}q.prototype=P.prototype;function B(L,re,de){this.props=L,this.context=re,this.refs=A,this.updater=de||T}var U=B.prototype=new q;U.constructor=B,k(U,P.prototype),U.isPureReactComponent=!0;var J=Array.isArray,Z=Object.prototype.hasOwnProperty,ne={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function b(L,re,de){var fe,Ae={},Ve=null,qe=null;if(re!=null)for(fe in re.ref!==void 0&&(qe=re.ref),re.key!==void 0&&(Ve=""+re.key),re)Z.call(re,fe)&&!x.hasOwnProperty(fe)&&(Ae[fe]=re[fe]);var Re=arguments.length-2;if(Re===1)Ae.children=de;else if(1<Re){for(var Qe=Array(Re),Nt=0;Nt<Re;Nt++)Qe[Nt]=arguments[Nt+2];Ae.children=Qe}if(L&&L.defaultProps)for(fe in Re=L.defaultProps,Re)Ae[fe]===void 0&&(Ae[fe]=Re[fe]);return{$$typeof:n,type:L,key:Ve,ref:qe,props:Ae,_owner:ne.current}}function C(L,re){return{$$typeof:n,type:L.type,key:re,ref:L.ref,props:L.props,_owner:L._owner}}function O(L){return typeof L=="object"&&L!==null&&L.$$typeof===n}function j(L){var re={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(de){return re[de]})}var $=/\/+/g;function M(L,re){return typeof L=="object"&&L!==null&&L.key!=null?j(""+L.key):re.toString(36)}function He(L,re,de,fe,Ae){var Ve=typeof L;(Ve==="undefined"||Ve==="boolean")&&(L=null);var qe=!1;if(L===null)qe=!0;else switch(Ve){case"string":case"number":qe=!0;break;case"object":switch(L.$$typeof){case n:case e:qe=!0}}if(qe)return qe=L,Ae=Ae(qe),L=fe===""?"."+M(qe,0):fe,J(Ae)?(de="",L!=null&&(de=L.replace($,"$&/")+"/"),He(Ae,re,de,"",function(Nt){return Nt})):Ae!=null&&(O(Ae)&&(Ae=C(Ae,de+(!Ae.key||qe&&qe.key===Ae.key?"":(""+Ae.key).replace($,"$&/")+"/")+L)),re.push(Ae)),1;if(qe=0,fe=fe===""?".":fe+":",J(L))for(var Re=0;Re<L.length;Re++){Ve=L[Re];var Qe=fe+M(Ve,Re);qe+=He(Ve,re,de,Qe,Ae)}else if(Qe=v(L),typeof Qe=="function")for(L=Qe.call(L),Re=0;!(Ve=L.next()).done;)Ve=Ve.value,Qe=fe+M(Ve,Re++),qe+=He(Ve,re,de,Qe,Ae);else if(Ve==="object")throw re=String(L),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.");return qe}function lt(L,re,de){if(L==null)return L;var fe=[],Ae=0;return He(L,fe,"","",function(Ve){return re.call(de,Ve,Ae++)}),fe}function dt(L){if(L._status===-1){var re=L._result;re=re(),re.then(function(de){(L._status===0||L._status===-1)&&(L._status=1,L._result=de)},function(de){(L._status===0||L._status===-1)&&(L._status=2,L._result=de)}),L._status===-1&&(L._status=0,L._result=re)}if(L._status===1)return L._result.default;throw L._result}var Ce={current:null},Q={transition:null},Se={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:Q,ReactCurrentOwner:ne};return tt.Children={map:lt,forEach:function(L,re,de){lt(L,function(){re.apply(this,arguments)},de)},count:function(L){var re=0;return lt(L,function(){re++}),re},toArray:function(L){return lt(L,function(re){return re})||[]},only:function(L){if(!O(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},tt.Component=P,tt.Fragment=t,tt.Profiler=i,tt.PureComponent=B,tt.StrictMode=r,tt.Suspense=h,tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Se,tt.cloneElement=function(L,re,de){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var fe=k({},L.props),Ae=L.key,Ve=L.ref,qe=L._owner;if(re!=null){if(re.ref!==void 0&&(Ve=re.ref,qe=ne.current),re.key!==void 0&&(Ae=""+re.key),L.type&&L.type.defaultProps)var Re=L.type.defaultProps;for(Qe in re)Z.call(re,Qe)&&!x.hasOwnProperty(Qe)&&(fe[Qe]=re[Qe]===void 0&&Re!==void 0?Re[Qe]:re[Qe])}var Qe=arguments.length-2;if(Qe===1)fe.children=de;else if(1<Qe){Re=Array(Qe);for(var Nt=0;Nt<Qe;Nt++)Re[Nt]=arguments[Nt+2];fe.children=Re}return{$$typeof:n,type:L.type,key:Ae,ref:Ve,props:fe,_owner:qe}},tt.createContext=function(L){return L={$$typeof:l,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:o,_context:L},L.Consumer=L},tt.createElement=b,tt.createFactory=function(L){var re=b.bind(null,L);return re.type=L,re},tt.createRef=function(){return{current:null}},tt.forwardRef=function(L){return{$$typeof:u,render:L}},tt.isValidElement=O,tt.lazy=function(L){return{$$typeof:m,_payload:{_status:-1,_result:L},_init:dt}},tt.memo=function(L,re){return{$$typeof:f,type:L,compare:re===void 0?null:re}},tt.startTransition=function(L){var re=Q.transition;Q.transition={};try{L()}finally{Q.transition=re}},tt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},tt.useCallback=function(L,re){return Ce.current.useCallback(L,re)},tt.useContext=function(L){return Ce.current.useContext(L)},tt.useDebugValue=function(){},tt.useDeferredValue=function(L){return Ce.current.useDeferredValue(L)},tt.useEffect=function(L,re){return Ce.current.useEffect(L,re)},tt.useId=function(){return Ce.current.useId()},tt.useImperativeHandle=function(L,re,de){return Ce.current.useImperativeHandle(L,re,de)},tt.useInsertionEffect=function(L,re){return Ce.current.useInsertionEffect(L,re)},tt.useLayoutEffect=function(L,re){return Ce.current.useLayoutEffect(L,re)},tt.useMemo=function(L,re){return Ce.current.useMemo(L,re)},tt.useReducer=function(L,re,de){return Ce.current.useReducer(L,re,de)},tt.useRef=function(L){return Ce.current.useRef(L)},tt.useState=function(L){return Ce.current.useState(L)},tt.useSyncExternalStore=function(L,re,de){return Ce.current.useSyncExternalStore(L,re,de)},tt.useTransition=function(){return Ce.current.useTransition()},tt.version="18.2.0",tt}var Nw;function Oy(){return Nw||(Nw=1,Mm.exports=sR()),Mm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mw;function oR(){if(Mw)return qu;Mw=1;var n=Oy(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,h,f){var m,y={},v=null,T=null;f!==void 0&&(v=""+f),h.key!==void 0&&(v=""+h.key),h.ref!==void 0&&(T=h.ref);for(m in h)r.call(h,m)&&!o.hasOwnProperty(m)&&(y[m]=h[m]);if(u&&u.defaultProps)for(m in h=u.defaultProps,h)y[m]===void 0&&(y[m]=h[m]);return{$$typeof:e,type:u,key:v,ref:T,props:y,_owner:i.current}}return qu.Fragment=t,qu.jsx=l,qu.jsxs=l,qu}var Lw;function aR(){return Lw||(Lw=1,Nm.exports=oR()),Nm.exports}var R=aR(),hd={},Lm={exports:{}},ir={},Vm={exports:{}},jm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vw;function lR(){return Vw||(Vw=1,function(n){function e(Q,Se){var L=Q.length;Q.push(Se);e:for(;0<L;){var re=L-1>>>1,de=Q[re];if(0<i(de,Se))Q[re]=Se,Q[L]=de,L=re;else break e}}function t(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var Se=Q[0],L=Q.pop();if(L!==Se){Q[0]=L;e:for(var re=0,de=Q.length,fe=de>>>1;re<fe;){var Ae=2*(re+1)-1,Ve=Q[Ae],qe=Ae+1,Re=Q[qe];if(0>i(Ve,L))qe<de&&0>i(Re,Ve)?(Q[re]=Re,Q[qe]=L,re=qe):(Q[re]=Ve,Q[Ae]=L,re=Ae);else if(qe<de&&0>i(Re,L))Q[re]=Re,Q[qe]=L,re=qe;else break e}}return Se}function i(Q,Se){var L=Q.sortIndex-Se.sortIndex;return L!==0?L:Q.id-Se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var h=[],f=[],m=1,y=null,v=3,T=!1,k=!1,A=!1,P=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U(Q){for(var Se=t(f);Se!==null;){if(Se.callback===null)r(f);else if(Se.startTime<=Q)r(f),Se.sortIndex=Se.expirationTime,e(h,Se);else break;Se=t(f)}}function J(Q){if(A=!1,U(Q),!k)if(t(h)!==null)k=!0,dt(Z);else{var Se=t(f);Se!==null&&Ce(J,Se.startTime-Q)}}function Z(Q,Se){k=!1,A&&(A=!1,q(b),b=-1),T=!0;var L=v;try{for(U(Se),y=t(h);y!==null&&(!(y.expirationTime>Se)||Q&&!j());){var re=y.callback;if(typeof re=="function"){y.callback=null,v=y.priorityLevel;var de=re(y.expirationTime<=Se);Se=n.unstable_now(),typeof de=="function"?y.callback=de:y===t(h)&&r(h),U(Se)}else r(h);y=t(h)}if(y!==null)var fe=!0;else{var Ae=t(f);Ae!==null&&Ce(J,Ae.startTime-Se),fe=!1}return fe}finally{y=null,v=L,T=!1}}var ne=!1,x=null,b=-1,C=5,O=-1;function j(){return!(n.unstable_now()-O<C)}function $(){if(x!==null){var Q=n.unstable_now();O=Q;var Se=!0;try{Se=x(!0,Q)}finally{Se?M():(ne=!1,x=null)}}else ne=!1}var M;if(typeof B=="function")M=function(){B($)};else if(typeof MessageChannel<"u"){var He=new MessageChannel,lt=He.port2;He.port1.onmessage=$,M=function(){lt.postMessage(null)}}else M=function(){P($,0)};function dt(Q){x=Q,ne||(ne=!0,M())}function Ce(Q,Se){b=P(function(){Q(n.unstable_now())},Se)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Q){Q.callback=null},n.unstable_continueExecution=function(){k||T||(k=!0,dt(Z))},n.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<Q?Math.floor(1e3/Q):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(Q){switch(v){case 1:case 2:case 3:var Se=3;break;default:Se=v}var L=v;v=Se;try{return Q()}finally{v=L}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Q,Se){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var L=v;v=Q;try{return Se()}finally{v=L}},n.unstable_scheduleCallback=function(Q,Se,L){var re=n.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?re+L:re):L=re,Q){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=L+de,Q={id:m++,callback:Se,priorityLevel:Q,startTime:L,expirationTime:de,sortIndex:-1},L>re?(Q.sortIndex=L,e(f,Q),t(h)===null&&Q===t(f)&&(A?(q(b),b=-1):A=!0,Ce(J,L-re))):(Q.sortIndex=de,e(h,Q),k||T||(k=!0,dt(Z))),Q},n.unstable_shouldYield=j,n.unstable_wrapCallback=function(Q){var Se=v;return function(){var L=v;v=Se;try{return Q.apply(this,arguments)}finally{v=L}}}}(jm)),jm}var jw;function uR(){return jw||(jw=1,Vm.exports=lR()),Vm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fw;function cR(){if(Fw)return ir;Fw=1;var n=Oy(),e=uR();function t(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(i[s]=a,s=0;s<a.length;s++)r.add(a[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},y={};function v(s){return h.call(y,s)?!0:h.call(m,s)?!1:f.test(s)?y[s]=!0:(m[s]=!0,!1)}function T(s,a,c,p){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return p?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function k(s,a,c,p){if(a===null||typeof a>"u"||T(s,a,c,p))return!0;if(p)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function A(s,a,c,p,g,w,S){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=p,this.attributeNamespace=g,this.mustUseProperty=c,this.propertyName=s,this.type=a,this.sanitizeURL=w,this.removeEmptyString=S}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){P[s]=new A(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];P[a]=new A(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){P[s]=new A(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){P[s]=new A(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){P[s]=new A(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){P[s]=new A(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){P[s]=new A(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){P[s]=new A(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){P[s]=new A(s,5,!1,s.toLowerCase(),null,!1,!1)});var q=/[\-:]([a-z])/g;function B(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(q,B);P[a]=new A(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(q,B);P[a]=new A(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(q,B);P[a]=new A(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){P[s]=new A(s,1,!1,s.toLowerCase(),null,!1,!1)}),P.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){P[s]=new A(s,1,!1,s.toLowerCase(),null,!0,!0)});function U(s,a,c,p){var g=P.hasOwnProperty(a)?P[a]:null;(g!==null?g.type!==0:p||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(k(a,c,g,p)&&(c=null),p||g===null?v(a)&&(c===null?s.removeAttribute(a):s.setAttribute(a,""+c)):g.mustUseProperty?s[g.propertyName]=c===null?g.type===3?!1:"":c:(a=g.attributeName,p=g.attributeNamespace,c===null?s.removeAttribute(a):(g=g.type,c=g===3||g===4&&c===!0?"":""+c,p?s.setAttributeNS(p,a,c):s.setAttribute(a,c))))}var J=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Z=Symbol.for("react.element"),ne=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),j=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),He=Symbol.for("react.suspense_list"),lt=Symbol.for("react.memo"),dt=Symbol.for("react.lazy"),Ce=Symbol.for("react.offscreen"),Q=Symbol.iterator;function Se(s){return s===null||typeof s!="object"?null:(s=Q&&s[Q]||s["@@iterator"],typeof s=="function"?s:null)}var L=Object.assign,re;function de(s){if(re===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);re=a&&a[1]||""}return`
`+re+s}var fe=!1;function Ae(s,a){if(!s||fe)return"";fe=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(Y){var p=Y}Reflect.construct(s,[],a)}else{try{a.call()}catch(Y){p=Y}s.call(a.prototype)}else{try{throw Error()}catch(Y){p=Y}s()}}catch(Y){if(Y&&p&&typeof Y.stack=="string"){for(var g=Y.stack.split(`
`),w=p.stack.split(`
`),S=g.length-1,N=w.length-1;1<=S&&0<=N&&g[S]!==w[N];)N--;for(;1<=S&&0<=N;S--,N--)if(g[S]!==w[N]){if(S!==1||N!==1)do if(S--,N--,0>N||g[S]!==w[N]){var F=`
`+g[S].replace(" at new "," at ");return s.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",s.displayName)),F}while(1<=S&&0<=N);break}}}finally{fe=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?de(s):""}function Ve(s){switch(s.tag){case 5:return de(s.type);case 16:return de("Lazy");case 13:return de("Suspense");case 19:return de("SuspenseList");case 0:case 2:case 15:return s=Ae(s.type,!1),s;case 11:return s=Ae(s.type.render,!1),s;case 1:return s=Ae(s.type,!0),s;default:return""}}function qe(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case x:return"Fragment";case ne:return"Portal";case C:return"Profiler";case b:return"StrictMode";case M:return"Suspense";case He:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case j:return(s.displayName||"Context")+".Consumer";case O:return(s._context.displayName||"Context")+".Provider";case $:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case lt:return a=s.displayName||null,a!==null?a:qe(s.type)||"Memo";case dt:a=s._payload,s=s._init;try{return qe(s(a))}catch{}}return null}function Re(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qe(a);case 8:return a===b?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Qe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Nt(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ur(s){var a=Nt(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),p=""+s[a];if(!s.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,w=c.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(S){p=""+S,w.call(this,S)}}),Object.defineProperty(s,a,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(S){p=""+S},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Un(s){s._valueTracker||(s._valueTracker=ur(s))}function wt(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var c=a.getValue(),p="";return s&&(p=Nt(s)?s.checked?"true":"false":s.value),s=p,s!==c?(a.setValue(s),!0):!1}function $n(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function ui(s,a){var c=a.checked;return L({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function Es(s,a){var c=a.defaultValue==null?"":a.defaultValue,p=a.checked!=null?a.checked:a.defaultChecked;c=Qe(a.value!=null?a.value:c),s._wrapperState={initialChecked:p,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function cr(s,a){a=a.checked,a!=null&&U(s,"checked",a,!1)}function Co(s,a){cr(s,a);var c=Qe(a.value),p=a.type;if(c!=null)p==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(p==="submit"||p==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?Vi(s,a.type,c):a.hasOwnProperty("defaultValue")&&Vi(s,a.type,Qe(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function Da(s,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var p=a.type;if(!(p!=="submit"&&p!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,c||a===s.value||(s.value=a),s.defaultValue=a}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function Vi(s,a,c){(a!=="number"||$n(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var Fr=Array.isArray;function Ur(s,a,c,p){if(s=s.options,a){a={};for(var g=0;g<c.length;g++)a["$"+c[g]]=!0;for(c=0;c<s.length;c++)g=a.hasOwnProperty("$"+s[c].value),s[c].selected!==g&&(s[c].selected=g),g&&p&&(s[c].defaultSelected=!0)}else{for(c=""+Qe(c),a=null,g=0;g<s.length;g++){if(s[g].value===c){s[g].selected=!0,p&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function Do(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return L({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Ts(s,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(t(92));if(Fr(c)){if(1<c.length)throw Error(t(93));c=c[0]}a=c}a==null&&(a=""),c=a}s._wrapperState={initialValue:Qe(c)}}function Gn(s,a){var c=Qe(a.value),p=Qe(a.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),a.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),p!=null&&(s.defaultValue=""+p)}function $r(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function $t(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mt(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?$t(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var un,Bn=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,p,g){MSApp.execUnsafeLocalFunction(function(){return s(a,c,p,g)})}:s}(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(un=un||document.createElement("div"),un.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=un.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function Br(s,a){if(a){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=a;return}}s.textContent=a}var br={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ji=["Webkit","ms","Moz","O"];Object.keys(br).forEach(function(s){ji.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),br[a]=br[s]})});function Kn(s,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||br.hasOwnProperty(s)&&br[s]?(""+a).trim():a+"px"}function Ss(s,a){s=s.style;for(var c in a)if(a.hasOwnProperty(c)){var p=c.indexOf("--")===0,g=Kn(c,a[c],p);c==="float"&&(c="cssFloat"),p?s.setProperty(c,g):s[c]=g}}var bs=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xs(s,a){if(a){if(bs[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function Oo(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ci=null;function zr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Fi=null,kn=null,Qn=null;function ks(s){if(s=Pu(s)){if(typeof Fi!="function")throw Error(t(280));var a=s.stateNode;a&&(a=kh(a),Fi(s.stateNode,s.type,a))}}function hr(s){kn?Qn?Qn.push(s):Qn=[s]:kn=s}function No(){if(kn){var s=kn,a=Qn;if(Qn=kn=null,ks(s),a)for(s=0;s<a.length;s++)ks(a[s])}}function hi(s,a){return s(a)}function di(){}var Jn=!1;function Mo(s,a,c){if(Jn)return s(a,c);Jn=!0;try{return hi(s,a,c)}finally{Jn=!1,(kn!==null||Qn!==null)&&(di(),No())}}function Lt(s,a){var c=s.stateNode;if(c===null)return null;var p=kh(c);if(p===null)return null;c=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(t(231,a,typeof c));return c}var V=!1;if(u)try{var W={};Object.defineProperty(W,"passive",{get:function(){V=!0}}),window.addEventListener("test",W,W),window.removeEventListener("test",W,W)}catch{V=!1}function X(s,a,c,p,g,w,S,N,F){var Y=Array.prototype.slice.call(arguments,3);try{a.apply(c,Y)}catch(ae){this.onError(ae)}}var se=!1,he=null,we=!1,Oe=null,Ee={onError:function(s){se=!0,he=s}};function _e(s,a,c,p,g,w,S,N,F){se=!1,he=null,X.apply(Ee,arguments)}function ge(s,a,c,p,g,w,S,N,F){if(_e.apply(this,arguments),se){if(se){var Y=he;se=!1,he=null}else throw Error(t(198));we||(we=!0,Oe=Y)}}function ye(s){var a=s,c=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(c=a.return),s=a.return;while(s)}return a.tag===3?c:null}function je(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function Be(s){if(ye(s)!==s)throw Error(t(188))}function Bt(s){var a=s.alternate;if(!a){if(a=ye(s),a===null)throw Error(t(188));return a!==s?null:s}for(var c=s,p=a;;){var g=c.return;if(g===null)break;var w=g.alternate;if(w===null){if(p=g.return,p!==null){c=p;continue}break}if(g.child===w.child){for(w=g.child;w;){if(w===c)return Be(g),s;if(w===p)return Be(g),a;w=w.sibling}throw Error(t(188))}if(c.return!==p.return)c=g,p=w;else{for(var S=!1,N=g.child;N;){if(N===c){S=!0,c=g,p=w;break}if(N===p){S=!0,p=g,c=w;break}N=N.sibling}if(!S){for(N=w.child;N;){if(N===c){S=!0,c=w,p=g;break}if(N===p){S=!0,p=w,c=g;break}N=N.sibling}if(!S)throw Error(t(189))}}if(c.alternate!==p)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?s:a}function ft(s){return s=Bt(s),s!==null?Ye(s):null}function Ye(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=Ye(s);if(a!==null)return a;s=s.sibling}return null}var yt=e.unstable_scheduleCallback,xr=e.unstable_cancelCallback,fi=e.unstable_shouldYield,dr=e.unstable_requestPaint,Ze=e.unstable_now,Is=e.unstable_getCurrentPriorityLevel,fr=e.unstable_ImmediatePriority,In=e.unstable_UserBlockingPriority,yn=e.unstable_NormalPriority,pi=e.unstable_LowPriority,et=e.unstable_IdlePriority,mt=null,Qt=null;function mi(s){if(Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(mt,s,void 0,(s.current.flags&128)===128)}catch{}}var rt=Math.clz32?Math.clz32:Oa,kr=Math.log,Lo=Math.LN2;function Oa(s){return s>>>=0,s===0?32:31-(kr(s)/Lo|0)|0}var Na=64,Ma=4194304;function As(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Vo(s,a){var c=s.pendingLanes;if(c===0)return 0;var p=0,g=s.suspendedLanes,w=s.pingedLanes,S=c&268435455;if(S!==0){var N=S&~g;N!==0?p=As(N):(w&=S,w!==0&&(p=As(w)))}else S=c&~g,S!==0?p=As(S):w!==0&&(p=As(w));if(p===0)return 0;if(a!==0&&a!==p&&(a&g)===0&&(g=p&-p,w=a&-a,g>=w||g===16&&(w&4194240)!==0))return a;if((p&4)!==0&&(p|=c&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=p;0<a;)c=31-rt(a),g=1<<c,p|=s[c],a&=~g;return p}function cp(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ui(s,a){for(var c=s.suspendedLanes,p=s.pingedLanes,g=s.expirationTimes,w=s.pendingLanes;0<w;){var S=31-rt(w),N=1<<S,F=g[S];F===-1?((N&c)===0||(N&p)!==0)&&(g[S]=cp(N,a)):F<=a&&(s.expiredLanes|=N),w&=~N}}function pr(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function jo(){var s=Na;return Na<<=1,(Na&4194240)===0&&(Na=64),s}function Ps(s){for(var a=[],c=0;31>c;c++)a.push(s);return a}function Rs(s,a,c){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-rt(a),s[a]=c}function Et(s,a){var c=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var p=s.eventTimes;for(s=s.expirationTimes;0<c;){var g=31-rt(c),w=1<<g;a[g]=0,p[g]=-1,s[g]=-1,c&=~w}}function Cs(s,a){var c=s.entangledLanes|=a;for(s=s.entanglements;c;){var p=31-rt(c),g=1<<p;g&a|s[p]&a&&(s[p]|=a),c&=~g}}var ot=0;function Ds(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var sh,La,oh,ah,lh,pu=!1,gi=[],vn=null,qr=null,Wr=null,Os=new Map,Ir=new Map,yi=[],hp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uh(s,a){switch(s){case"focusin":case"focusout":vn=null;break;case"dragenter":case"dragleave":qr=null;break;case"mouseover":case"mouseout":Wr=null;break;case"pointerover":case"pointerout":Os.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ir.delete(a.pointerId)}}function Xn(s,a,c,p,g,w){return s===null||s.nativeEvent!==w?(s={blockedOn:a,domEventName:c,eventSystemFlags:p,nativeEvent:w,targetContainers:[g]},a!==null&&(a=Pu(a),a!==null&&La(a)),s):(s.eventSystemFlags|=p,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function dp(s,a,c,p,g){switch(a){case"focusin":return vn=Xn(vn,s,a,c,p,g),!0;case"dragenter":return qr=Xn(qr,s,a,c,p,g),!0;case"mouseover":return Wr=Xn(Wr,s,a,c,p,g),!0;case"pointerover":var w=g.pointerId;return Os.set(w,Xn(Os.get(w)||null,s,a,c,p,g)),!0;case"gotpointercapture":return w=g.pointerId,Ir.set(w,Xn(Ir.get(w)||null,s,a,c,p,g)),!0}return!1}function ch(s){var a=zo(s.target);if(a!==null){var c=ye(a);if(c!==null){if(a=c.tag,a===13){if(a=je(c),a!==null){s.blockedOn=a,lh(s.priority,function(){oh(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function $i(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var c=Va(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var p=new c.constructor(c.type,c);ci=p,c.target.dispatchEvent(p),ci=null}else return a=Pu(c),a!==null&&La(a),s.blockedOn=c,!1;a.shift()}return!0}function Fo(s,a,c){$i(s)&&c.delete(a)}function hh(){pu=!1,vn!==null&&$i(vn)&&(vn=null),qr!==null&&$i(qr)&&(qr=null),Wr!==null&&$i(Wr)&&(Wr=null),Os.forEach(Fo),Ir.forEach(Fo)}function Hr(s,a){s.blockedOn===a&&(s.blockedOn=null,pu||(pu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,hh)))}function Gr(s){function a(g){return Hr(g,s)}if(0<gi.length){Hr(gi[0],s);for(var c=1;c<gi.length;c++){var p=gi[c];p.blockedOn===s&&(p.blockedOn=null)}}for(vn!==null&&Hr(vn,s),qr!==null&&Hr(qr,s),Wr!==null&&Hr(Wr,s),Os.forEach(a),Ir.forEach(a),c=0;c<yi.length;c++)p=yi[c],p.blockedOn===s&&(p.blockedOn=null);for(;0<yi.length&&(c=yi[0],c.blockedOn===null);)ch(c),c.blockedOn===null&&yi.shift()}var Bi=J.ReactCurrentBatchConfig,Ns=!0;function Ct(s,a,c,p){var g=ot,w=Bi.transition;Bi.transition=null;try{ot=1,mu(s,a,c,p)}finally{ot=g,Bi.transition=w}}function fp(s,a,c,p){var g=ot,w=Bi.transition;Bi.transition=null;try{ot=4,mu(s,a,c,p)}finally{ot=g,Bi.transition=w}}function mu(s,a,c,p){if(Ns){var g=Va(s,a,c,p);if(g===null)bp(s,a,p,Uo,c),uh(s,p);else if(dp(g,s,a,c,p))p.stopPropagation();else if(uh(s,p),a&4&&-1<hp.indexOf(s)){for(;g!==null;){var w=Pu(g);if(w!==null&&sh(w),w=Va(s,a,c,p),w===null&&bp(s,a,p,Uo,c),w===g)break;g=w}g!==null&&p.stopPropagation()}else bp(s,a,p,null,c)}}var Uo=null;function Va(s,a,c,p){if(Uo=null,s=zr(p),s=zo(s),s!==null)if(a=ye(s),a===null)s=null;else if(c=a.tag,c===13){if(s=je(a),s!==null)return s;s=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return Uo=s,null}function gu(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Is()){case fr:return 1;case In:return 4;case yn:case pi:return 16;case et:return 536870912;default:return 16}default:return 16}}var mr=null,ja=null,Yn=null;function yu(){if(Yn)return Yn;var s,a=ja,c=a.length,p,g="value"in mr?mr.value:mr.textContent,w=g.length;for(s=0;s<c&&a[s]===g[s];s++);var S=c-s;for(p=1;p<=S&&a[c-p]===g[w-p];p++);return Yn=g.slice(s,1<p?1-p:void 0)}function Fa(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function vi(){return!0}function vu(){return!1}function _n(s){function a(c,p,g,w,S){this._reactName=c,this._targetInst=g,this.type=p,this.nativeEvent=w,this.target=S,this.currentTarget=null;for(var N in s)s.hasOwnProperty(N)&&(c=s[N],this[N]=c?c(w):w[N]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?vi:vu,this.isPropagationStopped=vu,this}return L(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=vi)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=vi)},persist:function(){},isPersistent:vi}),a}var Kr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ua=_n(Kr),_i=L({},Kr,{view:0,detail:0}),pp=_n(_i),$a,zi,Ms,$o=L({},_i,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wi,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ms&&(Ms&&s.type==="mousemove"?($a=s.screenX-Ms.screenX,zi=s.screenY-Ms.screenY):zi=$a=0,Ms=s),$a)},movementY:function(s){return"movementY"in s?s.movementY:zi}}),Ba=_n($o),_u=L({},$o,{dataTransfer:0}),dh=_n(_u),za=L({},_i,{relatedTarget:0}),qa=_n(za),fh=L({},Kr,{animationName:0,elapsedTime:0,pseudoElement:0}),qi=_n(fh),ph=L({},Kr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),mh=_n(ph),gh=L({},Kr,{data:0}),wu=_n(gh),Wa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vh(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=yh[s])?!!a[s]:!1}function wi(){return vh}var d=L({},_i,{key:function(s){if(s.key){var a=Wa[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Fa(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?zn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wi,charCode:function(s){return s.type==="keypress"?Fa(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Fa(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),_=_n(d),E=L({},$o,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=_n(E),H=L({},_i,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wi}),ee=_n(H),ce=L({},Kr,{propertyName:0,elapsedTime:0,pseudoElement:0}),vt=_n(ce),rn=L({},$o,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ut=_n(rn),cn=[9,13,27,32],Jt=u&&"CompositionEvent"in window,Ar=null;u&&"documentMode"in document&&(Ar=document.documentMode);var gr=u&&"TextEvent"in window&&!Ar,Bo=u&&(!Jt||Ar&&8<Ar&&11>=Ar),Ha=" ",x_=!1;function k_(s,a){switch(s){case"keyup":return cn.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function I_(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ga=!1;function ZA(s,a){switch(s){case"compositionend":return I_(a);case"keypress":return a.which!==32?null:(x_=!0,Ha);case"textInput":return s=a.data,s===Ha&&x_?null:s;default:return null}}function eP(s,a){if(Ga)return s==="compositionend"||!Jt&&k_(s,a)?(s=yu(),Yn=ja=mr=null,Ga=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Bo&&a.locale!=="ko"?null:a.data;default:return null}}var tP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function A_(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!tP[s.type]:a==="textarea"}function P_(s,a,c,p){hr(p),a=Sh(a,"onChange"),0<a.length&&(c=new Ua("onChange","change",null,c,p),s.push({event:c,listeners:a}))}var Eu=null,Tu=null;function nP(s){G_(s,0)}function _h(s){var a=Ya(s);if(wt(a))return s}function rP(s,a){if(s==="change")return a}var R_=!1;if(u){var mp;if(u){var gp="oninput"in document;if(!gp){var C_=document.createElement("div");C_.setAttribute("oninput","return;"),gp=typeof C_.oninput=="function"}mp=gp}else mp=!1;R_=mp&&(!document.documentMode||9<document.documentMode)}function D_(){Eu&&(Eu.detachEvent("onpropertychange",O_),Tu=Eu=null)}function O_(s){if(s.propertyName==="value"&&_h(Tu)){var a=[];P_(a,Tu,s,zr(s)),Mo(nP,a)}}function iP(s,a,c){s==="focusin"?(D_(),Eu=a,Tu=c,Eu.attachEvent("onpropertychange",O_)):s==="focusout"&&D_()}function sP(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return _h(Tu)}function oP(s,a){if(s==="click")return _h(a)}function aP(s,a){if(s==="input"||s==="change")return _h(a)}function lP(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Qr=typeof Object.is=="function"?Object.is:lP;function Su(s,a){if(Qr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var c=Object.keys(s),p=Object.keys(a);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var g=c[p];if(!h.call(a,g)||!Qr(s[g],a[g]))return!1}return!0}function N_(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function M_(s,a){var c=N_(s);s=0;for(var p;c;){if(c.nodeType===3){if(p=s+c.textContent.length,s<=a&&p>=a)return{node:c,offset:a-s};s=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=N_(c)}}function L_(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?L_(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function V_(){for(var s=window,a=$n();a instanceof s.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)s=a.contentWindow;else break;a=$n(s.document)}return a}function yp(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function uP(s){var a=V_(),c=s.focusedElem,p=s.selectionRange;if(a!==c&&c&&c.ownerDocument&&L_(c.ownerDocument.documentElement,c)){if(p!==null&&yp(c)){if(a=p.start,s=p.end,s===void 0&&(s=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(s,c.value.length);else if(s=(a=c.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var g=c.textContent.length,w=Math.min(p.start,g);p=p.end===void 0?w:Math.min(p.end,g),!s.extend&&w>p&&(g=p,p=w,w=g),g=M_(c,w);var S=M_(c,p);g&&S&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==S.node||s.focusOffset!==S.offset)&&(a=a.createRange(),a.setStart(g.node,g.offset),s.removeAllRanges(),w>p?(s.addRange(a),s.extend(S.node,S.offset)):(a.setEnd(S.node,S.offset),s.addRange(a)))}}for(a=[],s=c;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)s=a[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var cP=u&&"documentMode"in document&&11>=document.documentMode,Ka=null,vp=null,bu=null,_p=!1;function j_(s,a,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;_p||Ka==null||Ka!==$n(p)||(p=Ka,"selectionStart"in p&&yp(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),bu&&Su(bu,p)||(bu=p,p=Sh(vp,"onSelect"),0<p.length&&(a=new Ua("onSelect","select",null,a,c),s.push({event:a,listeners:p}),a.target=Ka)))}function wh(s,a){var c={};return c[s.toLowerCase()]=a.toLowerCase(),c["Webkit"+s]="webkit"+a,c["Moz"+s]="moz"+a,c}var Qa={animationend:wh("Animation","AnimationEnd"),animationiteration:wh("Animation","AnimationIteration"),animationstart:wh("Animation","AnimationStart"),transitionend:wh("Transition","TransitionEnd")},wp={},F_={};u&&(F_=document.createElement("div").style,"AnimationEvent"in window||(delete Qa.animationend.animation,delete Qa.animationiteration.animation,delete Qa.animationstart.animation),"TransitionEvent"in window||delete Qa.transitionend.transition);function Eh(s){if(wp[s])return wp[s];if(!Qa[s])return s;var a=Qa[s],c;for(c in a)if(a.hasOwnProperty(c)&&c in F_)return wp[s]=a[c];return s}var U_=Eh("animationend"),$_=Eh("animationiteration"),B_=Eh("animationstart"),z_=Eh("transitionend"),q_=new Map,W_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ls(s,a){q_.set(s,a),o(a,[s])}for(var Ep=0;Ep<W_.length;Ep++){var Tp=W_[Ep],hP=Tp.toLowerCase(),dP=Tp[0].toUpperCase()+Tp.slice(1);Ls(hP,"on"+dP)}Ls(U_,"onAnimationEnd"),Ls($_,"onAnimationIteration"),Ls(B_,"onAnimationStart"),Ls("dblclick","onDoubleClick"),Ls("focusin","onFocus"),Ls("focusout","onBlur"),Ls(z_,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fP=new Set("cancel close invalid load scroll toggle".split(" ").concat(xu));function H_(s,a,c){var p=s.type||"unknown-event";s.currentTarget=c,ge(p,a,void 0,s),s.currentTarget=null}function G_(s,a){a=(a&4)!==0;for(var c=0;c<s.length;c++){var p=s[c],g=p.event;p=p.listeners;e:{var w=void 0;if(a)for(var S=p.length-1;0<=S;S--){var N=p[S],F=N.instance,Y=N.currentTarget;if(N=N.listener,F!==w&&g.isPropagationStopped())break e;H_(g,N,Y),w=F}else for(S=0;S<p.length;S++){if(N=p[S],F=N.instance,Y=N.currentTarget,N=N.listener,F!==w&&g.isPropagationStopped())break e;H_(g,N,Y),w=F}}}if(we)throw s=Oe,we=!1,Oe=null,s}function kt(s,a){var c=a[Rp];c===void 0&&(c=a[Rp]=new Set);var p=s+"__bubble";c.has(p)||(K_(a,s,2,!1),c.add(p))}function Sp(s,a,c){var p=0;a&&(p|=4),K_(c,s,p,a)}var Th="_reactListening"+Math.random().toString(36).slice(2);function ku(s){if(!s[Th]){s[Th]=!0,r.forEach(function(c){c!=="selectionchange"&&(fP.has(c)||Sp(c,!1,s),Sp(c,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Th]||(a[Th]=!0,Sp("selectionchange",!1,a))}}function K_(s,a,c,p){switch(gu(a)){case 1:var g=Ct;break;case 4:g=fp;break;default:g=mu}c=g.bind(null,a,c,s),g=void 0,!V||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),p?g!==void 0?s.addEventListener(a,c,{capture:!0,passive:g}):s.addEventListener(a,c,!0):g!==void 0?s.addEventListener(a,c,{passive:g}):s.addEventListener(a,c,!1)}function bp(s,a,c,p,g){var w=p;if((a&1)===0&&(a&2)===0&&p!==null)e:for(;;){if(p===null)return;var S=p.tag;if(S===3||S===4){var N=p.stateNode.containerInfo;if(N===g||N.nodeType===8&&N.parentNode===g)break;if(S===4)for(S=p.return;S!==null;){var F=S.tag;if((F===3||F===4)&&(F=S.stateNode.containerInfo,F===g||F.nodeType===8&&F.parentNode===g))return;S=S.return}for(;N!==null;){if(S=zo(N),S===null)return;if(F=S.tag,F===5||F===6){p=w=S;continue e}N=N.parentNode}}p=p.return}Mo(function(){var Y=w,ae=zr(c),le=[];e:{var oe=q_.get(s);if(oe!==void 0){var me=Ua,be=s;switch(s){case"keypress":if(Fa(c)===0)break e;case"keydown":case"keyup":me=_;break;case"focusin":be="focus",me=qa;break;case"focusout":be="blur",me=qa;break;case"beforeblur":case"afterblur":me=qa;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=Ba;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=dh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=ee;break;case U_:case $_:case B_:me=qi;break;case z_:me=vt;break;case"scroll":me=pp;break;case"wheel":me=ut;break;case"copy":case"cut":case"paste":me=mh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=I}var Ie=(a&4)!==0,Ht=!Ie&&s==="scroll",G=Ie?oe!==null?oe+"Capture":null:oe;Ie=[];for(var z=Y,K;z!==null;){K=z;var ue=K.stateNode;if(K.tag===5&&ue!==null&&(K=ue,G!==null&&(ue=Lt(z,G),ue!=null&&Ie.push(Iu(z,ue,K)))),Ht)break;z=z.return}0<Ie.length&&(oe=new me(oe,be,null,c,ae),le.push({event:oe,listeners:Ie}))}}if((a&7)===0){e:{if(oe=s==="mouseover"||s==="pointerover",me=s==="mouseout"||s==="pointerout",oe&&c!==ci&&(be=c.relatedTarget||c.fromElement)&&(zo(be)||be[Wi]))break e;if((me||oe)&&(oe=ae.window===ae?ae:(oe=ae.ownerDocument)?oe.defaultView||oe.parentWindow:window,me?(be=c.relatedTarget||c.toElement,me=Y,be=be?zo(be):null,be!==null&&(Ht=ye(be),be!==Ht||be.tag!==5&&be.tag!==6)&&(be=null)):(me=null,be=Y),me!==be)){if(Ie=Ba,ue="onMouseLeave",G="onMouseEnter",z="mouse",(s==="pointerout"||s==="pointerover")&&(Ie=I,ue="onPointerLeave",G="onPointerEnter",z="pointer"),Ht=me==null?oe:Ya(me),K=be==null?oe:Ya(be),oe=new Ie(ue,z+"leave",me,c,ae),oe.target=Ht,oe.relatedTarget=K,ue=null,zo(ae)===Y&&(Ie=new Ie(G,z+"enter",be,c,ae),Ie.target=K,Ie.relatedTarget=Ht,ue=Ie),Ht=ue,me&&be)t:{for(Ie=me,G=be,z=0,K=Ie;K;K=Ja(K))z++;for(K=0,ue=G;ue;ue=Ja(ue))K++;for(;0<z-K;)Ie=Ja(Ie),z--;for(;0<K-z;)G=Ja(G),K--;for(;z--;){if(Ie===G||G!==null&&Ie===G.alternate)break t;Ie=Ja(Ie),G=Ja(G)}Ie=null}else Ie=null;me!==null&&Q_(le,oe,me,Ie,!1),be!==null&&Ht!==null&&Q_(le,Ht,be,Ie,!0)}}e:{if(oe=Y?Ya(Y):window,me=oe.nodeName&&oe.nodeName.toLowerCase(),me==="select"||me==="input"&&oe.type==="file")var Pe=rP;else if(A_(oe))if(R_)Pe=aP;else{Pe=sP;var Ne=iP}else(me=oe.nodeName)&&me.toLowerCase()==="input"&&(oe.type==="checkbox"||oe.type==="radio")&&(Pe=oP);if(Pe&&(Pe=Pe(s,Y))){P_(le,Pe,c,ae);break e}Ne&&Ne(s,oe,Y),s==="focusout"&&(Ne=oe._wrapperState)&&Ne.controlled&&oe.type==="number"&&Vi(oe,"number",oe.value)}switch(Ne=Y?Ya(Y):window,s){case"focusin":(A_(Ne)||Ne.contentEditable==="true")&&(Ka=Ne,vp=Y,bu=null);break;case"focusout":bu=vp=Ka=null;break;case"mousedown":_p=!0;break;case"contextmenu":case"mouseup":case"dragend":_p=!1,j_(le,c,ae);break;case"selectionchange":if(cP)break;case"keydown":case"keyup":j_(le,c,ae)}var Me;if(Jt)e:{switch(s){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else Ga?k_(s,c)&&(Ue="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Ue="onCompositionStart");Ue&&(Bo&&c.locale!=="ko"&&(Ga||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&Ga&&(Me=yu()):(mr=ae,ja="value"in mr?mr.value:mr.textContent,Ga=!0)),Ne=Sh(Y,Ue),0<Ne.length&&(Ue=new wu(Ue,s,null,c,ae),le.push({event:Ue,listeners:Ne}),Me?Ue.data=Me:(Me=I_(c),Me!==null&&(Ue.data=Me)))),(Me=gr?ZA(s,c):eP(s,c))&&(Y=Sh(Y,"onBeforeInput"),0<Y.length&&(ae=new wu("onBeforeInput","beforeinput",null,c,ae),le.push({event:ae,listeners:Y}),ae.data=Me))}G_(le,a)})}function Iu(s,a,c){return{instance:s,listener:a,currentTarget:c}}function Sh(s,a){for(var c=a+"Capture",p=[];s!==null;){var g=s,w=g.stateNode;g.tag===5&&w!==null&&(g=w,w=Lt(s,c),w!=null&&p.unshift(Iu(s,w,g)),w=Lt(s,a),w!=null&&p.push(Iu(s,w,g))),s=s.return}return p}function Ja(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Q_(s,a,c,p,g){for(var w=a._reactName,S=[];c!==null&&c!==p;){var N=c,F=N.alternate,Y=N.stateNode;if(F!==null&&F===p)break;N.tag===5&&Y!==null&&(N=Y,g?(F=Lt(c,w),F!=null&&S.unshift(Iu(c,F,N))):g||(F=Lt(c,w),F!=null&&S.push(Iu(c,F,N)))),c=c.return}S.length!==0&&s.push({event:a,listeners:S})}var pP=/\r\n?/g,mP=/\u0000|\uFFFD/g;function J_(s){return(typeof s=="string"?s:""+s).replace(pP,`
`).replace(mP,"")}function bh(s,a,c){if(a=J_(a),J_(s)!==a&&c)throw Error(t(425))}function xh(){}var xp=null,kp=null;function Ip(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Ap=typeof setTimeout=="function"?setTimeout:void 0,gP=typeof clearTimeout=="function"?clearTimeout:void 0,X_=typeof Promise=="function"?Promise:void 0,yP=typeof queueMicrotask=="function"?queueMicrotask:typeof X_<"u"?function(s){return X_.resolve(null).then(s).catch(vP)}:Ap;function vP(s){setTimeout(function(){throw s})}function Pp(s,a){var c=a,p=0;do{var g=c.nextSibling;if(s.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(p===0){s.removeChild(g),Gr(a);return}p--}else c!=="$"&&c!=="$?"&&c!=="$!"||p++;c=g}while(c);Gr(a)}function Vs(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function Y_(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return s;a--}else c==="/$"&&a++}s=s.previousSibling}return null}var Xa=Math.random().toString(36).slice(2),Ei="__reactFiber$"+Xa,Au="__reactProps$"+Xa,Wi="__reactContainer$"+Xa,Rp="__reactEvents$"+Xa,_P="__reactListeners$"+Xa,wP="__reactHandles$"+Xa;function zo(s){var a=s[Ei];if(a)return a;for(var c=s.parentNode;c;){if(a=c[Wi]||c[Ei]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(s=Y_(s);s!==null;){if(c=s[Ei])return c;s=Y_(s)}return a}s=c,c=s.parentNode}return null}function Pu(s){return s=s[Ei]||s[Wi],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ya(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function kh(s){return s[Au]||null}var Cp=[],Za=-1;function js(s){return{current:s}}function It(s){0>Za||(s.current=Cp[Za],Cp[Za]=null,Za--)}function St(s,a){Za++,Cp[Za]=s.current,s.current=a}var Fs={},An=js(Fs),Zn=js(!1),qo=Fs;function el(s,a){var c=s.type.contextTypes;if(!c)return Fs;var p=s.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===a)return p.__reactInternalMemoizedMaskedChildContext;var g={},w;for(w in c)g[w]=a[w];return p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=g),g}function er(s){return s=s.childContextTypes,s!=null}function Ih(){It(Zn),It(An)}function Z_(s,a,c){if(An.current!==Fs)throw Error(t(168));St(An,a),St(Zn,c)}function e0(s,a,c){var p=s.stateNode;if(a=a.childContextTypes,typeof p.getChildContext!="function")return c;p=p.getChildContext();for(var g in p)if(!(g in a))throw Error(t(108,Re(s)||"Unknown",g));return L({},c,p)}function Ah(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Fs,qo=An.current,St(An,s),St(Zn,Zn.current),!0}function t0(s,a,c){var p=s.stateNode;if(!p)throw Error(t(169));c?(s=e0(s,a,qo),p.__reactInternalMemoizedMergedChildContext=s,It(Zn),It(An),St(An,s)):It(Zn),St(Zn,c)}var Hi=null,Ph=!1,Dp=!1;function n0(s){Hi===null?Hi=[s]:Hi.push(s)}function EP(s){Ph=!0,n0(s)}function Us(){if(!Dp&&Hi!==null){Dp=!0;var s=0,a=ot;try{var c=Hi;for(ot=1;s<c.length;s++){var p=c[s];do p=p(!0);while(p!==null)}Hi=null,Ph=!1}catch(g){throw Hi!==null&&(Hi=Hi.slice(s+1)),yt(fr,Us),g}finally{ot=a,Dp=!1}}return null}var tl=[],nl=0,Rh=null,Ch=0,Pr=[],Rr=0,Wo=null,Gi=1,Ki="";function Ho(s,a){tl[nl++]=Ch,tl[nl++]=Rh,Rh=s,Ch=a}function r0(s,a,c){Pr[Rr++]=Gi,Pr[Rr++]=Ki,Pr[Rr++]=Wo,Wo=s;var p=Gi;s=Ki;var g=32-rt(p)-1;p&=~(1<<g),c+=1;var w=32-rt(a)+g;if(30<w){var S=g-g%5;w=(p&(1<<S)-1).toString(32),p>>=S,g-=S,Gi=1<<32-rt(a)+g|c<<g|p,Ki=w+s}else Gi=1<<w|c<<g|p,Ki=s}function Op(s){s.return!==null&&(Ho(s,1),r0(s,1,0))}function Np(s){for(;s===Rh;)Rh=tl[--nl],tl[nl]=null,Ch=tl[--nl],tl[nl]=null;for(;s===Wo;)Wo=Pr[--Rr],Pr[Rr]=null,Ki=Pr[--Rr],Pr[Rr]=null,Gi=Pr[--Rr],Pr[Rr]=null}var yr=null,vr=null,Dt=!1,Jr=null;function i0(s,a){var c=Nr(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=s,a=s.deletions,a===null?(s.deletions=[c],s.flags|=16):a.push(c)}function s0(s,a){switch(s.tag){case 5:var c=s.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,yr=s,vr=Vs(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,yr=s,vr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=Wo!==null?{id:Gi,overflow:Ki}:null,s.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=Nr(18,null,null,0),c.stateNode=a,c.return=s,s.child=c,yr=s,vr=null,!0):!1;default:return!1}}function Mp(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Lp(s){if(Dt){var a=vr;if(a){var c=a;if(!s0(s,a)){if(Mp(s))throw Error(t(418));a=Vs(c.nextSibling);var p=yr;a&&s0(s,a)?i0(p,c):(s.flags=s.flags&-4097|2,Dt=!1,yr=s)}}else{if(Mp(s))throw Error(t(418));s.flags=s.flags&-4097|2,Dt=!1,yr=s}}}function o0(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;yr=s}function Dh(s){if(s!==yr)return!1;if(!Dt)return o0(s),Dt=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!Ip(s.type,s.memoizedProps)),a&&(a=vr)){if(Mp(s))throw a0(),Error(t(418));for(;a;)i0(s,a),a=Vs(a.nextSibling)}if(o0(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(a===0){vr=Vs(s.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}s=s.nextSibling}vr=null}}else vr=yr?Vs(s.stateNode.nextSibling):null;return!0}function a0(){for(var s=vr;s;)s=Vs(s.nextSibling)}function rl(){vr=yr=null,Dt=!1}function Vp(s){Jr===null?Jr=[s]:Jr.push(s)}var TP=J.ReactCurrentBatchConfig;function Xr(s,a){if(s&&s.defaultProps){a=L({},a),s=s.defaultProps;for(var c in s)a[c]===void 0&&(a[c]=s[c]);return a}return a}var Oh=js(null),Nh=null,il=null,jp=null;function Fp(){jp=il=Nh=null}function Up(s){var a=Oh.current;It(Oh),s._currentValue=a}function $p(s,a,c){for(;s!==null;){var p=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),s===c)break;s=s.return}}function sl(s,a){Nh=s,jp=il=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(tr=!0),s.firstContext=null)}function Cr(s){var a=s._currentValue;if(jp!==s)if(s={context:s,memoizedValue:a,next:null},il===null){if(Nh===null)throw Error(t(308));il=s,Nh.dependencies={lanes:0,firstContext:s}}else il=il.next=s;return a}var Go=null;function Bp(s){Go===null?Go=[s]:Go.push(s)}function l0(s,a,c,p){var g=a.interleaved;return g===null?(c.next=c,Bp(a)):(c.next=g.next,g.next=c),a.interleaved=c,Qi(s,p)}function Qi(s,a){s.lanes|=a;var c=s.alternate;for(c!==null&&(c.lanes|=a),c=s,s=s.return;s!==null;)s.childLanes|=a,c=s.alternate,c!==null&&(c.childLanes|=a),c=s,s=s.return;return c.tag===3?c.stateNode:null}var $s=!1;function zp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function u0(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Ji(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function Bs(s,a,c){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,(ht&2)!==0){var g=p.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),p.pending=a,Qi(s,c)}return g=p.interleaved,g===null?(a.next=a,Bp(p)):(a.next=g.next,g.next=a),p.interleaved=a,Qi(s,c)}function Mh(s,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var p=a.lanes;p&=s.pendingLanes,c|=p,a.lanes=c,Cs(s,c)}}function c0(s,a){var c=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var g=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var S={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};w===null?g=w=S:w=w.next=S,c=c.next}while(c!==null);w===null?g=w=a:w=w.next=a}else g=w=a;c={baseState:p.baseState,firstBaseUpdate:g,lastBaseUpdate:w,shared:p.shared,effects:p.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=a}function Lh(s,a,c,p){var g=s.updateQueue;$s=!1;var w=g.firstBaseUpdate,S=g.lastBaseUpdate,N=g.shared.pending;if(N!==null){g.shared.pending=null;var F=N,Y=F.next;F.next=null,S===null?w=Y:S.next=Y,S=F;var ae=s.alternate;ae!==null&&(ae=ae.updateQueue,N=ae.lastBaseUpdate,N!==S&&(N===null?ae.firstBaseUpdate=Y:N.next=Y,ae.lastBaseUpdate=F))}if(w!==null){var le=g.baseState;S=0,ae=Y=F=null,N=w;do{var oe=N.lane,me=N.eventTime;if((p&oe)===oe){ae!==null&&(ae=ae.next={eventTime:me,lane:0,tag:N.tag,payload:N.payload,callback:N.callback,next:null});e:{var be=s,Ie=N;switch(oe=a,me=c,Ie.tag){case 1:if(be=Ie.payload,typeof be=="function"){le=be.call(me,le,oe);break e}le=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=Ie.payload,oe=typeof be=="function"?be.call(me,le,oe):be,oe==null)break e;le=L({},le,oe);break e;case 2:$s=!0}}N.callback!==null&&N.lane!==0&&(s.flags|=64,oe=g.effects,oe===null?g.effects=[N]:oe.push(N))}else me={eventTime:me,lane:oe,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ae===null?(Y=ae=me,F=le):ae=ae.next=me,S|=oe;if(N=N.next,N===null){if(N=g.shared.pending,N===null)break;oe=N,N=oe.next,oe.next=null,g.lastBaseUpdate=oe,g.shared.pending=null}}while(!0);if(ae===null&&(F=le),g.baseState=F,g.firstBaseUpdate=Y,g.lastBaseUpdate=ae,a=g.shared.interleaved,a!==null){g=a;do S|=g.lane,g=g.next;while(g!==a)}else w===null&&(g.shared.lanes=0);Jo|=S,s.lanes=S,s.memoizedState=le}}function h0(s,a,c){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var p=s[a],g=p.callback;if(g!==null){if(p.callback=null,p=c,typeof g!="function")throw Error(t(191,g));g.call(p)}}}var d0=new n.Component().refs;function qp(s,a,c,p){a=s.memoizedState,c=c(p,a),c=c==null?a:L({},a,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var Vh={isMounted:function(s){return(s=s._reactInternals)?ye(s)===s:!1},enqueueSetState:function(s,a,c){s=s._reactInternals;var p=Wn(),g=Hs(s),w=Ji(p,g);w.payload=a,c!=null&&(w.callback=c),a=Bs(s,w,g),a!==null&&(ei(a,s,g,p),Mh(a,s,g))},enqueueReplaceState:function(s,a,c){s=s._reactInternals;var p=Wn(),g=Hs(s),w=Ji(p,g);w.tag=1,w.payload=a,c!=null&&(w.callback=c),a=Bs(s,w,g),a!==null&&(ei(a,s,g,p),Mh(a,s,g))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var c=Wn(),p=Hs(s),g=Ji(c,p);g.tag=2,a!=null&&(g.callback=a),a=Bs(s,g,p),a!==null&&(ei(a,s,p,c),Mh(a,s,p))}};function f0(s,a,c,p,g,w,S){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,w,S):a.prototype&&a.prototype.isPureReactComponent?!Su(c,p)||!Su(g,w):!0}function p0(s,a,c){var p=!1,g=Fs,w=a.contextType;return typeof w=="object"&&w!==null?w=Cr(w):(g=er(a)?qo:An.current,p=a.contextTypes,w=(p=p!=null)?el(s,g):Fs),a=new a(c,w),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Vh,s.stateNode=a,a._reactInternals=s,p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=w),a}function m0(s,a,c,p){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,p),a.state!==s&&Vh.enqueueReplaceState(a,a.state,null)}function Wp(s,a,c,p){var g=s.stateNode;g.props=c,g.state=s.memoizedState,g.refs=d0,zp(s);var w=a.contextType;typeof w=="object"&&w!==null?g.context=Cr(w):(w=er(a)?qo:An.current,g.context=el(s,w)),g.state=s.memoizedState,w=a.getDerivedStateFromProps,typeof w=="function"&&(qp(s,a,w,c),g.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(a=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),a!==g.state&&Vh.enqueueReplaceState(g,g.state,null),Lh(s,c,g,p),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function Ru(s,a,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var p=c.stateNode}if(!p)throw Error(t(147,s));var g=p,w=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===w?a.ref:(a=function(S){var N=g.refs;N===d0&&(N=g.refs={}),S===null?delete N[w]:N[w]=S},a._stringRef=w,a)}if(typeof s!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,s))}return s}function jh(s,a){throw s=Object.prototype.toString.call(a),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function g0(s){var a=s._init;return a(s._payload)}function y0(s){function a(G,z){if(s){var K=G.deletions;K===null?(G.deletions=[z],G.flags|=16):K.push(z)}}function c(G,z){if(!s)return null;for(;z!==null;)a(G,z),z=z.sibling;return null}function p(G,z){for(G=new Map;z!==null;)z.key!==null?G.set(z.key,z):G.set(z.index,z),z=z.sibling;return G}function g(G,z){return G=Ks(G,z),G.index=0,G.sibling=null,G}function w(G,z,K){return G.index=K,s?(K=G.alternate,K!==null?(K=K.index,K<z?(G.flags|=2,z):K):(G.flags|=2,z)):(G.flags|=1048576,z)}function S(G){return s&&G.alternate===null&&(G.flags|=2),G}function N(G,z,K,ue){return z===null||z.tag!==6?(z=Am(K,G.mode,ue),z.return=G,z):(z=g(z,K),z.return=G,z)}function F(G,z,K,ue){var Pe=K.type;return Pe===x?ae(G,z,K.props.children,ue,K.key):z!==null&&(z.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===dt&&g0(Pe)===z.type)?(ue=g(z,K.props),ue.ref=Ru(G,z,K),ue.return=G,ue):(ue=rd(K.type,K.key,K.props,null,G.mode,ue),ue.ref=Ru(G,z,K),ue.return=G,ue)}function Y(G,z,K,ue){return z===null||z.tag!==4||z.stateNode.containerInfo!==K.containerInfo||z.stateNode.implementation!==K.implementation?(z=Pm(K,G.mode,ue),z.return=G,z):(z=g(z,K.children||[]),z.return=G,z)}function ae(G,z,K,ue,Pe){return z===null||z.tag!==7?(z=ea(K,G.mode,ue,Pe),z.return=G,z):(z=g(z,K),z.return=G,z)}function le(G,z,K){if(typeof z=="string"&&z!==""||typeof z=="number")return z=Am(""+z,G.mode,K),z.return=G,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Z:return K=rd(z.type,z.key,z.props,null,G.mode,K),K.ref=Ru(G,null,z),K.return=G,K;case ne:return z=Pm(z,G.mode,K),z.return=G,z;case dt:var ue=z._init;return le(G,ue(z._payload),K)}if(Fr(z)||Se(z))return z=ea(z,G.mode,K,null),z.return=G,z;jh(G,z)}return null}function oe(G,z,K,ue){var Pe=z!==null?z.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return Pe!==null?null:N(G,z,""+K,ue);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Z:return K.key===Pe?F(G,z,K,ue):null;case ne:return K.key===Pe?Y(G,z,K,ue):null;case dt:return Pe=K._init,oe(G,z,Pe(K._payload),ue)}if(Fr(K)||Se(K))return Pe!==null?null:ae(G,z,K,ue,null);jh(G,K)}return null}function me(G,z,K,ue,Pe){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return G=G.get(K)||null,N(z,G,""+ue,Pe);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case Z:return G=G.get(ue.key===null?K:ue.key)||null,F(z,G,ue,Pe);case ne:return G=G.get(ue.key===null?K:ue.key)||null,Y(z,G,ue,Pe);case dt:var Ne=ue._init;return me(G,z,K,Ne(ue._payload),Pe)}if(Fr(ue)||Se(ue))return G=G.get(K)||null,ae(z,G,ue,Pe,null);jh(z,ue)}return null}function be(G,z,K,ue){for(var Pe=null,Ne=null,Me=z,Ue=z=0,fn=null;Me!==null&&Ue<K.length;Ue++){Me.index>Ue?(fn=Me,Me=null):fn=Me.sibling;var pt=oe(G,Me,K[Ue],ue);if(pt===null){Me===null&&(Me=fn);break}s&&Me&&pt.alternate===null&&a(G,Me),z=w(pt,z,Ue),Ne===null?Pe=pt:Ne.sibling=pt,Ne=pt,Me=fn}if(Ue===K.length)return c(G,Me),Dt&&Ho(G,Ue),Pe;if(Me===null){for(;Ue<K.length;Ue++)Me=le(G,K[Ue],ue),Me!==null&&(z=w(Me,z,Ue),Ne===null?Pe=Me:Ne.sibling=Me,Ne=Me);return Dt&&Ho(G,Ue),Pe}for(Me=p(G,Me);Ue<K.length;Ue++)fn=me(Me,G,Ue,K[Ue],ue),fn!==null&&(s&&fn.alternate!==null&&Me.delete(fn.key===null?Ue:fn.key),z=w(fn,z,Ue),Ne===null?Pe=fn:Ne.sibling=fn,Ne=fn);return s&&Me.forEach(function(Qs){return a(G,Qs)}),Dt&&Ho(G,Ue),Pe}function Ie(G,z,K,ue){var Pe=Se(K);if(typeof Pe!="function")throw Error(t(150));if(K=Pe.call(K),K==null)throw Error(t(151));for(var Ne=Pe=null,Me=z,Ue=z=0,fn=null,pt=K.next();Me!==null&&!pt.done;Ue++,pt=K.next()){Me.index>Ue?(fn=Me,Me=null):fn=Me.sibling;var Qs=oe(G,Me,pt.value,ue);if(Qs===null){Me===null&&(Me=fn);break}s&&Me&&Qs.alternate===null&&a(G,Me),z=w(Qs,z,Ue),Ne===null?Pe=Qs:Ne.sibling=Qs,Ne=Qs,Me=fn}if(pt.done)return c(G,Me),Dt&&Ho(G,Ue),Pe;if(Me===null){for(;!pt.done;Ue++,pt=K.next())pt=le(G,pt.value,ue),pt!==null&&(z=w(pt,z,Ue),Ne===null?Pe=pt:Ne.sibling=pt,Ne=pt);return Dt&&Ho(G,Ue),Pe}for(Me=p(G,Me);!pt.done;Ue++,pt=K.next())pt=me(Me,G,Ue,pt.value,ue),pt!==null&&(s&&pt.alternate!==null&&Me.delete(pt.key===null?Ue:pt.key),z=w(pt,z,Ue),Ne===null?Pe=pt:Ne.sibling=pt,Ne=pt);return s&&Me.forEach(function(tR){return a(G,tR)}),Dt&&Ho(G,Ue),Pe}function Ht(G,z,K,ue){if(typeof K=="object"&&K!==null&&K.type===x&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case Z:e:{for(var Pe=K.key,Ne=z;Ne!==null;){if(Ne.key===Pe){if(Pe=K.type,Pe===x){if(Ne.tag===7){c(G,Ne.sibling),z=g(Ne,K.props.children),z.return=G,G=z;break e}}else if(Ne.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===dt&&g0(Pe)===Ne.type){c(G,Ne.sibling),z=g(Ne,K.props),z.ref=Ru(G,Ne,K),z.return=G,G=z;break e}c(G,Ne);break}else a(G,Ne);Ne=Ne.sibling}K.type===x?(z=ea(K.props.children,G.mode,ue,K.key),z.return=G,G=z):(ue=rd(K.type,K.key,K.props,null,G.mode,ue),ue.ref=Ru(G,z,K),ue.return=G,G=ue)}return S(G);case ne:e:{for(Ne=K.key;z!==null;){if(z.key===Ne)if(z.tag===4&&z.stateNode.containerInfo===K.containerInfo&&z.stateNode.implementation===K.implementation){c(G,z.sibling),z=g(z,K.children||[]),z.return=G,G=z;break e}else{c(G,z);break}else a(G,z);z=z.sibling}z=Pm(K,G.mode,ue),z.return=G,G=z}return S(G);case dt:return Ne=K._init,Ht(G,z,Ne(K._payload),ue)}if(Fr(K))return be(G,z,K,ue);if(Se(K))return Ie(G,z,K,ue);jh(G,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,z!==null&&z.tag===6?(c(G,z.sibling),z=g(z,K),z.return=G,G=z):(c(G,z),z=Am(K,G.mode,ue),z.return=G,G=z),S(G)):c(G,z)}return Ht}var ol=y0(!0),v0=y0(!1),Cu={},Ti=js(Cu),Du=js(Cu),Ou=js(Cu);function Ko(s){if(s===Cu)throw Error(t(174));return s}function Hp(s,a){switch(St(Ou,a),St(Du,s),St(Ti,Cu),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Mt(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=Mt(a,s)}It(Ti),St(Ti,a)}function al(){It(Ti),It(Du),It(Ou)}function _0(s){Ko(Ou.current);var a=Ko(Ti.current),c=Mt(a,s.type);a!==c&&(St(Du,s),St(Ti,c))}function Gp(s){Du.current===s&&(It(Ti),It(Du))}var Vt=js(0);function Fh(s){for(var a=s;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Kp=[];function Qp(){for(var s=0;s<Kp.length;s++)Kp[s]._workInProgressVersionPrimary=null;Kp.length=0}var Uh=J.ReactCurrentDispatcher,Jp=J.ReactCurrentBatchConfig,Qo=0,jt=null,sn=null,hn=null,$h=!1,Nu=!1,Mu=0,SP=0;function Pn(){throw Error(t(321))}function Xp(s,a){if(a===null)return!1;for(var c=0;c<a.length&&c<s.length;c++)if(!Qr(s[c],a[c]))return!1;return!0}function Yp(s,a,c,p,g,w){if(Qo=w,jt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Uh.current=s===null||s.memoizedState===null?IP:AP,s=c(p,g),Nu){w=0;do{if(Nu=!1,Mu=0,25<=w)throw Error(t(301));w+=1,hn=sn=null,a.updateQueue=null,Uh.current=PP,s=c(p,g)}while(Nu)}if(Uh.current=qh,a=sn!==null&&sn.next!==null,Qo=0,hn=sn=jt=null,$h=!1,a)throw Error(t(300));return s}function Zp(){var s=Mu!==0;return Mu=0,s}function Si(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?jt.memoizedState=hn=s:hn=hn.next=s,hn}function Dr(){if(sn===null){var s=jt.alternate;s=s!==null?s.memoizedState:null}else s=sn.next;var a=hn===null?jt.memoizedState:hn.next;if(a!==null)hn=a,sn=s;else{if(s===null)throw Error(t(310));sn=s,s={memoizedState:sn.memoizedState,baseState:sn.baseState,baseQueue:sn.baseQueue,queue:sn.queue,next:null},hn===null?jt.memoizedState=hn=s:hn=hn.next=s}return hn}function Lu(s,a){return typeof a=="function"?a(s):a}function em(s){var a=Dr(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var p=sn,g=p.baseQueue,w=c.pending;if(w!==null){if(g!==null){var S=g.next;g.next=w.next,w.next=S}p.baseQueue=g=w,c.pending=null}if(g!==null){w=g.next,p=p.baseState;var N=S=null,F=null,Y=w;do{var ae=Y.lane;if((Qo&ae)===ae)F!==null&&(F=F.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),p=Y.hasEagerState?Y.eagerState:s(p,Y.action);else{var le={lane:ae,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};F===null?(N=F=le,S=p):F=F.next=le,jt.lanes|=ae,Jo|=ae}Y=Y.next}while(Y!==null&&Y!==w);F===null?S=p:F.next=N,Qr(p,a.memoizedState)||(tr=!0),a.memoizedState=p,a.baseState=S,a.baseQueue=F,c.lastRenderedState=p}if(s=c.interleaved,s!==null){g=s;do w=g.lane,jt.lanes|=w,Jo|=w,g=g.next;while(g!==s)}else g===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function tm(s){var a=Dr(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var p=c.dispatch,g=c.pending,w=a.memoizedState;if(g!==null){c.pending=null;var S=g=g.next;do w=s(w,S.action),S=S.next;while(S!==g);Qr(w,a.memoizedState)||(tr=!0),a.memoizedState=w,a.baseQueue===null&&(a.baseState=w),c.lastRenderedState=w}return[w,p]}function w0(){}function E0(s,a){var c=jt,p=Dr(),g=a(),w=!Qr(p.memoizedState,g);if(w&&(p.memoizedState=g,tr=!0),p=p.queue,nm(b0.bind(null,c,p,s),[s]),p.getSnapshot!==a||w||hn!==null&&hn.memoizedState.tag&1){if(c.flags|=2048,Vu(9,S0.bind(null,c,p,g,a),void 0,null),dn===null)throw Error(t(349));(Qo&30)!==0||T0(c,a,g)}return g}function T0(s,a,c){s.flags|=16384,s={getSnapshot:a,value:c},a=jt.updateQueue,a===null?(a={lastEffect:null,stores:null},jt.updateQueue=a,a.stores=[s]):(c=a.stores,c===null?a.stores=[s]:c.push(s))}function S0(s,a,c,p){a.value=c,a.getSnapshot=p,x0(a)&&k0(s)}function b0(s,a,c){return c(function(){x0(a)&&k0(s)})}function x0(s){var a=s.getSnapshot;s=s.value;try{var c=a();return!Qr(s,c)}catch{return!0}}function k0(s){var a=Qi(s,1);a!==null&&ei(a,s,1,-1)}function I0(s){var a=Si();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lu,lastRenderedState:s},a.queue=s,s=s.dispatch=kP.bind(null,jt,s),[a.memoizedState,s]}function Vu(s,a,c,p){return s={tag:s,create:a,destroy:c,deps:p,next:null},a=jt.updateQueue,a===null?(a={lastEffect:null,stores:null},jt.updateQueue=a,a.lastEffect=s.next=s):(c=a.lastEffect,c===null?a.lastEffect=s.next=s:(p=c.next,c.next=s,s.next=p,a.lastEffect=s)),s}function A0(){return Dr().memoizedState}function Bh(s,a,c,p){var g=Si();jt.flags|=s,g.memoizedState=Vu(1|a,c,void 0,p===void 0?null:p)}function zh(s,a,c,p){var g=Dr();p=p===void 0?null:p;var w=void 0;if(sn!==null){var S=sn.memoizedState;if(w=S.destroy,p!==null&&Xp(p,S.deps)){g.memoizedState=Vu(a,c,w,p);return}}jt.flags|=s,g.memoizedState=Vu(1|a,c,w,p)}function P0(s,a){return Bh(8390656,8,s,a)}function nm(s,a){return zh(2048,8,s,a)}function R0(s,a){return zh(4,2,s,a)}function C0(s,a){return zh(4,4,s,a)}function D0(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function O0(s,a,c){return c=c!=null?c.concat([s]):null,zh(4,4,D0.bind(null,a,s),c)}function rm(){}function N0(s,a){var c=Dr();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&Xp(a,p[1])?p[0]:(c.memoizedState=[s,a],s)}function M0(s,a){var c=Dr();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&Xp(a,p[1])?p[0]:(s=s(),c.memoizedState=[s,a],s)}function L0(s,a,c){return(Qo&21)===0?(s.baseState&&(s.baseState=!1,tr=!0),s.memoizedState=c):(Qr(c,a)||(c=jo(),jt.lanes|=c,Jo|=c,s.baseState=!0),a)}function bP(s,a){var c=ot;ot=c!==0&&4>c?c:4,s(!0);var p=Jp.transition;Jp.transition={};try{s(!1),a()}finally{ot=c,Jp.transition=p}}function V0(){return Dr().memoizedState}function xP(s,a,c){var p=Hs(s);if(c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},j0(s))F0(a,c);else if(c=l0(s,a,c,p),c!==null){var g=Wn();ei(c,s,p,g),U0(c,a,p)}}function kP(s,a,c){var p=Hs(s),g={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if(j0(s))F0(a,g);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=a.lastRenderedReducer,w!==null))try{var S=a.lastRenderedState,N=w(S,c);if(g.hasEagerState=!0,g.eagerState=N,Qr(N,S)){var F=a.interleaved;F===null?(g.next=g,Bp(a)):(g.next=F.next,F.next=g),a.interleaved=g;return}}catch{}finally{}c=l0(s,a,g,p),c!==null&&(g=Wn(),ei(c,s,p,g),U0(c,a,p))}}function j0(s){var a=s.alternate;return s===jt||a!==null&&a===jt}function F0(s,a){Nu=$h=!0;var c=s.pending;c===null?a.next=a:(a.next=c.next,c.next=a),s.pending=a}function U0(s,a,c){if((c&4194240)!==0){var p=a.lanes;p&=s.pendingLanes,c|=p,a.lanes=c,Cs(s,c)}}var qh={readContext:Cr,useCallback:Pn,useContext:Pn,useEffect:Pn,useImperativeHandle:Pn,useInsertionEffect:Pn,useLayoutEffect:Pn,useMemo:Pn,useReducer:Pn,useRef:Pn,useState:Pn,useDebugValue:Pn,useDeferredValue:Pn,useTransition:Pn,useMutableSource:Pn,useSyncExternalStore:Pn,useId:Pn,unstable_isNewReconciler:!1},IP={readContext:Cr,useCallback:function(s,a){return Si().memoizedState=[s,a===void 0?null:a],s},useContext:Cr,useEffect:P0,useImperativeHandle:function(s,a,c){return c=c!=null?c.concat([s]):null,Bh(4194308,4,D0.bind(null,a,s),c)},useLayoutEffect:function(s,a){return Bh(4194308,4,s,a)},useInsertionEffect:function(s,a){return Bh(4,2,s,a)},useMemo:function(s,a){var c=Si();return a=a===void 0?null:a,s=s(),c.memoizedState=[s,a],s},useReducer:function(s,a,c){var p=Si();return a=c!==void 0?c(a):a,p.memoizedState=p.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},p.queue=s,s=s.dispatch=xP.bind(null,jt,s),[p.memoizedState,s]},useRef:function(s){var a=Si();return s={current:s},a.memoizedState=s},useState:I0,useDebugValue:rm,useDeferredValue:function(s){return Si().memoizedState=s},useTransition:function(){var s=I0(!1),a=s[0];return s=bP.bind(null,s[1]),Si().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,c){var p=jt,g=Si();if(Dt){if(c===void 0)throw Error(t(407));c=c()}else{if(c=a(),dn===null)throw Error(t(349));(Qo&30)!==0||T0(p,a,c)}g.memoizedState=c;var w={value:c,getSnapshot:a};return g.queue=w,P0(b0.bind(null,p,w,s),[s]),p.flags|=2048,Vu(9,S0.bind(null,p,w,c,a),void 0,null),c},useId:function(){var s=Si(),a=dn.identifierPrefix;if(Dt){var c=Ki,p=Gi;c=(p&~(1<<32-rt(p)-1)).toString(32)+c,a=":"+a+"R"+c,c=Mu++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=SP++,a=":"+a+"r"+c.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},AP={readContext:Cr,useCallback:N0,useContext:Cr,useEffect:nm,useImperativeHandle:O0,useInsertionEffect:R0,useLayoutEffect:C0,useMemo:M0,useReducer:em,useRef:A0,useState:function(){return em(Lu)},useDebugValue:rm,useDeferredValue:function(s){var a=Dr();return L0(a,sn.memoizedState,s)},useTransition:function(){var s=em(Lu)[0],a=Dr().memoizedState;return[s,a]},useMutableSource:w0,useSyncExternalStore:E0,useId:V0,unstable_isNewReconciler:!1},PP={readContext:Cr,useCallback:N0,useContext:Cr,useEffect:nm,useImperativeHandle:O0,useInsertionEffect:R0,useLayoutEffect:C0,useMemo:M0,useReducer:tm,useRef:A0,useState:function(){return tm(Lu)},useDebugValue:rm,useDeferredValue:function(s){var a=Dr();return sn===null?a.memoizedState=s:L0(a,sn.memoizedState,s)},useTransition:function(){var s=tm(Lu)[0],a=Dr().memoizedState;return[s,a]},useMutableSource:w0,useSyncExternalStore:E0,useId:V0,unstable_isNewReconciler:!1};function ll(s,a){try{var c="",p=a;do c+=Ve(p),p=p.return;while(p);var g=c}catch(w){g=`
Error generating stack: `+w.message+`
`+w.stack}return{value:s,source:a,stack:g,digest:null}}function im(s,a,c){return{value:s,source:null,stack:c??null,digest:a??null}}function sm(s,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var RP=typeof WeakMap=="function"?WeakMap:Map;function $0(s,a,c){c=Ji(-1,c),c.tag=3,c.payload={element:null};var p=a.value;return c.callback=function(){Xh||(Xh=!0,wm=p),sm(s,a)},c}function B0(s,a,c){c=Ji(-1,c),c.tag=3;var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var g=a.value;c.payload=function(){return p(g)},c.callback=function(){sm(s,a)}}var w=s.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(c.callback=function(){sm(s,a),typeof p!="function"&&(qs===null?qs=new Set([this]):qs.add(this));var S=a.stack;this.componentDidCatch(a.value,{componentStack:S!==null?S:""})}),c}function z0(s,a,c){var p=s.pingCache;if(p===null){p=s.pingCache=new RP;var g=new Set;p.set(a,g)}else g=p.get(a),g===void 0&&(g=new Set,p.set(a,g));g.has(c)||(g.add(c),s=qP.bind(null,s,a,c),a.then(s,s))}function q0(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function W0(s,a,c,p,g){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=Ji(-1,1),a.tag=2,Bs(c,a,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=g,s)}var CP=J.ReactCurrentOwner,tr=!1;function qn(s,a,c,p){a.child=s===null?v0(a,null,c,p):ol(a,s.child,c,p)}function H0(s,a,c,p,g){c=c.render;var w=a.ref;return sl(a,g),p=Yp(s,a,c,p,w,g),c=Zp(),s!==null&&!tr?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,Xi(s,a,g)):(Dt&&c&&Op(a),a.flags|=1,qn(s,a,p,g),a.child)}function G0(s,a,c,p,g){if(s===null){var w=c.type;return typeof w=="function"&&!Im(w)&&w.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=w,K0(s,a,w,p,g)):(s=rd(c.type,null,p,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(w=s.child,(s.lanes&g)===0){var S=w.memoizedProps;if(c=c.compare,c=c!==null?c:Su,c(S,p)&&s.ref===a.ref)return Xi(s,a,g)}return a.flags|=1,s=Ks(w,p),s.ref=a.ref,s.return=a,a.child=s}function K0(s,a,c,p,g){if(s!==null){var w=s.memoizedProps;if(Su(w,p)&&s.ref===a.ref)if(tr=!1,a.pendingProps=p=w,(s.lanes&g)!==0)(s.flags&131072)!==0&&(tr=!0);else return a.lanes=s.lanes,Xi(s,a,g)}return om(s,a,c,p,g)}function Q0(s,a,c){var p=a.pendingProps,g=p.children,w=s!==null?s.memoizedState:null;if(p.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},St(cl,_r),_r|=c;else{if((c&1073741824)===0)return s=w!==null?w.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,St(cl,_r),_r|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=w!==null?w.baseLanes:c,St(cl,_r),_r|=p}else w!==null?(p=w.baseLanes|c,a.memoizedState=null):p=c,St(cl,_r),_r|=p;return qn(s,a,g,c),a.child}function J0(s,a){var c=a.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function om(s,a,c,p,g){var w=er(c)?qo:An.current;return w=el(a,w),sl(a,g),c=Yp(s,a,c,p,w,g),p=Zp(),s!==null&&!tr?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,Xi(s,a,g)):(Dt&&p&&Op(a),a.flags|=1,qn(s,a,c,g),a.child)}function X0(s,a,c,p,g){if(er(c)){var w=!0;Ah(a)}else w=!1;if(sl(a,g),a.stateNode===null)Hh(s,a),p0(a,c,p),Wp(a,c,p,g),p=!0;else if(s===null){var S=a.stateNode,N=a.memoizedProps;S.props=N;var F=S.context,Y=c.contextType;typeof Y=="object"&&Y!==null?Y=Cr(Y):(Y=er(c)?qo:An.current,Y=el(a,Y));var ae=c.getDerivedStateFromProps,le=typeof ae=="function"||typeof S.getSnapshotBeforeUpdate=="function";le||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(N!==p||F!==Y)&&m0(a,S,p,Y),$s=!1;var oe=a.memoizedState;S.state=oe,Lh(a,p,S,g),F=a.memoizedState,N!==p||oe!==F||Zn.current||$s?(typeof ae=="function"&&(qp(a,c,ae,p),F=a.memoizedState),(N=$s||f0(a,c,N,p,oe,F,Y))?(le||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(a.flags|=4194308)):(typeof S.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=F),S.props=p,S.state=F,S.context=Y,p=N):(typeof S.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{S=a.stateNode,u0(s,a),N=a.memoizedProps,Y=a.type===a.elementType?N:Xr(a.type,N),S.props=Y,le=a.pendingProps,oe=S.context,F=c.contextType,typeof F=="object"&&F!==null?F=Cr(F):(F=er(c)?qo:An.current,F=el(a,F));var me=c.getDerivedStateFromProps;(ae=typeof me=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(N!==le||oe!==F)&&m0(a,S,p,F),$s=!1,oe=a.memoizedState,S.state=oe,Lh(a,p,S,g);var be=a.memoizedState;N!==le||oe!==be||Zn.current||$s?(typeof me=="function"&&(qp(a,c,me,p),be=a.memoizedState),(Y=$s||f0(a,c,Y,p,oe,be,F)||!1)?(ae||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(p,be,F),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(p,be,F)),typeof S.componentDidUpdate=="function"&&(a.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof S.componentDidUpdate!="function"||N===s.memoizedProps&&oe===s.memoizedState||(a.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||N===s.memoizedProps&&oe===s.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=be),S.props=p,S.state=be,S.context=F,p=Y):(typeof S.componentDidUpdate!="function"||N===s.memoizedProps&&oe===s.memoizedState||(a.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||N===s.memoizedProps&&oe===s.memoizedState||(a.flags|=1024),p=!1)}return am(s,a,c,p,w,g)}function am(s,a,c,p,g,w){J0(s,a);var S=(a.flags&128)!==0;if(!p&&!S)return g&&t0(a,c,!1),Xi(s,a,w);p=a.stateNode,CP.current=a;var N=S&&typeof c.getDerivedStateFromError!="function"?null:p.render();return a.flags|=1,s!==null&&S?(a.child=ol(a,s.child,null,w),a.child=ol(a,null,N,w)):qn(s,a,N,w),a.memoizedState=p.state,g&&t0(a,c,!0),a.child}function Y0(s){var a=s.stateNode;a.pendingContext?Z_(s,a.pendingContext,a.pendingContext!==a.context):a.context&&Z_(s,a.context,!1),Hp(s,a.containerInfo)}function Z0(s,a,c,p,g){return rl(),Vp(g),a.flags|=256,qn(s,a,c,p),a.child}var lm={dehydrated:null,treeContext:null,retryLane:0};function um(s){return{baseLanes:s,cachePool:null,transitions:null}}function ew(s,a,c){var p=a.pendingProps,g=Vt.current,w=!1,S=(a.flags&128)!==0,N;if((N=S)||(N=s!==null&&s.memoizedState===null?!1:(g&2)!==0),N?(w=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),St(Vt,g&1),s===null)return Lp(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(S=p.children,s=p.fallback,w?(p=a.mode,w=a.child,S={mode:"hidden",children:S},(p&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=S):w=id(S,p,0,null),s=ea(s,p,c,null),w.return=a,s.return=a,w.sibling=s,a.child=w,a.child.memoizedState=um(c),a.memoizedState=lm,s):cm(a,S));if(g=s.memoizedState,g!==null&&(N=g.dehydrated,N!==null))return DP(s,a,S,p,N,g,c);if(w){w=p.fallback,S=a.mode,g=s.child,N=g.sibling;var F={mode:"hidden",children:p.children};return(S&1)===0&&a.child!==g?(p=a.child,p.childLanes=0,p.pendingProps=F,a.deletions=null):(p=Ks(g,F),p.subtreeFlags=g.subtreeFlags&14680064),N!==null?w=Ks(N,w):(w=ea(w,S,c,null),w.flags|=2),w.return=a,p.return=a,p.sibling=w,a.child=p,p=w,w=a.child,S=s.child.memoizedState,S=S===null?um(c):{baseLanes:S.baseLanes|c,cachePool:null,transitions:S.transitions},w.memoizedState=S,w.childLanes=s.childLanes&~c,a.memoizedState=lm,p}return w=s.child,s=w.sibling,p=Ks(w,{mode:"visible",children:p.children}),(a.mode&1)===0&&(p.lanes=c),p.return=a,p.sibling=null,s!==null&&(c=a.deletions,c===null?(a.deletions=[s],a.flags|=16):c.push(s)),a.child=p,a.memoizedState=null,p}function cm(s,a){return a=id({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function Wh(s,a,c,p){return p!==null&&Vp(p),ol(a,s.child,null,c),s=cm(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function DP(s,a,c,p,g,w,S){if(c)return a.flags&256?(a.flags&=-257,p=im(Error(t(422))),Wh(s,a,S,p)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(w=p.fallback,g=a.mode,p=id({mode:"visible",children:p.children},g,0,null),w=ea(w,g,S,null),w.flags|=2,p.return=a,w.return=a,p.sibling=w,a.child=p,(a.mode&1)!==0&&ol(a,s.child,null,S),a.child.memoizedState=um(S),a.memoizedState=lm,w);if((a.mode&1)===0)return Wh(s,a,S,null);if(g.data==="$!"){if(p=g.nextSibling&&g.nextSibling.dataset,p)var N=p.dgst;return p=N,w=Error(t(419)),p=im(w,p,void 0),Wh(s,a,S,p)}if(N=(S&s.childLanes)!==0,tr||N){if(p=dn,p!==null){switch(S&-S){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(p.suspendedLanes|S))!==0?0:g,g!==0&&g!==w.retryLane&&(w.retryLane=g,Qi(s,g),ei(p,s,g,-1))}return km(),p=im(Error(t(421))),Wh(s,a,S,p)}return g.data==="$?"?(a.flags|=128,a.child=s.child,a=WP.bind(null,s),g._reactRetry=a,null):(s=w.treeContext,vr=Vs(g.nextSibling),yr=a,Dt=!0,Jr=null,s!==null&&(Pr[Rr++]=Gi,Pr[Rr++]=Ki,Pr[Rr++]=Wo,Gi=s.id,Ki=s.overflow,Wo=a),a=cm(a,p.children),a.flags|=4096,a)}function tw(s,a,c){s.lanes|=a;var p=s.alternate;p!==null&&(p.lanes|=a),$p(s.return,a,c)}function hm(s,a,c,p,g){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:g}:(w.isBackwards=a,w.rendering=null,w.renderingStartTime=0,w.last=p,w.tail=c,w.tailMode=g)}function nw(s,a,c){var p=a.pendingProps,g=p.revealOrder,w=p.tail;if(qn(s,a,p.children,c),p=Vt.current,(p&2)!==0)p=p&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&tw(s,c,a);else if(s.tag===19)tw(s,c,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}p&=1}if(St(Vt,p),(a.mode&1)===0)a.memoizedState=null;else switch(g){case"forwards":for(c=a.child,g=null;c!==null;)s=c.alternate,s!==null&&Fh(s)===null&&(g=c),c=c.sibling;c=g,c===null?(g=a.child,a.child=null):(g=c.sibling,c.sibling=null),hm(a,!1,g,c,w);break;case"backwards":for(c=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&Fh(s)===null){a.child=g;break}s=g.sibling,g.sibling=c,c=g,g=s}hm(a,!0,c,null,w);break;case"together":hm(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Hh(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function Xi(s,a,c){if(s!==null&&(a.dependencies=s.dependencies),Jo|=a.lanes,(c&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(t(153));if(a.child!==null){for(s=a.child,c=Ks(s,s.pendingProps),a.child=c,c.return=a;s.sibling!==null;)s=s.sibling,c=c.sibling=Ks(s,s.pendingProps),c.return=a;c.sibling=null}return a.child}function OP(s,a,c){switch(a.tag){case 3:Y0(a),rl();break;case 5:_0(a);break;case 1:er(a.type)&&Ah(a);break;case 4:Hp(a,a.stateNode.containerInfo);break;case 10:var p=a.type._context,g=a.memoizedProps.value;St(Oh,p._currentValue),p._currentValue=g;break;case 13:if(p=a.memoizedState,p!==null)return p.dehydrated!==null?(St(Vt,Vt.current&1),a.flags|=128,null):(c&a.child.childLanes)!==0?ew(s,a,c):(St(Vt,Vt.current&1),s=Xi(s,a,c),s!==null?s.sibling:null);St(Vt,Vt.current&1);break;case 19:if(p=(c&a.childLanes)!==0,(s.flags&128)!==0){if(p)return nw(s,a,c);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),St(Vt,Vt.current),p)break;return null;case 22:case 23:return a.lanes=0,Q0(s,a,c)}return Xi(s,a,c)}var rw,dm,iw,sw;rw=function(s,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},dm=function(){},iw=function(s,a,c,p){var g=s.memoizedProps;if(g!==p){s=a.stateNode,Ko(Ti.current);var w=null;switch(c){case"input":g=ui(s,g),p=ui(s,p),w=[];break;case"select":g=L({},g,{value:void 0}),p=L({},p,{value:void 0}),w=[];break;case"textarea":g=Do(s,g),p=Do(s,p),w=[];break;default:typeof g.onClick!="function"&&typeof p.onClick=="function"&&(s.onclick=xh)}xs(c,p);var S;c=null;for(Y in g)if(!p.hasOwnProperty(Y)&&g.hasOwnProperty(Y)&&g[Y]!=null)if(Y==="style"){var N=g[Y];for(S in N)N.hasOwnProperty(S)&&(c||(c={}),c[S]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(i.hasOwnProperty(Y)?w||(w=[]):(w=w||[]).push(Y,null));for(Y in p){var F=p[Y];if(N=g!=null?g[Y]:void 0,p.hasOwnProperty(Y)&&F!==N&&(F!=null||N!=null))if(Y==="style")if(N){for(S in N)!N.hasOwnProperty(S)||F&&F.hasOwnProperty(S)||(c||(c={}),c[S]="");for(S in F)F.hasOwnProperty(S)&&N[S]!==F[S]&&(c||(c={}),c[S]=F[S])}else c||(w||(w=[]),w.push(Y,c)),c=F;else Y==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,N=N?N.__html:void 0,F!=null&&N!==F&&(w=w||[]).push(Y,F)):Y==="children"?typeof F!="string"&&typeof F!="number"||(w=w||[]).push(Y,""+F):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(i.hasOwnProperty(Y)?(F!=null&&Y==="onScroll"&&kt("scroll",s),w||N===F||(w=[])):(w=w||[]).push(Y,F))}c&&(w=w||[]).push("style",c);var Y=w;(a.updateQueue=Y)&&(a.flags|=4)}},sw=function(s,a,c,p){c!==p&&(a.flags|=4)};function ju(s,a){if(!Dt)switch(s.tailMode){case"hidden":a=s.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function Rn(s){var a=s.alternate!==null&&s.alternate.child===s.child,c=0,p=0;if(a)for(var g=s.child;g!==null;)c|=g.lanes|g.childLanes,p|=g.subtreeFlags&14680064,p|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)c|=g.lanes|g.childLanes,p|=g.subtreeFlags,p|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=p,s.childLanes=c,a}function NP(s,a,c){var p=a.pendingProps;switch(Np(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rn(a),null;case 1:return er(a.type)&&Ih(),Rn(a),null;case 3:return p=a.stateNode,al(),It(Zn),It(An),Qp(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(s===null||s.child===null)&&(Dh(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Jr!==null&&(Sm(Jr),Jr=null))),dm(s,a),Rn(a),null;case 5:Gp(a);var g=Ko(Ou.current);if(c=a.type,s!==null&&a.stateNode!=null)iw(s,a,c,p,g),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!p){if(a.stateNode===null)throw Error(t(166));return Rn(a),null}if(s=Ko(Ti.current),Dh(a)){p=a.stateNode,c=a.type;var w=a.memoizedProps;switch(p[Ei]=a,p[Au]=w,s=(a.mode&1)!==0,c){case"dialog":kt("cancel",p),kt("close",p);break;case"iframe":case"object":case"embed":kt("load",p);break;case"video":case"audio":for(g=0;g<xu.length;g++)kt(xu[g],p);break;case"source":kt("error",p);break;case"img":case"image":case"link":kt("error",p),kt("load",p);break;case"details":kt("toggle",p);break;case"input":Es(p,w),kt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!w.multiple},kt("invalid",p);break;case"textarea":Ts(p,w),kt("invalid",p)}xs(c,w),g=null;for(var S in w)if(w.hasOwnProperty(S)){var N=w[S];S==="children"?typeof N=="string"?p.textContent!==N&&(w.suppressHydrationWarning!==!0&&bh(p.textContent,N,s),g=["children",N]):typeof N=="number"&&p.textContent!==""+N&&(w.suppressHydrationWarning!==!0&&bh(p.textContent,N,s),g=["children",""+N]):i.hasOwnProperty(S)&&N!=null&&S==="onScroll"&&kt("scroll",p)}switch(c){case"input":Un(p),Da(p,w,!0);break;case"textarea":Un(p),$r(p);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(p.onclick=xh)}p=g,a.updateQueue=p,p!==null&&(a.flags|=4)}else{S=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=$t(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=S.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof p.is=="string"?s=S.createElement(c,{is:p.is}):(s=S.createElement(c),c==="select"&&(S=s,p.multiple?S.multiple=!0:p.size&&(S.size=p.size))):s=S.createElementNS(s,c),s[Ei]=a,s[Au]=p,rw(s,a,!1,!1),a.stateNode=s;e:{switch(S=Oo(c,p),c){case"dialog":kt("cancel",s),kt("close",s),g=p;break;case"iframe":case"object":case"embed":kt("load",s),g=p;break;case"video":case"audio":for(g=0;g<xu.length;g++)kt(xu[g],s);g=p;break;case"source":kt("error",s),g=p;break;case"img":case"image":case"link":kt("error",s),kt("load",s),g=p;break;case"details":kt("toggle",s),g=p;break;case"input":Es(s,p),g=ui(s,p),kt("invalid",s);break;case"option":g=p;break;case"select":s._wrapperState={wasMultiple:!!p.multiple},g=L({},p,{value:void 0}),kt("invalid",s);break;case"textarea":Ts(s,p),g=Do(s,p),kt("invalid",s);break;default:g=p}xs(c,g),N=g;for(w in N)if(N.hasOwnProperty(w)){var F=N[w];w==="style"?Ss(s,F):w==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&Bn(s,F)):w==="children"?typeof F=="string"?(c!=="textarea"||F!=="")&&Br(s,F):typeof F=="number"&&Br(s,""+F):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(i.hasOwnProperty(w)?F!=null&&w==="onScroll"&&kt("scroll",s):F!=null&&U(s,w,F,S))}switch(c){case"input":Un(s),Da(s,p,!1);break;case"textarea":Un(s),$r(s);break;case"option":p.value!=null&&s.setAttribute("value",""+Qe(p.value));break;case"select":s.multiple=!!p.multiple,w=p.value,w!=null?Ur(s,!!p.multiple,w,!1):p.defaultValue!=null&&Ur(s,!!p.multiple,p.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=xh)}switch(c){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Rn(a),null;case 6:if(s&&a.stateNode!=null)sw(s,a,s.memoizedProps,p);else{if(typeof p!="string"&&a.stateNode===null)throw Error(t(166));if(c=Ko(Ou.current),Ko(Ti.current),Dh(a)){if(p=a.stateNode,c=a.memoizedProps,p[Ei]=a,(w=p.nodeValue!==c)&&(s=yr,s!==null))switch(s.tag){case 3:bh(p.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&bh(p.nodeValue,c,(s.mode&1)!==0)}w&&(a.flags|=4)}else p=(c.nodeType===9?c:c.ownerDocument).createTextNode(p),p[Ei]=a,a.stateNode=p}return Rn(a),null;case 13:if(It(Vt),p=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Dt&&vr!==null&&(a.mode&1)!==0&&(a.flags&128)===0)a0(),rl(),a.flags|=98560,w=!1;else if(w=Dh(a),p!==null&&p.dehydrated!==null){if(s===null){if(!w)throw Error(t(318));if(w=a.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(t(317));w[Ei]=a}else rl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Rn(a),w=!1}else Jr!==null&&(Sm(Jr),Jr=null),w=!0;if(!w)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=c,a):(p=p!==null,p!==(s!==null&&s.memoizedState!==null)&&p&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(Vt.current&1)!==0?on===0&&(on=3):km())),a.updateQueue!==null&&(a.flags|=4),Rn(a),null);case 4:return al(),dm(s,a),s===null&&ku(a.stateNode.containerInfo),Rn(a),null;case 10:return Up(a.type._context),Rn(a),null;case 17:return er(a.type)&&Ih(),Rn(a),null;case 19:if(It(Vt),w=a.memoizedState,w===null)return Rn(a),null;if(p=(a.flags&128)!==0,S=w.rendering,S===null)if(p)ju(w,!1);else{if(on!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(S=Fh(s),S!==null){for(a.flags|=128,ju(w,!1),p=S.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),a.subtreeFlags=0,p=c,c=a.child;c!==null;)w=c,s=p,w.flags&=14680066,S=w.alternate,S===null?(w.childLanes=0,w.lanes=s,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=S.childLanes,w.lanes=S.lanes,w.child=S.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=S.memoizedProps,w.memoizedState=S.memoizedState,w.updateQueue=S.updateQueue,w.type=S.type,s=S.dependencies,w.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return St(Vt,Vt.current&1|2),a.child}s=s.sibling}w.tail!==null&&Ze()>hl&&(a.flags|=128,p=!0,ju(w,!1),a.lanes=4194304)}else{if(!p)if(s=Fh(S),s!==null){if(a.flags|=128,p=!0,c=s.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),ju(w,!0),w.tail===null&&w.tailMode==="hidden"&&!S.alternate&&!Dt)return Rn(a),null}else 2*Ze()-w.renderingStartTime>hl&&c!==1073741824&&(a.flags|=128,p=!0,ju(w,!1),a.lanes=4194304);w.isBackwards?(S.sibling=a.child,a.child=S):(c=w.last,c!==null?c.sibling=S:a.child=S,w.last=S)}return w.tail!==null?(a=w.tail,w.rendering=a,w.tail=a.sibling,w.renderingStartTime=Ze(),a.sibling=null,c=Vt.current,St(Vt,p?c&1|2:c&1),a):(Rn(a),null);case 22:case 23:return xm(),p=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==p&&(a.flags|=8192),p&&(a.mode&1)!==0?(_r&1073741824)!==0&&(Rn(a),a.subtreeFlags&6&&(a.flags|=8192)):Rn(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function MP(s,a){switch(Np(a),a.tag){case 1:return er(a.type)&&Ih(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return al(),It(Zn),It(An),Qp(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return Gp(a),null;case 13:if(It(Vt),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(t(340));rl()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return It(Vt),null;case 4:return al(),null;case 10:return Up(a.type._context),null;case 22:case 23:return xm(),null;case 24:return null;default:return null}}var Gh=!1,Cn=!1,LP=typeof WeakSet=="function"?WeakSet:Set,Te=null;function ul(s,a){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){zt(s,a,p)}else c.current=null}function fm(s,a,c){try{c()}catch(p){zt(s,a,p)}}var ow=!1;function VP(s,a){if(xp=Ns,s=V_(),yp(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var g=p.anchorOffset,w=p.focusNode;p=p.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var S=0,N=-1,F=-1,Y=0,ae=0,le=s,oe=null;t:for(;;){for(var me;le!==c||g!==0&&le.nodeType!==3||(N=S+g),le!==w||p!==0&&le.nodeType!==3||(F=S+p),le.nodeType===3&&(S+=le.nodeValue.length),(me=le.firstChild)!==null;)oe=le,le=me;for(;;){if(le===s)break t;if(oe===c&&++Y===g&&(N=S),oe===w&&++ae===p&&(F=S),(me=le.nextSibling)!==null)break;le=oe,oe=le.parentNode}le=me}c=N===-1||F===-1?null:{start:N,end:F}}else c=null}c=c||{start:0,end:0}}else c=null;for(kp={focusedElem:s,selectionRange:c},Ns=!1,Te=a;Te!==null;)if(a=Te,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Te=s;else for(;Te!==null;){a=Te;try{var be=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(be!==null){var Ie=be.memoizedProps,Ht=be.memoizedState,G=a.stateNode,z=G.getSnapshotBeforeUpdate(a.elementType===a.type?Ie:Xr(a.type,Ie),Ht);G.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var K=a.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ue){zt(a,a.return,ue)}if(s=a.sibling,s!==null){s.return=a.return,Te=s;break}Te=a.return}return be=ow,ow=!1,be}function Fu(s,a,c){var p=a.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var g=p=p.next;do{if((g.tag&s)===s){var w=g.destroy;g.destroy=void 0,w!==void 0&&fm(a,c,w)}g=g.next}while(g!==p)}}function Kh(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&s)===s){var p=c.create;c.destroy=p()}c=c.next}while(c!==a)}}function pm(s){var a=s.ref;if(a!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof a=="function"?a(s):a.current=s}}function aw(s){var a=s.alternate;a!==null&&(s.alternate=null,aw(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[Ei],delete a[Au],delete a[Rp],delete a[_P],delete a[wP])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function lw(s){return s.tag===5||s.tag===3||s.tag===4}function uw(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||lw(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function mm(s,a,c){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(s,a):c.insertBefore(s,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(s,c)):(a=c,a.appendChild(s)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=xh));else if(p!==4&&(s=s.child,s!==null))for(mm(s,a,c),s=s.sibling;s!==null;)mm(s,a,c),s=s.sibling}function gm(s,a,c){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?c.insertBefore(s,a):c.appendChild(s);else if(p!==4&&(s=s.child,s!==null))for(gm(s,a,c),s=s.sibling;s!==null;)gm(s,a,c),s=s.sibling}var wn=null,Yr=!1;function zs(s,a,c){for(c=c.child;c!==null;)cw(s,a,c),c=c.sibling}function cw(s,a,c){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(mt,c)}catch{}switch(c.tag){case 5:Cn||ul(c,a);case 6:var p=wn,g=Yr;wn=null,zs(s,a,c),wn=p,Yr=g,wn!==null&&(Yr?(s=wn,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):wn.removeChild(c.stateNode));break;case 18:wn!==null&&(Yr?(s=wn,c=c.stateNode,s.nodeType===8?Pp(s.parentNode,c):s.nodeType===1&&Pp(s,c),Gr(s)):Pp(wn,c.stateNode));break;case 4:p=wn,g=Yr,wn=c.stateNode.containerInfo,Yr=!0,zs(s,a,c),wn=p,Yr=g;break;case 0:case 11:case 14:case 15:if(!Cn&&(p=c.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){g=p=p.next;do{var w=g,S=w.destroy;w=w.tag,S!==void 0&&((w&2)!==0||(w&4)!==0)&&fm(c,a,S),g=g.next}while(g!==p)}zs(s,a,c);break;case 1:if(!Cn&&(ul(c,a),p=c.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch(N){zt(c,a,N)}zs(s,a,c);break;case 21:zs(s,a,c);break;case 22:c.mode&1?(Cn=(p=Cn)||c.memoizedState!==null,zs(s,a,c),Cn=p):zs(s,a,c);break;default:zs(s,a,c)}}function hw(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new LP),a.forEach(function(p){var g=HP.bind(null,s,p);c.has(p)||(c.add(p),p.then(g,g))})}}function Zr(s,a){var c=a.deletions;if(c!==null)for(var p=0;p<c.length;p++){var g=c[p];try{var w=s,S=a,N=S;e:for(;N!==null;){switch(N.tag){case 5:wn=N.stateNode,Yr=!1;break e;case 3:wn=N.stateNode.containerInfo,Yr=!0;break e;case 4:wn=N.stateNode.containerInfo,Yr=!0;break e}N=N.return}if(wn===null)throw Error(t(160));cw(w,S,g),wn=null,Yr=!1;var F=g.alternate;F!==null&&(F.return=null),g.return=null}catch(Y){zt(g,a,Y)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)dw(a,s),a=a.sibling}function dw(s,a){var c=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Zr(a,s),bi(s),p&4){try{Fu(3,s,s.return),Kh(3,s)}catch(Ie){zt(s,s.return,Ie)}try{Fu(5,s,s.return)}catch(Ie){zt(s,s.return,Ie)}}break;case 1:Zr(a,s),bi(s),p&512&&c!==null&&ul(c,c.return);break;case 5:if(Zr(a,s),bi(s),p&512&&c!==null&&ul(c,c.return),s.flags&32){var g=s.stateNode;try{Br(g,"")}catch(Ie){zt(s,s.return,Ie)}}if(p&4&&(g=s.stateNode,g!=null)){var w=s.memoizedProps,S=c!==null?c.memoizedProps:w,N=s.type,F=s.updateQueue;if(s.updateQueue=null,F!==null)try{N==="input"&&w.type==="radio"&&w.name!=null&&cr(g,w),Oo(N,S);var Y=Oo(N,w);for(S=0;S<F.length;S+=2){var ae=F[S],le=F[S+1];ae==="style"?Ss(g,le):ae==="dangerouslySetInnerHTML"?Bn(g,le):ae==="children"?Br(g,le):U(g,ae,le,Y)}switch(N){case"input":Co(g,w);break;case"textarea":Gn(g,w);break;case"select":var oe=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!w.multiple;var me=w.value;me!=null?Ur(g,!!w.multiple,me,!1):oe!==!!w.multiple&&(w.defaultValue!=null?Ur(g,!!w.multiple,w.defaultValue,!0):Ur(g,!!w.multiple,w.multiple?[]:"",!1))}g[Au]=w}catch(Ie){zt(s,s.return,Ie)}}break;case 6:if(Zr(a,s),bi(s),p&4){if(s.stateNode===null)throw Error(t(162));g=s.stateNode,w=s.memoizedProps;try{g.nodeValue=w}catch(Ie){zt(s,s.return,Ie)}}break;case 3:if(Zr(a,s),bi(s),p&4&&c!==null&&c.memoizedState.isDehydrated)try{Gr(a.containerInfo)}catch(Ie){zt(s,s.return,Ie)}break;case 4:Zr(a,s),bi(s);break;case 13:Zr(a,s),bi(s),g=s.child,g.flags&8192&&(w=g.memoizedState!==null,g.stateNode.isHidden=w,!w||g.alternate!==null&&g.alternate.memoizedState!==null||(_m=Ze())),p&4&&hw(s);break;case 22:if(ae=c!==null&&c.memoizedState!==null,s.mode&1?(Cn=(Y=Cn)||ae,Zr(a,s),Cn=Y):Zr(a,s),bi(s),p&8192){if(Y=s.memoizedState!==null,(s.stateNode.isHidden=Y)&&!ae&&(s.mode&1)!==0)for(Te=s,ae=s.child;ae!==null;){for(le=Te=ae;Te!==null;){switch(oe=Te,me=oe.child,oe.tag){case 0:case 11:case 14:case 15:Fu(4,oe,oe.return);break;case 1:ul(oe,oe.return);var be=oe.stateNode;if(typeof be.componentWillUnmount=="function"){p=oe,c=oe.return;try{a=p,be.props=a.memoizedProps,be.state=a.memoizedState,be.componentWillUnmount()}catch(Ie){zt(p,c,Ie)}}break;case 5:ul(oe,oe.return);break;case 22:if(oe.memoizedState!==null){mw(le);continue}}me!==null?(me.return=oe,Te=me):mw(le)}ae=ae.sibling}e:for(ae=null,le=s;;){if(le.tag===5){if(ae===null){ae=le;try{g=le.stateNode,Y?(w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(N=le.stateNode,F=le.memoizedProps.style,S=F!=null&&F.hasOwnProperty("display")?F.display:null,N.style.display=Kn("display",S))}catch(Ie){zt(s,s.return,Ie)}}}else if(le.tag===6){if(ae===null)try{le.stateNode.nodeValue=Y?"":le.memoizedProps}catch(Ie){zt(s,s.return,Ie)}}else if((le.tag!==22&&le.tag!==23||le.memoizedState===null||le===s)&&le.child!==null){le.child.return=le,le=le.child;continue}if(le===s)break e;for(;le.sibling===null;){if(le.return===null||le.return===s)break e;ae===le&&(ae=null),le=le.return}ae===le&&(ae=null),le.sibling.return=le.return,le=le.sibling}}break;case 19:Zr(a,s),bi(s),p&4&&hw(s);break;case 21:break;default:Zr(a,s),bi(s)}}function bi(s){var a=s.flags;if(a&2){try{e:{for(var c=s.return;c!==null;){if(lw(c)){var p=c;break e}c=c.return}throw Error(t(160))}switch(p.tag){case 5:var g=p.stateNode;p.flags&32&&(Br(g,""),p.flags&=-33);var w=uw(s);gm(s,w,g);break;case 3:case 4:var S=p.stateNode.containerInfo,N=uw(s);mm(s,N,S);break;default:throw Error(t(161))}}catch(F){zt(s,s.return,F)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function jP(s,a,c){Te=s,fw(s)}function fw(s,a,c){for(var p=(s.mode&1)!==0;Te!==null;){var g=Te,w=g.child;if(g.tag===22&&p){var S=g.memoizedState!==null||Gh;if(!S){var N=g.alternate,F=N!==null&&N.memoizedState!==null||Cn;N=Gh;var Y=Cn;if(Gh=S,(Cn=F)&&!Y)for(Te=g;Te!==null;)S=Te,F=S.child,S.tag===22&&S.memoizedState!==null?gw(g):F!==null?(F.return=S,Te=F):gw(g);for(;w!==null;)Te=w,fw(w),w=w.sibling;Te=g,Gh=N,Cn=Y}pw(s)}else(g.subtreeFlags&8772)!==0&&w!==null?(w.return=g,Te=w):pw(s)}}function pw(s){for(;Te!==null;){var a=Te;if((a.flags&8772)!==0){var c=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Cn||Kh(5,a);break;case 1:var p=a.stateNode;if(a.flags&4&&!Cn)if(c===null)p.componentDidMount();else{var g=a.elementType===a.type?c.memoizedProps:Xr(a.type,c.memoizedProps);p.componentDidUpdate(g,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var w=a.updateQueue;w!==null&&h0(a,w,p);break;case 3:var S=a.updateQueue;if(S!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}h0(a,S,c)}break;case 5:var N=a.stateNode;if(c===null&&a.flags&4){c=N;var F=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&c.focus();break;case"img":F.src&&(c.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var Y=a.alternate;if(Y!==null){var ae=Y.memoizedState;if(ae!==null){var le=ae.dehydrated;le!==null&&Gr(le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Cn||a.flags&512&&pm(a)}catch(oe){zt(a,a.return,oe)}}if(a===s){Te=null;break}if(c=a.sibling,c!==null){c.return=a.return,Te=c;break}Te=a.return}}function mw(s){for(;Te!==null;){var a=Te;if(a===s){Te=null;break}var c=a.sibling;if(c!==null){c.return=a.return,Te=c;break}Te=a.return}}function gw(s){for(;Te!==null;){var a=Te;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{Kh(4,a)}catch(F){zt(a,c,F)}break;case 1:var p=a.stateNode;if(typeof p.componentDidMount=="function"){var g=a.return;try{p.componentDidMount()}catch(F){zt(a,g,F)}}var w=a.return;try{pm(a)}catch(F){zt(a,w,F)}break;case 5:var S=a.return;try{pm(a)}catch(F){zt(a,S,F)}}}catch(F){zt(a,a.return,F)}if(a===s){Te=null;break}var N=a.sibling;if(N!==null){N.return=a.return,Te=N;break}Te=a.return}}var FP=Math.ceil,Qh=J.ReactCurrentDispatcher,ym=J.ReactCurrentOwner,Or=J.ReactCurrentBatchConfig,ht=0,dn=null,Xt=null,En=0,_r=0,cl=js(0),on=0,Uu=null,Jo=0,Jh=0,vm=0,$u=null,nr=null,_m=0,hl=1/0,Yi=null,Xh=!1,wm=null,qs=null,Yh=!1,Ws=null,Zh=0,Bu=0,Em=null,ed=-1,td=0;function Wn(){return(ht&6)!==0?Ze():ed!==-1?ed:ed=Ze()}function Hs(s){return(s.mode&1)===0?1:(ht&2)!==0&&En!==0?En&-En:TP.transition!==null?(td===0&&(td=jo()),td):(s=ot,s!==0||(s=window.event,s=s===void 0?16:gu(s.type)),s)}function ei(s,a,c,p){if(50<Bu)throw Bu=0,Em=null,Error(t(185));Rs(s,c,p),((ht&2)===0||s!==dn)&&(s===dn&&((ht&2)===0&&(Jh|=c),on===4&&Gs(s,En)),rr(s,p),c===1&&ht===0&&(a.mode&1)===0&&(hl=Ze()+500,Ph&&Us()))}function rr(s,a){var c=s.callbackNode;Ui(s,a);var p=Vo(s,s===dn?En:0);if(p===0)c!==null&&xr(c),s.callbackNode=null,s.callbackPriority=0;else if(a=p&-p,s.callbackPriority!==a){if(c!=null&&xr(c),a===1)s.tag===0?EP(vw.bind(null,s)):n0(vw.bind(null,s)),yP(function(){(ht&6)===0&&Us()}),c=null;else{switch(Ds(p)){case 1:c=fr;break;case 4:c=In;break;case 16:c=yn;break;case 536870912:c=et;break;default:c=yn}c=kw(c,yw.bind(null,s))}s.callbackPriority=a,s.callbackNode=c}}function yw(s,a){if(ed=-1,td=0,(ht&6)!==0)throw Error(t(327));var c=s.callbackNode;if(dl()&&s.callbackNode!==c)return null;var p=Vo(s,s===dn?En:0);if(p===0)return null;if((p&30)!==0||(p&s.expiredLanes)!==0||a)a=nd(s,p);else{a=p;var g=ht;ht|=2;var w=ww();(dn!==s||En!==a)&&(Yi=null,hl=Ze()+500,Yo(s,a));do try{BP();break}catch(N){_w(s,N)}while(!0);Fp(),Qh.current=w,ht=g,Xt!==null?a=0:(dn=null,En=0,a=on)}if(a!==0){if(a===2&&(g=pr(s),g!==0&&(p=g,a=Tm(s,g))),a===1)throw c=Uu,Yo(s,0),Gs(s,p),rr(s,Ze()),c;if(a===6)Gs(s,p);else{if(g=s.current.alternate,(p&30)===0&&!UP(g)&&(a=nd(s,p),a===2&&(w=pr(s),w!==0&&(p=w,a=Tm(s,w))),a===1))throw c=Uu,Yo(s,0),Gs(s,p),rr(s,Ze()),c;switch(s.finishedWork=g,s.finishedLanes=p,a){case 0:case 1:throw Error(t(345));case 2:Zo(s,nr,Yi);break;case 3:if(Gs(s,p),(p&130023424)===p&&(a=_m+500-Ze(),10<a)){if(Vo(s,0)!==0)break;if(g=s.suspendedLanes,(g&p)!==p){Wn(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=Ap(Zo.bind(null,s,nr,Yi),a);break}Zo(s,nr,Yi);break;case 4:if(Gs(s,p),(p&4194240)===p)break;for(a=s.eventTimes,g=-1;0<p;){var S=31-rt(p);w=1<<S,S=a[S],S>g&&(g=S),p&=~w}if(p=g,p=Ze()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*FP(p/1960))-p,10<p){s.timeoutHandle=Ap(Zo.bind(null,s,nr,Yi),p);break}Zo(s,nr,Yi);break;case 5:Zo(s,nr,Yi);break;default:throw Error(t(329))}}}return rr(s,Ze()),s.callbackNode===c?yw.bind(null,s):null}function Tm(s,a){var c=$u;return s.current.memoizedState.isDehydrated&&(Yo(s,a).flags|=256),s=nd(s,a),s!==2&&(a=nr,nr=c,a!==null&&Sm(a)),s}function Sm(s){nr===null?nr=s:nr.push.apply(nr,s)}function UP(s){for(var a=s;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var p=0;p<c.length;p++){var g=c[p],w=g.getSnapshot;g=g.value;try{if(!Qr(w(),g))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Gs(s,a){for(a&=~vm,a&=~Jh,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var c=31-rt(a),p=1<<c;s[c]=-1,a&=~p}}function vw(s){if((ht&6)!==0)throw Error(t(327));dl();var a=Vo(s,0);if((a&1)===0)return rr(s,Ze()),null;var c=nd(s,a);if(s.tag!==0&&c===2){var p=pr(s);p!==0&&(a=p,c=Tm(s,p))}if(c===1)throw c=Uu,Yo(s,0),Gs(s,a),rr(s,Ze()),c;if(c===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,Zo(s,nr,Yi),rr(s,Ze()),null}function bm(s,a){var c=ht;ht|=1;try{return s(a)}finally{ht=c,ht===0&&(hl=Ze()+500,Ph&&Us())}}function Xo(s){Ws!==null&&Ws.tag===0&&(ht&6)===0&&dl();var a=ht;ht|=1;var c=Or.transition,p=ot;try{if(Or.transition=null,ot=1,s)return s()}finally{ot=p,Or.transition=c,ht=a,(ht&6)===0&&Us()}}function xm(){_r=cl.current,It(cl)}function Yo(s,a){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,gP(c)),Xt!==null)for(c=Xt.return;c!==null;){var p=c;switch(Np(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Ih();break;case 3:al(),It(Zn),It(An),Qp();break;case 5:Gp(p);break;case 4:al();break;case 13:It(Vt);break;case 19:It(Vt);break;case 10:Up(p.type._context);break;case 22:case 23:xm()}c=c.return}if(dn=s,Xt=s=Ks(s.current,null),En=_r=a,on=0,Uu=null,vm=Jh=Jo=0,nr=$u=null,Go!==null){for(a=0;a<Go.length;a++)if(c=Go[a],p=c.interleaved,p!==null){c.interleaved=null;var g=p.next,w=c.pending;if(w!==null){var S=w.next;w.next=g,p.next=S}c.pending=p}Go=null}return s}function _w(s,a){do{var c=Xt;try{if(Fp(),Uh.current=qh,$h){for(var p=jt.memoizedState;p!==null;){var g=p.queue;g!==null&&(g.pending=null),p=p.next}$h=!1}if(Qo=0,hn=sn=jt=null,Nu=!1,Mu=0,ym.current=null,c===null||c.return===null){on=1,Uu=a,Xt=null;break}e:{var w=s,S=c.return,N=c,F=a;if(a=En,N.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var Y=F,ae=N,le=ae.tag;if((ae.mode&1)===0&&(le===0||le===11||le===15)){var oe=ae.alternate;oe?(ae.updateQueue=oe.updateQueue,ae.memoizedState=oe.memoizedState,ae.lanes=oe.lanes):(ae.updateQueue=null,ae.memoizedState=null)}var me=q0(S);if(me!==null){me.flags&=-257,W0(me,S,N,w,a),me.mode&1&&z0(w,Y,a),a=me,F=Y;var be=a.updateQueue;if(be===null){var Ie=new Set;Ie.add(F),a.updateQueue=Ie}else be.add(F);break e}else{if((a&1)===0){z0(w,Y,a),km();break e}F=Error(t(426))}}else if(Dt&&N.mode&1){var Ht=q0(S);if(Ht!==null){(Ht.flags&65536)===0&&(Ht.flags|=256),W0(Ht,S,N,w,a),Vp(ll(F,N));break e}}w=F=ll(F,N),on!==4&&(on=2),$u===null?$u=[w]:$u.push(w),w=S;do{switch(w.tag){case 3:w.flags|=65536,a&=-a,w.lanes|=a;var G=$0(w,F,a);c0(w,G);break e;case 1:N=F;var z=w.type,K=w.stateNode;if((w.flags&128)===0&&(typeof z.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(qs===null||!qs.has(K)))){w.flags|=65536,a&=-a,w.lanes|=a;var ue=B0(w,N,a);c0(w,ue);break e}}w=w.return}while(w!==null)}Tw(c)}catch(Pe){a=Pe,Xt===c&&c!==null&&(Xt=c=c.return);continue}break}while(!0)}function ww(){var s=Qh.current;return Qh.current=qh,s===null?qh:s}function km(){(on===0||on===3||on===2)&&(on=4),dn===null||(Jo&268435455)===0&&(Jh&268435455)===0||Gs(dn,En)}function nd(s,a){var c=ht;ht|=2;var p=ww();(dn!==s||En!==a)&&(Yi=null,Yo(s,a));do try{$P();break}catch(g){_w(s,g)}while(!0);if(Fp(),ht=c,Qh.current=p,Xt!==null)throw Error(t(261));return dn=null,En=0,on}function $P(){for(;Xt!==null;)Ew(Xt)}function BP(){for(;Xt!==null&&!fi();)Ew(Xt)}function Ew(s){var a=xw(s.alternate,s,_r);s.memoizedProps=s.pendingProps,a===null?Tw(s):Xt=a,ym.current=null}function Tw(s){var a=s;do{var c=a.alternate;if(s=a.return,(a.flags&32768)===0){if(c=NP(c,a,_r),c!==null){Xt=c;return}}else{if(c=MP(c,a),c!==null){c.flags&=32767,Xt=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{on=6,Xt=null;return}}if(a=a.sibling,a!==null){Xt=a;return}Xt=a=s}while(a!==null);on===0&&(on=5)}function Zo(s,a,c){var p=ot,g=Or.transition;try{Or.transition=null,ot=1,zP(s,a,c,p)}finally{Or.transition=g,ot=p}return null}function zP(s,a,c,p){do dl();while(Ws!==null);if((ht&6)!==0)throw Error(t(327));c=s.finishedWork;var g=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var w=c.lanes|c.childLanes;if(Et(s,w),s===dn&&(Xt=dn=null,En=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Yh||(Yh=!0,kw(yn,function(){return dl(),null})),w=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||w){w=Or.transition,Or.transition=null;var S=ot;ot=1;var N=ht;ht|=4,ym.current=null,VP(s,c),dw(c,s),uP(kp),Ns=!!xp,kp=xp=null,s.current=c,jP(c),dr(),ht=N,ot=S,Or.transition=w}else s.current=c;if(Yh&&(Yh=!1,Ws=s,Zh=g),w=s.pendingLanes,w===0&&(qs=null),mi(c.stateNode),rr(s,Ze()),a!==null)for(p=s.onRecoverableError,c=0;c<a.length;c++)g=a[c],p(g.value,{componentStack:g.stack,digest:g.digest});if(Xh)throw Xh=!1,s=wm,wm=null,s;return(Zh&1)!==0&&s.tag!==0&&dl(),w=s.pendingLanes,(w&1)!==0?s===Em?Bu++:(Bu=0,Em=s):Bu=0,Us(),null}function dl(){if(Ws!==null){var s=Ds(Zh),a=Or.transition,c=ot;try{if(Or.transition=null,ot=16>s?16:s,Ws===null)var p=!1;else{if(s=Ws,Ws=null,Zh=0,(ht&6)!==0)throw Error(t(331));var g=ht;for(ht|=4,Te=s.current;Te!==null;){var w=Te,S=w.child;if((Te.flags&16)!==0){var N=w.deletions;if(N!==null){for(var F=0;F<N.length;F++){var Y=N[F];for(Te=Y;Te!==null;){var ae=Te;switch(ae.tag){case 0:case 11:case 15:Fu(8,ae,w)}var le=ae.child;if(le!==null)le.return=ae,Te=le;else for(;Te!==null;){ae=Te;var oe=ae.sibling,me=ae.return;if(aw(ae),ae===Y){Te=null;break}if(oe!==null){oe.return=me,Te=oe;break}Te=me}}}var be=w.alternate;if(be!==null){var Ie=be.child;if(Ie!==null){be.child=null;do{var Ht=Ie.sibling;Ie.sibling=null,Ie=Ht}while(Ie!==null)}}Te=w}}if((w.subtreeFlags&2064)!==0&&S!==null)S.return=w,Te=S;else e:for(;Te!==null;){if(w=Te,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:Fu(9,w,w.return)}var G=w.sibling;if(G!==null){G.return=w.return,Te=G;break e}Te=w.return}}var z=s.current;for(Te=z;Te!==null;){S=Te;var K=S.child;if((S.subtreeFlags&2064)!==0&&K!==null)K.return=S,Te=K;else e:for(S=z;Te!==null;){if(N=Te,(N.flags&2048)!==0)try{switch(N.tag){case 0:case 11:case 15:Kh(9,N)}}catch(Pe){zt(N,N.return,Pe)}if(N===S){Te=null;break e}var ue=N.sibling;if(ue!==null){ue.return=N.return,Te=ue;break e}Te=N.return}}if(ht=g,Us(),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(mt,s)}catch{}p=!0}return p}finally{ot=c,Or.transition=a}}return!1}function Sw(s,a,c){a=ll(c,a),a=$0(s,a,1),s=Bs(s,a,1),a=Wn(),s!==null&&(Rs(s,1,a),rr(s,a))}function zt(s,a,c){if(s.tag===3)Sw(s,s,c);else for(;a!==null;){if(a.tag===3){Sw(a,s,c);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(qs===null||!qs.has(p))){s=ll(c,s),s=B0(a,s,1),a=Bs(a,s,1),s=Wn(),a!==null&&(Rs(a,1,s),rr(a,s));break}}a=a.return}}function qP(s,a,c){var p=s.pingCache;p!==null&&p.delete(a),a=Wn(),s.pingedLanes|=s.suspendedLanes&c,dn===s&&(En&c)===c&&(on===4||on===3&&(En&130023424)===En&&500>Ze()-_m?Yo(s,0):vm|=c),rr(s,a)}function bw(s,a){a===0&&((s.mode&1)===0?a=1:(a=Ma,Ma<<=1,(Ma&130023424)===0&&(Ma=4194304)));var c=Wn();s=Qi(s,a),s!==null&&(Rs(s,a,c),rr(s,c))}function WP(s){var a=s.memoizedState,c=0;a!==null&&(c=a.retryLane),bw(s,c)}function HP(s,a){var c=0;switch(s.tag){case 13:var p=s.stateNode,g=s.memoizedState;g!==null&&(c=g.retryLane);break;case 19:p=s.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(a),bw(s,c)}var xw;xw=function(s,a,c){if(s!==null)if(s.memoizedProps!==a.pendingProps||Zn.current)tr=!0;else{if((s.lanes&c)===0&&(a.flags&128)===0)return tr=!1,OP(s,a,c);tr=(s.flags&131072)!==0}else tr=!1,Dt&&(a.flags&1048576)!==0&&r0(a,Ch,a.index);switch(a.lanes=0,a.tag){case 2:var p=a.type;Hh(s,a),s=a.pendingProps;var g=el(a,An.current);sl(a,c),g=Yp(null,a,p,s,g,c);var w=Zp();return a.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,er(p)?(w=!0,Ah(a)):w=!1,a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,zp(a),g.updater=Vh,a.stateNode=g,g._reactInternals=a,Wp(a,p,s,c),a=am(null,a,p,!0,w,c)):(a.tag=0,Dt&&w&&Op(a),qn(null,a,g,c),a=a.child),a;case 16:p=a.elementType;e:{switch(Hh(s,a),s=a.pendingProps,g=p._init,p=g(p._payload),a.type=p,g=a.tag=KP(p),s=Xr(p,s),g){case 0:a=om(null,a,p,s,c);break e;case 1:a=X0(null,a,p,s,c);break e;case 11:a=H0(null,a,p,s,c);break e;case 14:a=G0(null,a,p,Xr(p.type,s),c);break e}throw Error(t(306,p,""))}return a;case 0:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:Xr(p,g),om(s,a,p,g,c);case 1:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:Xr(p,g),X0(s,a,p,g,c);case 3:e:{if(Y0(a),s===null)throw Error(t(387));p=a.pendingProps,w=a.memoizedState,g=w.element,u0(s,a),Lh(a,p,null,c);var S=a.memoizedState;if(p=S.element,w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},a.updateQueue.baseState=w,a.memoizedState=w,a.flags&256){g=ll(Error(t(423)),a),a=Z0(s,a,p,c,g);break e}else if(p!==g){g=ll(Error(t(424)),a),a=Z0(s,a,p,c,g);break e}else for(vr=Vs(a.stateNode.containerInfo.firstChild),yr=a,Dt=!0,Jr=null,c=v0(a,null,p,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(rl(),p===g){a=Xi(s,a,c);break e}qn(s,a,p,c)}a=a.child}return a;case 5:return _0(a),s===null&&Lp(a),p=a.type,g=a.pendingProps,w=s!==null?s.memoizedProps:null,S=g.children,Ip(p,g)?S=null:w!==null&&Ip(p,w)&&(a.flags|=32),J0(s,a),qn(s,a,S,c),a.child;case 6:return s===null&&Lp(a),null;case 13:return ew(s,a,c);case 4:return Hp(a,a.stateNode.containerInfo),p=a.pendingProps,s===null?a.child=ol(a,null,p,c):qn(s,a,p,c),a.child;case 11:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:Xr(p,g),H0(s,a,p,g,c);case 7:return qn(s,a,a.pendingProps,c),a.child;case 8:return qn(s,a,a.pendingProps.children,c),a.child;case 12:return qn(s,a,a.pendingProps.children,c),a.child;case 10:e:{if(p=a.type._context,g=a.pendingProps,w=a.memoizedProps,S=g.value,St(Oh,p._currentValue),p._currentValue=S,w!==null)if(Qr(w.value,S)){if(w.children===g.children&&!Zn.current){a=Xi(s,a,c);break e}}else for(w=a.child,w!==null&&(w.return=a);w!==null;){var N=w.dependencies;if(N!==null){S=w.child;for(var F=N.firstContext;F!==null;){if(F.context===p){if(w.tag===1){F=Ji(-1,c&-c),F.tag=2;var Y=w.updateQueue;if(Y!==null){Y=Y.shared;var ae=Y.pending;ae===null?F.next=F:(F.next=ae.next,ae.next=F),Y.pending=F}}w.lanes|=c,F=w.alternate,F!==null&&(F.lanes|=c),$p(w.return,c,a),N.lanes|=c;break}F=F.next}}else if(w.tag===10)S=w.type===a.type?null:w.child;else if(w.tag===18){if(S=w.return,S===null)throw Error(t(341));S.lanes|=c,N=S.alternate,N!==null&&(N.lanes|=c),$p(S,c,a),S=w.sibling}else S=w.child;if(S!==null)S.return=w;else for(S=w;S!==null;){if(S===a){S=null;break}if(w=S.sibling,w!==null){w.return=S.return,S=w;break}S=S.return}w=S}qn(s,a,g.children,c),a=a.child}return a;case 9:return g=a.type,p=a.pendingProps.children,sl(a,c),g=Cr(g),p=p(g),a.flags|=1,qn(s,a,p,c),a.child;case 14:return p=a.type,g=Xr(p,a.pendingProps),g=Xr(p.type,g),G0(s,a,p,g,c);case 15:return K0(s,a,a.type,a.pendingProps,c);case 17:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:Xr(p,g),Hh(s,a),a.tag=1,er(p)?(s=!0,Ah(a)):s=!1,sl(a,c),p0(a,p,g),Wp(a,p,g,c),am(null,a,p,!0,s,c);case 19:return nw(s,a,c);case 22:return Q0(s,a,c)}throw Error(t(156,a.tag))};function kw(s,a){return yt(s,a)}function GP(s,a,c,p){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nr(s,a,c,p){return new GP(s,a,c,p)}function Im(s){return s=s.prototype,!(!s||!s.isReactComponent)}function KP(s){if(typeof s=="function")return Im(s)?1:0;if(s!=null){if(s=s.$$typeof,s===$)return 11;if(s===lt)return 14}return 2}function Ks(s,a){var c=s.alternate;return c===null?(c=Nr(s.tag,a,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=a,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,a=s.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function rd(s,a,c,p,g,w){var S=2;if(p=s,typeof s=="function")Im(s)&&(S=1);else if(typeof s=="string")S=5;else e:switch(s){case x:return ea(c.children,g,w,a);case b:S=8,g|=8;break;case C:return s=Nr(12,c,a,g|2),s.elementType=C,s.lanes=w,s;case M:return s=Nr(13,c,a,g),s.elementType=M,s.lanes=w,s;case He:return s=Nr(19,c,a,g),s.elementType=He,s.lanes=w,s;case Ce:return id(c,g,w,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case O:S=10;break e;case j:S=9;break e;case $:S=11;break e;case lt:S=14;break e;case dt:S=16,p=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return a=Nr(S,c,a,g),a.elementType=s,a.type=p,a.lanes=w,a}function ea(s,a,c,p){return s=Nr(7,s,p,a),s.lanes=c,s}function id(s,a,c,p){return s=Nr(22,s,p,a),s.elementType=Ce,s.lanes=c,s.stateNode={isHidden:!1},s}function Am(s,a,c){return s=Nr(6,s,null,a),s.lanes=c,s}function Pm(s,a,c){return a=Nr(4,s.children!==null?s.children:[],s.key,a),a.lanes=c,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function QP(s,a,c,p,g){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ps(0),this.expirationTimes=Ps(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ps(0),this.identifierPrefix=p,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Rm(s,a,c,p,g,w,S,N,F){return s=new QP(s,a,c,N,F),a===1?(a=1,w===!0&&(a|=8)):a=0,w=Nr(3,null,null,a),s.current=w,w.stateNode=s,w.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},zp(w),s}function JP(s,a,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ne,key:p==null?null:""+p,children:s,containerInfo:a,implementation:c}}function Iw(s){if(!s)return Fs;s=s._reactInternals;e:{if(ye(s)!==s||s.tag!==1)throw Error(t(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(er(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(s.tag===1){var c=s.type;if(er(c))return e0(s,c,a)}return a}function Aw(s,a,c,p,g,w,S,N,F){return s=Rm(c,p,!0,s,g,w,S,N,F),s.context=Iw(null),c=s.current,p=Wn(),g=Hs(c),w=Ji(p,g),w.callback=a??null,Bs(c,w,g),s.current.lanes=g,Rs(s,g,p),rr(s,p),s}function sd(s,a,c,p){var g=a.current,w=Wn(),S=Hs(g);return c=Iw(c),a.context===null?a.context=c:a.pendingContext=c,a=Ji(w,S),a.payload={element:s},p=p===void 0?null:p,p!==null&&(a.callback=p),s=Bs(g,a,S),s!==null&&(ei(s,g,S,w),Mh(s,g,S)),S}function od(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Pw(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<a?c:a}}function Cm(s,a){Pw(s,a),(s=s.alternate)&&Pw(s,a)}function XP(){return null}var Rw=typeof reportError=="function"?reportError:function(s){console.error(s)};function Dm(s){this._internalRoot=s}ad.prototype.render=Dm.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(t(409));sd(s,a,null,null)},ad.prototype.unmount=Dm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Xo(function(){sd(null,s,null,null)}),a[Wi]=null}};function ad(s){this._internalRoot=s}ad.prototype.unstable_scheduleHydration=function(s){if(s){var a=ah();s={blockedOn:null,target:s,priority:a};for(var c=0;c<yi.length&&a!==0&&a<yi[c].priority;c++);yi.splice(c,0,s),c===0&&ch(s)}};function Om(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function ld(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Cw(){}function YP(s,a,c,p,g){if(g){if(typeof p=="function"){var w=p;p=function(){var Y=od(S);w.call(Y)}}var S=Aw(a,p,s,0,null,!1,!1,"",Cw);return s._reactRootContainer=S,s[Wi]=S.current,ku(s.nodeType===8?s.parentNode:s),Xo(),S}for(;g=s.lastChild;)s.removeChild(g);if(typeof p=="function"){var N=p;p=function(){var Y=od(F);N.call(Y)}}var F=Rm(s,0,!1,null,null,!1,!1,"",Cw);return s._reactRootContainer=F,s[Wi]=F.current,ku(s.nodeType===8?s.parentNode:s),Xo(function(){sd(a,F,c,p)}),F}function ud(s,a,c,p,g){var w=c._reactRootContainer;if(w){var S=w;if(typeof g=="function"){var N=g;g=function(){var F=od(S);N.call(F)}}sd(a,S,s,g)}else S=YP(c,a,s,g,p);return od(S)}sh=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var c=As(a.pendingLanes);c!==0&&(Cs(a,c|1),rr(a,Ze()),(ht&6)===0&&(hl=Ze()+500,Us()))}break;case 13:Xo(function(){var p=Qi(s,1);if(p!==null){var g=Wn();ei(p,s,1,g)}}),Cm(s,1)}},La=function(s){if(s.tag===13){var a=Qi(s,134217728);if(a!==null){var c=Wn();ei(a,s,134217728,c)}Cm(s,134217728)}},oh=function(s){if(s.tag===13){var a=Hs(s),c=Qi(s,a);if(c!==null){var p=Wn();ei(c,s,a,p)}Cm(s,a)}},ah=function(){return ot},lh=function(s,a){var c=ot;try{return ot=s,a()}finally{ot=c}},Fi=function(s,a,c){switch(a){case"input":if(Co(s,c),a=c.name,c.type==="radio"&&a!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var p=c[a];if(p!==s&&p.form===s.form){var g=kh(p);if(!g)throw Error(t(90));wt(p),Co(p,g)}}}break;case"textarea":Gn(s,c);break;case"select":a=c.value,a!=null&&Ur(s,!!c.multiple,a,!1)}},hi=bm,di=Xo;var ZP={usingClientEntryPoint:!1,Events:[Pu,Ya,kh,hr,No,bm]},zu={findFiberByHostInstance:zo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},eR={bundleType:zu.bundleType,version:zu.version,rendererPackageName:zu.rendererPackageName,rendererConfig:zu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:J.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=ft(s),s===null?null:s.stateNode},findFiberByHostInstance:zu.findFiberByHostInstance||XP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cd.isDisabled&&cd.supportsFiber)try{mt=cd.inject(eR),Qt=cd}catch{}}return ir.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZP,ir.createPortal=function(s,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Om(a))throw Error(t(200));return JP(s,a,null,c)},ir.createRoot=function(s,a){if(!Om(s))throw Error(t(299));var c=!1,p="",g=Rw;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),a=Rm(s,1,!1,null,null,c,!1,p,g),s[Wi]=a.current,ku(s.nodeType===8?s.parentNode:s),new Dm(a)},ir.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=ft(a),s=s===null?null:s.stateNode,s},ir.flushSync=function(s){return Xo(s)},ir.hydrate=function(s,a,c){if(!ld(a))throw Error(t(200));return ud(null,s,a,!0,c)},ir.hydrateRoot=function(s,a,c){if(!Om(s))throw Error(t(405));var p=c!=null&&c.hydratedSources||null,g=!1,w="",S=Rw;if(c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(w=c.identifierPrefix),c.onRecoverableError!==void 0&&(S=c.onRecoverableError)),a=Aw(a,null,s,1,c??null,g,!1,w,S),s[Wi]=a.current,ku(s),p)for(s=0;s<p.length;s++)c=p[s],g=c._getVersion,g=g(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,g]:a.mutableSourceEagerHydrationData.push(c,g);return new ad(a)},ir.render=function(s,a,c){if(!ld(a))throw Error(t(200));return ud(null,s,a,!1,c)},ir.unmountComponentAtNode=function(s){if(!ld(s))throw Error(t(40));return s._reactRootContainer?(Xo(function(){ud(null,null,s,!1,function(){s._reactRootContainer=null,s[Wi]=null})}),!0):!1},ir.unstable_batchedUpdates=bm,ir.unstable_renderSubtreeIntoContainer=function(s,a,c,p){if(!ld(c))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return ud(s,a,c,!1,p)},ir.version="18.2.0-next-9e3b772b8-20220608",ir}var Uw;function VS(){if(Uw)return Lm.exports;Uw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Lm.exports=cR(),Lm.exports}var $w;function hR(){if($w)return hd;$w=1;var n=VS();return hd.createRoot=n.createRoot,hd.hydrateRoot=n.hydrateRoot,hd}var dR=hR();const fR=Af(dR),pR="modulepreload",mR=function(n){return"/"+n},Bw={},Tt=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){let l=function(f){return Promise.all(f.map(m=>Promise.resolve(m).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));i=l(t.map(f=>{if(f=mR(f),f in Bw)return;Bw[f]=!0;const m=f.endsWith(".css"),y=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${y}`))return;const v=document.createElement("link");if(v.rel=m?"stylesheet":pR,m||(v.as="script"),v.crossOrigin="",v.href=f,h&&v.setAttribute("nonce",h),document.head.appendChild(v),m)return new Promise((T,k)=>{v.addEventListener("load",T),v.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return i.then(l=>{for(const u of l||[])u.status==="rejected"&&o(u.reason);return e().catch(o)})};var D=Oy();const wg=Af(D),gR=LS({__proto__:null,default:wg},[D]);var jS=VS();const yR=Af(jS),vR=LS({__proto__:null,default:yR},[jS]);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ot(){return Ot=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ot.apply(this,arguments)}var Zt;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Zt||(Zt={}));const zw="popstate";function _R(n){n===void 0&&(n={});function e(r,i){let{pathname:o,search:l,hash:u}=r.location;return Tc("",{pathname:o,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:Ea(i)}return ER(e,t,null,n)}function Ke(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function jl(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wR(){return Math.random().toString(36).substr(2,8)}function qw(n,e){return{usr:n.state,key:n.key,idx:e}}function Tc(n,e,t,r){return t===void 0&&(t=null),Ot({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?xo(e):e,{state:t,key:e&&e.key||r||wR()})}function Ea(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function xo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function ER(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,u=Zt.Pop,h=null,f=m();f==null&&(f=0,l.replaceState(Ot({},l.state,{idx:f}),""));function m(){return(l.state||{idx:null}).idx}function y(){u=Zt.Pop;let P=m(),q=P==null?null:P-f;f=P,h&&h({action:u,location:A.location,delta:q})}function v(P,q){u=Zt.Push;let B=Tc(A.location,P,q);f=m()+1;let U=qw(B,f),J=A.createHref(B);try{l.pushState(U,"",J)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;i.location.assign(J)}o&&h&&h({action:u,location:A.location,delta:1})}function T(P,q){u=Zt.Replace;let B=Tc(A.location,P,q);f=m();let U=qw(B,f),J=A.createHref(B);l.replaceState(U,"",J),o&&h&&h({action:u,location:A.location,delta:0})}function k(P){let q=i.location.origin!=="null"?i.location.origin:i.location.href,B=typeof P=="string"?P:Ea(P);return B=B.replace(/ $/,"%20"),Ke(q,"No window.location.(origin|href) available to create URL for href: "+B),new URL(B,q)}let A={get action(){return u},get location(){return n(i,l)},listen(P){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(zw,y),h=P,()=>{i.removeEventListener(zw,y),h=null}},createHref(P){return e(i,P)},createURL:k,encodeLocation(P){let q=k(P);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:v,replace:T,go(P){return l.go(P)}};return A}var _t;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(_t||(_t={}));const TR=new Set(["lazy","caseSensitive","path","id","index","children"]);function SR(n){return n.index===!0}function Qd(n,e,t,r){return t===void 0&&(t=[]),r===void 0&&(r={}),n.map((i,o)=>{let l=[...t,String(o)],u=typeof i.id=="string"?i.id:l.join("-");if(Ke(i.index!==!0||!i.children,"Cannot specify children on an index route"),Ke(!r[u],'Found a route id collision on id "'+u+`".  Route id's must be globally unique within Data Router usages`),SR(i)){let h=Ot({},i,e(i),{id:u});return r[u]=h,h}else{let h=Ot({},i,e(i),{id:u,children:void 0});return r[u]=h,i.children&&(h.children=Qd(i.children,e,l,r)),h}})}function la(n,e,t){return t===void 0&&(t="/"),Dd(n,e,t,!1)}function Dd(n,e,t,r){let i=typeof e=="string"?xo(e):e,o=hs(i.pathname||"/",t);if(o==null)return null;let l=FS(n);xR(l);let u=null;for(let h=0;u==null&&h<l.length;++h){let f=LR(o);u=NR(l[h],f,r)}return u}function bR(n,e){let{route:t,pathname:r,params:i}=n;return{id:t.id,pathname:r,params:i,data:e[t.id],handle:t.handle}}function FS(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(o,l,u)=>{let h={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};h.relativePath.startsWith("/")&&(Ke(h.relativePath.startsWith(r),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(r.length));let f=os([r,h.relativePath]),m=t.concat(h);o.children&&o.children.length>0&&(Ke(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),FS(o.children,e,m,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:DR(f,o.index),routesMeta:m})};return n.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))i(o,l);else for(let h of US(o.path))i(o,l,h)}),e}function US(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=US(r.join("/")),u=[];return u.push(...l.map(h=>h===""?o:[o,h].join("/"))),i&&u.push(...l),u.map(h=>n.startsWith("/")&&h===""?"/":h)}function xR(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:OR(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const kR=/^:[\w-]+$/,IR=3,AR=2,PR=1,RR=10,CR=-2,Ww=n=>n==="*";function DR(n,e){let t=n.split("/"),r=t.length;return t.some(Ww)&&(r+=CR),e&&(r+=AR),t.filter(i=>!Ww(i)).reduce((i,o)=>i+(kR.test(o)?IR:o===""?PR:RR),r)}function OR(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function NR(n,e,t){t===void 0&&(t=!1);let{routesMeta:r}=n,i={},o="/",l=[];for(let u=0;u<r.length;++u){let h=r[u],f=u===r.length-1,m=o==="/"?e:e.slice(o.length)||"/",y=Jd({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},m),v=h.route;if(!y&&f&&t&&!r[r.length-1].route.index&&(y=Jd({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},m)),!y)return null;Object.assign(i,y.params),l.push({params:i,pathname:os([o,y.pathname]),pathnameBase:FR(os([o,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(o=os([o,y.pathnameBase]))}return l}function Jd(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=MR(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((f,m,y)=>{let{paramName:v,isOptional:T}=m;if(v==="*"){let A=u[y]||"";l=o.slice(0,o.length-A.length).replace(/(.)\/+$/,"$1")}const k=u[y];return T&&!k?f[v]=void 0:f[v]=(k||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:n}}function MR(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),jl(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,h)=>(r.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function LR(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return jl(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function hs(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function VR(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?xo(n):n;return{pathname:t?t.startsWith("/")?t:jR(t,e):e,search:UR(r),hash:$R(i)}}function jR(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Fm(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $S(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Pf(n,e){let t=$S(n);return e?t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function Rf(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=xo(n):(i=Ot({},n),Ke(!i.pathname||!i.pathname.includes("?"),Fm("?","pathname","search",i)),Ke(!i.pathname||!i.pathname.includes("#"),Fm("#","pathname","hash",i)),Ke(!i.search||!i.search.includes("#"),Fm("#","search","hash",i)));let o=n===""||i.pathname==="",l=o?"/":i.pathname,u;if(l==null)u=t;else{let y=e.length-1;if(!r&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),y-=1;i.pathname=v.join("/")}u=y>=0?e[y]:"/"}let h=VR(i,u),f=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(f||m)&&(h.pathname+="/"),h}const os=n=>n.join("/").replace(/\/\/+/g,"/"),FR=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),UR=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,$R=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;class Xd{constructor(e,t,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=t||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Sc(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const BS=["post","put","patch","delete"],BR=new Set(BS),zR=["get",...BS],qR=new Set(zR),WR=new Set([301,302,303,307,308]),HR=new Set([307,308]),Um={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},GR={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Wu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Ny=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,KR=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),zS="remix-router-transitions";function QR(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!t;Ke(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(n.mapRouteProperties)i=n.mapRouteProperties;else if(n.detectErrorBoundary){let V=n.detectErrorBoundary;i=W=>({hasErrorBoundary:V(W)})}else i=KR;let o={},l=Qd(n.routes,i,void 0,o),u,h=n.basename||"/",f=n.dataStrategy||ZR,m=n.patchRoutesOnNavigation,y=Ot({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},n.future),v=null,T=new Set,k=null,A=null,P=null,q=n.hydrationData!=null,B=la(l,n.history.location,h),U=!1,J=null;if(B==null&&!m){let V=or(404,{pathname:n.history.location.pathname}),{matches:W,route:X}=nE(l);B=W,J={[X.id]:V}}B&&!n.hydrationData&&di(B,l,n.history.location.pathname).active&&(B=null);let Z;if(B)if(B.some(V=>V.route.lazy))Z=!1;else if(!B.some(V=>V.route.loader))Z=!0;else if(y.v7_partialHydration){let V=n.hydrationData?n.hydrationData.loaderData:null,W=n.hydrationData?n.hydrationData.errors:null;if(W){let X=B.findIndex(se=>W[se.route.id]!==void 0);Z=B.slice(0,X+1).every(se=>!Tg(se.route,V,W))}else Z=B.every(X=>!Tg(X.route,V,W))}else Z=n.hydrationData!=null;else if(Z=!1,B=[],y.v7_partialHydration){let V=di(null,l,n.history.location.pathname);V.active&&V.matches&&(U=!0,B=V.matches)}let ne,x={historyAction:n.history.action,location:n.history.location,matches:B,initialized:Z,navigation:Um,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||J,fetchers:new Map,blockers:new Map},b=Zt.Pop,C=!1,O,j=!1,$=new Map,M=null,He=!1,lt=!1,dt=[],Ce=new Set,Q=new Map,Se=0,L=-1,re=new Map,de=new Set,fe=new Map,Ae=new Map,Ve=new Set,qe=new Map,Re=new Map,Qe;function Nt(){if(v=n.history.listen(V=>{let{action:W,location:X,delta:se}=V;if(Qe){Qe(),Qe=void 0;return}jl(Re.size===0||se!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let he=Fi({currentLocation:x.location,nextLocation:X,historyAction:W});if(he&&se!=null){let we=new Promise(Oe=>{Qe=Oe});n.history.go(se*-1),zr(he,{state:"blocked",location:X,proceed(){zr(he,{state:"proceeding",proceed:void 0,reset:void 0,location:X}),we.then(()=>n.history.go(se))},reset(){let Oe=new Map(x.blockers);Oe.set(he,Wu),wt({blockers:Oe})}});return}return cr(W,X)}),t){fC(e,$);let V=()=>pC(e,$);e.addEventListener("pagehide",V),M=()=>e.removeEventListener("pagehide",V)}return x.initialized||cr(Zt.Pop,x.location,{initialHydration:!0}),ne}function ur(){v&&v(),M&&M(),T.clear(),O&&O.abort(),x.fetchers.forEach((V,W)=>br(W)),x.blockers.forEach((V,W)=>ci(W))}function Un(V){return T.add(V),()=>T.delete(V)}function wt(V,W){W===void 0&&(W={}),x=Ot({},x,V);let X=[],se=[];y.v7_fetcherPersist&&x.fetchers.forEach((he,we)=>{he.state==="idle"&&(Ve.has(we)?se.push(we):X.push(we))}),Ve.forEach(he=>{!x.fetchers.has(he)&&!Q.has(he)&&se.push(he)}),[...T].forEach(he=>he(x,{deletedFetchers:se,viewTransitionOpts:W.viewTransitionOpts,flushSync:W.flushSync===!0})),y.v7_fetcherPersist?(X.forEach(he=>x.fetchers.delete(he)),se.forEach(he=>br(he))):se.forEach(he=>Ve.delete(he))}function $n(V,W,X){var se,he;let{flushSync:we}=X===void 0?{}:X,Oe=x.actionData!=null&&x.navigation.formMethod!=null&&ri(x.navigation.formMethod)&&x.navigation.state==="loading"&&((se=V.state)==null?void 0:se._isRedirect)!==!0,Ee;W.actionData?Object.keys(W.actionData).length>0?Ee=W.actionData:Ee=null:Oe?Ee=x.actionData:Ee=null;let _e=W.loaderData?eE(x.loaderData,W.loaderData,W.matches||[],W.errors):x.loaderData,ge=x.blockers;ge.size>0&&(ge=new Map(ge),ge.forEach((Be,Bt)=>ge.set(Bt,Wu)));let ye=C===!0||x.navigation.formMethod!=null&&ri(x.navigation.formMethod)&&((he=V.state)==null?void 0:he._isRedirect)!==!0;u&&(l=u,u=void 0),He||b===Zt.Pop||(b===Zt.Push?n.history.push(V,V.state):b===Zt.Replace&&n.history.replace(V,V.state));let je;if(b===Zt.Pop){let Be=$.get(x.location.pathname);Be&&Be.has(V.pathname)?je={currentLocation:x.location,nextLocation:V}:$.has(V.pathname)&&(je={currentLocation:V,nextLocation:x.location})}else if(j){let Be=$.get(x.location.pathname);Be?Be.add(V.pathname):(Be=new Set([V.pathname]),$.set(x.location.pathname,Be)),je={currentLocation:x.location,nextLocation:V}}wt(Ot({},W,{actionData:Ee,loaderData:_e,historyAction:b,location:V,initialized:!0,navigation:Um,revalidation:"idle",restoreScrollPosition:hi(V,W.matches||x.matches),preventScrollReset:ye,blockers:ge}),{viewTransitionOpts:je,flushSync:we===!0}),b=Zt.Pop,C=!1,j=!1,He=!1,lt=!1,dt=[]}async function ui(V,W){if(typeof V=="number"){n.history.go(V);return}let X=Eg(x.location,x.matches,h,y.v7_prependBasename,V,y.v7_relativeSplatPath,W==null?void 0:W.fromRouteId,W==null?void 0:W.relative),{path:se,submission:he,error:we}=Hw(y.v7_normalizeFormMethod,!1,X,W),Oe=x.location,Ee=Tc(x.location,se,W&&W.state);Ee=Ot({},Ee,n.history.encodeLocation(Ee));let _e=W&&W.replace!=null?W.replace:void 0,ge=Zt.Push;_e===!0?ge=Zt.Replace:_e===!1||he!=null&&ri(he.formMethod)&&he.formAction===x.location.pathname+x.location.search&&(ge=Zt.Replace);let ye=W&&"preventScrollReset"in W?W.preventScrollReset===!0:void 0,je=(W&&W.flushSync)===!0,Be=Fi({currentLocation:Oe,nextLocation:Ee,historyAction:ge});if(Be){zr(Be,{state:"blocked",location:Ee,proceed(){zr(Be,{state:"proceeding",proceed:void 0,reset:void 0,location:Ee}),ui(V,W)},reset(){let Bt=new Map(x.blockers);Bt.set(Be,Wu),wt({blockers:Bt})}});return}return await cr(ge,Ee,{submission:he,pendingError:we,preventScrollReset:ye,replace:W&&W.replace,enableViewTransition:W&&W.viewTransition,flushSync:je})}function Es(){if(Mt(),wt({revalidation:"loading"}),x.navigation.state!=="submitting"){if(x.navigation.state==="idle"){cr(x.historyAction,x.location,{startUninterruptedRevalidation:!0});return}cr(b||x.historyAction,x.navigation.location,{overrideNavigation:x.navigation,enableViewTransition:j===!0})}}async function cr(V,W,X){O&&O.abort(),O=null,b=V,He=(X&&X.startUninterruptedRevalidation)===!0,No(x.location,x.matches),C=(X&&X.preventScrollReset)===!0,j=(X&&X.enableViewTransition)===!0;let se=u||l,he=X&&X.overrideNavigation,we=X!=null&&X.initialHydration&&x.matches&&x.matches.length>0&&!U?x.matches:la(se,W,h),Oe=(X&&X.flushSync)===!0;if(we&&x.initialized&&!lt&&sC(x.location,W)&&!(X&&X.submission&&ri(X.submission.formMethod))){$n(W,{matches:we},{flushSync:Oe});return}let Ee=di(we,se,W.pathname);if(Ee.active&&Ee.matches&&(we=Ee.matches),!we){let{error:ft,notFoundMatches:Ye,route:yt}=kn(W.pathname);$n(W,{matches:Ye,loaderData:{},errors:{[yt.id]:ft}},{flushSync:Oe});return}O=new AbortController;let _e=fl(n.history,W,O.signal,X&&X.submission),ge;if(X&&X.pendingError)ge=[ua(we).route.id,{type:_t.error,error:X.pendingError}];else if(X&&X.submission&&ri(X.submission.formMethod)){let ft=await Co(_e,W,X.submission,we,Ee.active,{replace:X.replace,flushSync:Oe});if(ft.shortCircuited)return;if(ft.pendingActionResult){let[Ye,yt]=ft.pendingActionResult;if(wr(yt)&&Sc(yt.error)&&yt.error.status===404){O=null,$n(W,{matches:ft.matches,loaderData:{},errors:{[Ye]:yt.error}});return}}we=ft.matches||we,ge=ft.pendingActionResult,he=$m(W,X.submission),Oe=!1,Ee.active=!1,_e=fl(n.history,_e.url,_e.signal)}let{shortCircuited:ye,matches:je,loaderData:Be,errors:Bt}=await Da(_e,W,we,Ee.active,he,X&&X.submission,X&&X.fetcherSubmission,X&&X.replace,X&&X.initialHydration===!0,Oe,ge);ye||(O=null,$n(W,Ot({matches:je||we},tE(ge),{loaderData:Be,errors:Bt})))}async function Co(V,W,X,se,he,we){we===void 0&&(we={}),Mt();let Oe=hC(W,X);if(wt({navigation:Oe},{flushSync:we.flushSync===!0}),he){let ge=await Jn(se,W.pathname,V.signal);if(ge.type==="aborted")return{shortCircuited:!0};if(ge.type==="error"){let ye=ua(ge.partialMatches).route.id;return{matches:ge.partialMatches,pendingActionResult:[ye,{type:_t.error,error:ge.error}]}}else if(ge.matches)se=ge.matches;else{let{notFoundMatches:ye,error:je,route:Be}=kn(W.pathname);return{matches:ye,pendingActionResult:[Be.id,{type:_t.error,error:je}]}}}let Ee,_e=Yu(se,W);if(!_e.route.action&&!_e.route.lazy)Ee={type:_t.error,error:or(405,{method:V.method,pathname:W.pathname,routeId:_e.route.id})};else if(Ee=(await $r("action",x,V,[_e],se,null))[_e.route.id],V.signal.aborted)return{shortCircuited:!0};if(ha(Ee)){let ge;return we&&we.replace!=null?ge=we.replace:ge=Xw(Ee.response.headers.get("Location"),new URL(V.url),h)===x.location.pathname+x.location.search,await Gn(V,Ee,!0,{submission:X,replace:ge}),{shortCircuited:!0}}if(ao(Ee))throw or(400,{type:"defer-action"});if(wr(Ee)){let ge=ua(se,_e.route.id);return(we&&we.replace)!==!0&&(b=Zt.Push),{matches:se,pendingActionResult:[ge.route.id,Ee]}}return{matches:se,pendingActionResult:[_e.route.id,Ee]}}async function Da(V,W,X,se,he,we,Oe,Ee,_e,ge,ye){let je=he||$m(W,we),Be=we||Oe||iE(je),Bt=!He&&(!y.v7_partialHydration||!_e);if(se){if(Bt){let mt=Vi(ye);wt(Ot({navigation:je},mt!==void 0?{actionData:mt}:{}),{flushSync:ge})}let et=await Jn(X,W.pathname,V.signal);if(et.type==="aborted")return{shortCircuited:!0};if(et.type==="error"){let mt=ua(et.partialMatches).route.id;return{matches:et.partialMatches,loaderData:{},errors:{[mt]:et.error}}}else if(et.matches)X=et.matches;else{let{error:mt,notFoundMatches:Qt,route:mi}=kn(W.pathname);return{matches:Qt,loaderData:{},errors:{[mi.id]:mt}}}}let ft=u||l,[Ye,yt]=Kw(n.history,x,X,Be,W,y.v7_partialHydration&&_e===!0,y.v7_skipActionErrorRevalidation,lt,dt,Ce,Ve,fe,de,ft,h,ye);if(Qn(et=>!(X&&X.some(mt=>mt.route.id===et))||Ye&&Ye.some(mt=>mt.route.id===et)),L=++Se,Ye.length===0&&yt.length===0){let et=bs();return $n(W,Ot({matches:X,loaderData:{},errors:ye&&wr(ye[1])?{[ye[0]]:ye[1].error}:null},tE(ye),et?{fetchers:new Map(x.fetchers)}:{}),{flushSync:ge}),{shortCircuited:!0}}if(Bt){let et={};if(!se){et.navigation=je;let mt=Vi(ye);mt!==void 0&&(et.actionData=mt)}yt.length>0&&(et.fetchers=Fr(yt)),wt(et,{flushSync:ge})}yt.forEach(et=>{Kn(et.key),et.controller&&Q.set(et.key,et.controller)});let xr=()=>yt.forEach(et=>Kn(et.key));O&&O.signal.addEventListener("abort",xr);let{loaderResults:fi,fetcherResults:dr}=await $t(x,X,Ye,yt,V);if(V.signal.aborted)return{shortCircuited:!0};O&&O.signal.removeEventListener("abort",xr),yt.forEach(et=>Q.delete(et.key));let Ze=dd(fi);if(Ze)return await Gn(V,Ze.result,!0,{replace:Ee}),{shortCircuited:!0};if(Ze=dd(dr),Ze)return de.add(Ze.key),await Gn(V,Ze.result,!0,{replace:Ee}),{shortCircuited:!0};let{loaderData:Is,errors:fr}=Zw(x,X,fi,ye,yt,dr,qe);qe.forEach((et,mt)=>{et.subscribe(Qt=>{(Qt||et.done)&&qe.delete(mt)})}),y.v7_partialHydration&&_e&&x.errors&&(fr=Ot({},x.errors,fr));let In=bs(),yn=xs(L),pi=In||yn||yt.length>0;return Ot({matches:X,loaderData:Is,errors:fr},pi?{fetchers:new Map(x.fetchers)}:{})}function Vi(V){if(V&&!wr(V[1]))return{[V[0]]:V[1].data};if(x.actionData)return Object.keys(x.actionData).length===0?null:x.actionData}function Fr(V){return V.forEach(W=>{let X=x.fetchers.get(W.key),se=Hu(void 0,X?X.data:void 0);x.fetchers.set(W.key,se)}),new Map(x.fetchers)}function Ur(V,W,X,se){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Kn(V);let he=(se&&se.flushSync)===!0,we=u||l,Oe=Eg(x.location,x.matches,h,y.v7_prependBasename,X,y.v7_relativeSplatPath,W,se==null?void 0:se.relative),Ee=la(we,Oe,h),_e=di(Ee,we,Oe);if(_e.active&&_e.matches&&(Ee=_e.matches),!Ee){Bn(V,W,or(404,{pathname:Oe}),{flushSync:he});return}let{path:ge,submission:ye,error:je}=Hw(y.v7_normalizeFormMethod,!0,Oe,se);if(je){Bn(V,W,je,{flushSync:he});return}let Be=Yu(Ee,ge),Bt=(se&&se.preventScrollReset)===!0;if(ye&&ri(ye.formMethod)){Do(V,W,ge,Be,Ee,_e.active,he,Bt,ye);return}fe.set(V,{routeId:W,path:ge}),Ts(V,W,ge,Be,Ee,_e.active,he,Bt,ye)}async function Do(V,W,X,se,he,we,Oe,Ee,_e){Mt(),fe.delete(V);function ge(rt){if(!rt.route.action&&!rt.route.lazy){let kr=or(405,{method:_e.formMethod,pathname:X,routeId:W});return Bn(V,W,kr,{flushSync:Oe}),!0}return!1}if(!we&&ge(se))return;let ye=x.fetchers.get(V);un(V,dC(_e,ye),{flushSync:Oe});let je=new AbortController,Be=fl(n.history,X,je.signal,_e);if(we){let rt=await Jn(he,new URL(Be.url).pathname,Be.signal,V);if(rt.type==="aborted")return;if(rt.type==="error"){Bn(V,W,rt.error,{flushSync:Oe});return}else if(rt.matches){if(he=rt.matches,se=Yu(he,X),ge(se))return}else{Bn(V,W,or(404,{pathname:X}),{flushSync:Oe});return}}Q.set(V,je);let Bt=Se,Ye=(await $r("action",x,Be,[se],he,V))[se.route.id];if(Be.signal.aborted){Q.get(V)===je&&Q.delete(V);return}if(y.v7_fetcherPersist&&Ve.has(V)){if(ha(Ye)||wr(Ye)){un(V,Ys(void 0));return}}else{if(ha(Ye))if(Q.delete(V),L>Bt){un(V,Ys(void 0));return}else return de.add(V),un(V,Hu(_e)),Gn(Be,Ye,!1,{fetcherSubmission:_e,preventScrollReset:Ee});if(wr(Ye)){Bn(V,W,Ye.error);return}}if(ao(Ye))throw or(400,{type:"defer-action"});let yt=x.navigation.location||x.location,xr=fl(n.history,yt,je.signal),fi=u||l,dr=x.navigation.state!=="idle"?la(fi,x.navigation.location,h):x.matches;Ke(dr,"Didn't find any matches after fetcher action");let Ze=++Se;re.set(V,Ze);let Is=Hu(_e,Ye.data);x.fetchers.set(V,Is);let[fr,In]=Kw(n.history,x,dr,_e,yt,!1,y.v7_skipActionErrorRevalidation,lt,dt,Ce,Ve,fe,de,fi,h,[se.route.id,Ye]);In.filter(rt=>rt.key!==V).forEach(rt=>{let kr=rt.key,Lo=x.fetchers.get(kr),Oa=Hu(void 0,Lo?Lo.data:void 0);x.fetchers.set(kr,Oa),Kn(kr),rt.controller&&Q.set(kr,rt.controller)}),wt({fetchers:new Map(x.fetchers)});let yn=()=>In.forEach(rt=>Kn(rt.key));je.signal.addEventListener("abort",yn);let{loaderResults:pi,fetcherResults:et}=await $t(x,dr,fr,In,xr);if(je.signal.aborted)return;je.signal.removeEventListener("abort",yn),re.delete(V),Q.delete(V),In.forEach(rt=>Q.delete(rt.key));let mt=dd(pi);if(mt)return Gn(xr,mt.result,!1,{preventScrollReset:Ee});if(mt=dd(et),mt)return de.add(mt.key),Gn(xr,mt.result,!1,{preventScrollReset:Ee});let{loaderData:Qt,errors:mi}=Zw(x,dr,pi,void 0,In,et,qe);if(x.fetchers.has(V)){let rt=Ys(Ye.data);x.fetchers.set(V,rt)}xs(Ze),x.navigation.state==="loading"&&Ze>L?(Ke(b,"Expected pending action"),O&&O.abort(),$n(x.navigation.location,{matches:dr,loaderData:Qt,errors:mi,fetchers:new Map(x.fetchers)})):(wt({errors:mi,loaderData:eE(x.loaderData,Qt,dr,mi),fetchers:new Map(x.fetchers)}),lt=!1)}async function Ts(V,W,X,se,he,we,Oe,Ee,_e){let ge=x.fetchers.get(V);un(V,Hu(_e,ge?ge.data:void 0),{flushSync:Oe});let ye=new AbortController,je=fl(n.history,X,ye.signal);if(we){let Ye=await Jn(he,new URL(je.url).pathname,je.signal,V);if(Ye.type==="aborted")return;if(Ye.type==="error"){Bn(V,W,Ye.error,{flushSync:Oe});return}else if(Ye.matches)he=Ye.matches,se=Yu(he,X);else{Bn(V,W,or(404,{pathname:X}),{flushSync:Oe});return}}Q.set(V,ye);let Be=Se,ft=(await $r("loader",x,je,[se],he,V))[se.route.id];if(ao(ft)&&(ft=await My(ft,je.signal,!0)||ft),Q.get(V)===ye&&Q.delete(V),!je.signal.aborted){if(Ve.has(V)){un(V,Ys(void 0));return}if(ha(ft))if(L>Be){un(V,Ys(void 0));return}else{de.add(V),await Gn(je,ft,!1,{preventScrollReset:Ee});return}if(wr(ft)){Bn(V,W,ft.error);return}Ke(!ao(ft),"Unhandled fetcher deferred data"),un(V,Ys(ft.data))}}async function Gn(V,W,X,se){let{submission:he,fetcherSubmission:we,preventScrollReset:Oe,replace:Ee}=se===void 0?{}:se;W.response.headers.has("X-Remix-Revalidate")&&(lt=!0);let _e=W.response.headers.get("Location");Ke(_e,"Expected a Location header on the redirect Response"),_e=Xw(_e,new URL(V.url),h);let ge=Tc(x.location,_e,{_isRedirect:!0});if(t){let Ye=!1;if(W.response.headers.has("X-Remix-Reload-Document"))Ye=!0;else if(Ny.test(_e)){const yt=n.history.createURL(_e);Ye=yt.origin!==e.location.origin||hs(yt.pathname,h)==null}if(Ye){Ee?e.location.replace(_e):e.location.assign(_e);return}}O=null;let ye=Ee===!0||W.response.headers.has("X-Remix-Replace")?Zt.Replace:Zt.Push,{formMethod:je,formAction:Be,formEncType:Bt}=x.navigation;!he&&!we&&je&&Be&&Bt&&(he=iE(x.navigation));let ft=he||we;if(HR.has(W.response.status)&&ft&&ri(ft.formMethod))await cr(ye,ge,{submission:Ot({},ft,{formAction:_e}),preventScrollReset:Oe||C,enableViewTransition:X?j:void 0});else{let Ye=$m(ge,he);await cr(ye,ge,{overrideNavigation:Ye,fetcherSubmission:we,preventScrollReset:Oe||C,enableViewTransition:X?j:void 0})}}async function $r(V,W,X,se,he,we){let Oe,Ee={};try{Oe=await eC(f,V,W,X,se,he,we,o,i)}catch(_e){return se.forEach(ge=>{Ee[ge.route.id]={type:_t.error,error:_e}}),Ee}for(let[_e,ge]of Object.entries(Oe))if(oC(ge)){let ye=ge.result;Ee[_e]={type:_t.redirect,response:rC(ye,X,_e,he,h,y.v7_relativeSplatPath)}}else Ee[_e]=await nC(ge);return Ee}async function $t(V,W,X,se,he){let we=V.matches,Oe=$r("loader",V,he,X,W,null),Ee=Promise.all(se.map(async ye=>{if(ye.matches&&ye.match&&ye.controller){let Be=(await $r("loader",V,fl(n.history,ye.path,ye.controller.signal),[ye.match],ye.matches,ye.key))[ye.match.route.id];return{[ye.key]:Be}}else return Promise.resolve({[ye.key]:{type:_t.error,error:or(404,{pathname:ye.path})}})})),_e=await Oe,ge=(await Ee).reduce((ye,je)=>Object.assign(ye,je),{});return await Promise.all([uC(W,_e,he.signal,we,V.loaderData),cC(W,ge,se)]),{loaderResults:_e,fetcherResults:ge}}function Mt(){lt=!0,dt.push(...Qn()),fe.forEach((V,W)=>{Q.has(W)&&Ce.add(W),Kn(W)})}function un(V,W,X){X===void 0&&(X={}),x.fetchers.set(V,W),wt({fetchers:new Map(x.fetchers)},{flushSync:(X&&X.flushSync)===!0})}function Bn(V,W,X,se){se===void 0&&(se={});let he=ua(x.matches,W);br(V),wt({errors:{[he.route.id]:X},fetchers:new Map(x.fetchers)},{flushSync:(se&&se.flushSync)===!0})}function Br(V){return Ae.set(V,(Ae.get(V)||0)+1),Ve.has(V)&&Ve.delete(V),x.fetchers.get(V)||GR}function br(V){let W=x.fetchers.get(V);Q.has(V)&&!(W&&W.state==="loading"&&re.has(V))&&Kn(V),fe.delete(V),re.delete(V),de.delete(V),y.v7_fetcherPersist&&Ve.delete(V),Ce.delete(V),x.fetchers.delete(V)}function ji(V){let W=(Ae.get(V)||0)-1;W<=0?(Ae.delete(V),Ve.add(V),y.v7_fetcherPersist||br(V)):Ae.set(V,W),wt({fetchers:new Map(x.fetchers)})}function Kn(V){let W=Q.get(V);W&&(W.abort(),Q.delete(V))}function Ss(V){for(let W of V){let X=Br(W),se=Ys(X.data);x.fetchers.set(W,se)}}function bs(){let V=[],W=!1;for(let X of de){let se=x.fetchers.get(X);Ke(se,"Expected fetcher: "+X),se.state==="loading"&&(de.delete(X),V.push(X),W=!0)}return Ss(V),W}function xs(V){let W=[];for(let[X,se]of re)if(se<V){let he=x.fetchers.get(X);Ke(he,"Expected fetcher: "+X),he.state==="loading"&&(Kn(X),re.delete(X),W.push(X))}return Ss(W),W.length>0}function Oo(V,W){let X=x.blockers.get(V)||Wu;return Re.get(V)!==W&&Re.set(V,W),X}function ci(V){x.blockers.delete(V),Re.delete(V)}function zr(V,W){let X=x.blockers.get(V)||Wu;Ke(X.state==="unblocked"&&W.state==="blocked"||X.state==="blocked"&&W.state==="blocked"||X.state==="blocked"&&W.state==="proceeding"||X.state==="blocked"&&W.state==="unblocked"||X.state==="proceeding"&&W.state==="unblocked","Invalid blocker state transition: "+X.state+" -> "+W.state);let se=new Map(x.blockers);se.set(V,W),wt({blockers:se})}function Fi(V){let{currentLocation:W,nextLocation:X,historyAction:se}=V;if(Re.size===0)return;Re.size>1&&jl(!1,"A router only supports one blocker at a time");let he=Array.from(Re.entries()),[we,Oe]=he[he.length-1],Ee=x.blockers.get(we);if(!(Ee&&Ee.state==="proceeding")&&Oe({currentLocation:W,nextLocation:X,historyAction:se}))return we}function kn(V){let W=or(404,{pathname:V}),X=u||l,{matches:se,route:he}=nE(X);return Qn(),{notFoundMatches:se,route:he,error:W}}function Qn(V){let W=[];return qe.forEach((X,se)=>{(!V||V(se))&&(X.cancel(),W.push(se),qe.delete(se))}),W}function ks(V,W,X){if(k=V,P=W,A=X||null,!q&&x.navigation===Um){q=!0;let se=hi(x.location,x.matches);se!=null&&wt({restoreScrollPosition:se})}return()=>{k=null,P=null,A=null}}function hr(V,W){return A&&A(V,W.map(se=>bR(se,x.loaderData)))||V.key}function No(V,W){if(k&&P){let X=hr(V,W);k[X]=P()}}function hi(V,W){if(k){let X=hr(V,W),se=k[X];if(typeof se=="number")return se}return null}function di(V,W,X){if(m)if(V){if(Object.keys(V[0].params).length>0)return{active:!0,matches:Dd(W,X,h,!0)}}else return{active:!0,matches:Dd(W,X,h,!0)||[]};return{active:!1,matches:null}}async function Jn(V,W,X,se){if(!m)return{type:"success",matches:V};let he=V;for(;;){let we=u==null,Oe=u||l,Ee=o;try{await m({signal:X,path:W,matches:he,fetcherKey:se,patch:(ye,je)=>{X.aborted||Jw(ye,je,Oe,Ee,i)}})}catch(ye){return{type:"error",error:ye,partialMatches:he}}finally{we&&!X.aborted&&(l=[...l])}if(X.aborted)return{type:"aborted"};let _e=la(Oe,W,h);if(_e)return{type:"success",matches:_e};let ge=Dd(Oe,W,h,!0);if(!ge||he.length===ge.length&&he.every((ye,je)=>ye.route.id===ge[je].route.id))return{type:"success",matches:null};he=ge}}function Mo(V){o={},u=Qd(V,i,void 0,o)}function Lt(V,W){let X=u==null;Jw(V,W,u||l,o,i),X&&(l=[...l],wt({}))}return ne={get basename(){return h},get future(){return y},get state(){return x},get routes(){return l},get window(){return e},initialize:Nt,subscribe:Un,enableScrollRestoration:ks,navigate:ui,fetch:Ur,revalidate:Es,createHref:V=>n.history.createHref(V),encodeLocation:V=>n.history.encodeLocation(V),getFetcher:Br,deleteFetcher:ji,dispose:ur,getBlocker:Oo,deleteBlocker:ci,patchRoutes:Lt,_internalFetchControllers:Q,_internalActiveDeferreds:qe,_internalSetRoutes:Mo},ne}function JR(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function Eg(n,e,t,r,i,o,l,u){let h,f;if(l){h=[];for(let y of e)if(h.push(y),y.route.id===l){f=y;break}}else h=e,f=e[e.length-1];let m=Rf(i||".",Pf(h,o),hs(n.pathname,t)||n.pathname,u==="path");if(i==null&&(m.search=n.search,m.hash=n.hash),(i==null||i===""||i===".")&&f){let y=Ly(m.search);if(f.route.index&&!y)m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index";else if(!f.route.index&&y){let v=new URLSearchParams(m.search),T=v.getAll("index");v.delete("index"),T.filter(A=>A).forEach(A=>v.append("index",A));let k=v.toString();m.search=k?"?"+k:""}}return r&&t!=="/"&&(m.pathname=m.pathname==="/"?t:os([t,m.pathname])),Ea(m)}function Hw(n,e,t,r){if(!r||!JR(r))return{path:t};if(r.formMethod&&!lC(r.formMethod))return{path:t,error:or(405,{method:r.formMethod})};let i=()=>({path:t,error:or(400,{type:"invalid-body"})}),o=r.formMethod||"get",l=n?o.toUpperCase():o.toLowerCase(),u=HS(t);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!ri(l))return i();let v=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((T,k)=>{let[A,P]=k;return""+T+A+"="+P+`
`},""):String(r.body);return{path:t,submission:{formMethod:l,formAction:u,formEncType:r.formEncType,formData:void 0,json:void 0,text:v}}}else if(r.formEncType==="application/json"){if(!ri(l))return i();try{let v=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:l,formAction:u,formEncType:r.formEncType,formData:void 0,json:v,text:void 0}}}catch{return i()}}}Ke(typeof FormData=="function","FormData is not available in this environment");let h,f;if(r.formData)h=Sg(r.formData),f=r.formData;else if(r.body instanceof FormData)h=Sg(r.body),f=r.body;else if(r.body instanceof URLSearchParams)h=r.body,f=Yw(h);else if(r.body==null)h=new URLSearchParams,f=new FormData;else try{h=new URLSearchParams(r.body),f=Yw(h)}catch{return i()}let m={formMethod:l,formAction:u,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(ri(m.formMethod))return{path:t,submission:m};let y=xo(t);return e&&y.search&&Ly(y.search)&&h.append("index",""),y.search="?"+h,{path:Ea(y),submission:m}}function Gw(n,e,t){t===void 0&&(t=!1);let r=n.findIndex(i=>i.route.id===e);return r>=0?n.slice(0,t?r+1:r):n}function Kw(n,e,t,r,i,o,l,u,h,f,m,y,v,T,k,A){let P=A?wr(A[1])?A[1].error:A[1].data:void 0,q=n.createURL(e.location),B=n.createURL(i),U=t;o&&e.errors?U=Gw(t,Object.keys(e.errors)[0],!0):A&&wr(A[1])&&(U=Gw(t,A[0]));let J=A?A[1].statusCode:void 0,Z=l&&J&&J>=400,ne=U.filter((b,C)=>{let{route:O}=b;if(O.lazy)return!0;if(O.loader==null)return!1;if(o)return Tg(O,e.loaderData,e.errors);if(XR(e.loaderData,e.matches[C],b)||h.some(M=>M===b.route.id))return!0;let j=e.matches[C],$=b;return Qw(b,Ot({currentUrl:q,currentParams:j.params,nextUrl:B,nextParams:$.params},r,{actionResult:P,actionStatus:J,defaultShouldRevalidate:Z?!1:u||q.pathname+q.search===B.pathname+B.search||q.search!==B.search||qS(j,$)}))}),x=[];return y.forEach((b,C)=>{if(o||!t.some(He=>He.route.id===b.routeId)||m.has(C))return;let O=la(T,b.path,k);if(!O){x.push({key:C,routeId:b.routeId,path:b.path,matches:null,match:null,controller:null});return}let j=e.fetchers.get(C),$=Yu(O,b.path),M=!1;v.has(C)?M=!1:f.has(C)?(f.delete(C),M=!0):j&&j.state!=="idle"&&j.data===void 0?M=u:M=Qw($,Ot({currentUrl:q,currentParams:e.matches[e.matches.length-1].params,nextUrl:B,nextParams:t[t.length-1].params},r,{actionResult:P,actionStatus:J,defaultShouldRevalidate:Z?!1:u})),M&&x.push({key:C,routeId:b.routeId,path:b.path,matches:O,match:$,controller:new AbortController})}),[ne,x]}function Tg(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let r=e!=null&&e[n.id]!==void 0,i=t!=null&&t[n.id]!==void 0;return!r&&i?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!r&&!i}function XR(n,e,t){let r=!e||t.route.id!==e.route.id,i=n[t.route.id]===void 0;return r||i}function qS(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function Qw(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function Jw(n,e,t,r,i){var o;let l;if(n){let f=r[n];Ke(f,"No route found to patch children into: routeId = "+n),f.children||(f.children=[]),l=f.children}else l=t;let u=e.filter(f=>!l.some(m=>WS(f,m))),h=Qd(u,i,[n||"_","patch",String(((o=l)==null?void 0:o.length)||"0")],r);l.push(...h)}function WS(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,r)=>{var i;return(i=e.children)==null?void 0:i.some(o=>WS(t,o))}):!1}async function YR(n,e,t){if(!n.lazy)return;let r=await n.lazy();if(!n.lazy)return;let i=t[n.id];Ke(i,"No route found in manifest");let o={};for(let l in r){let h=i[l]!==void 0&&l!=="hasErrorBoundary";jl(!h,'Route "'+i.id+'" has a static property "'+l+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+l+'" will be ignored.')),!h&&!TR.has(l)&&(o[l]=r[l])}Object.assign(i,o),Object.assign(i,Ot({},e(i),{lazy:void 0}))}async function ZR(n){let{matches:e}=n,t=e.filter(i=>i.shouldLoad);return(await Promise.all(t.map(i=>i.resolve()))).reduce((i,o,l)=>Object.assign(i,{[t[l].route.id]:o}),{})}async function eC(n,e,t,r,i,o,l,u,h,f){let m=o.map(T=>T.route.lazy?YR(T.route,h,u):void 0),y=o.map((T,k)=>{let A=m[k],P=i.some(B=>B.route.id===T.route.id);return Ot({},T,{shouldLoad:P,resolve:async B=>(B&&r.method==="GET"&&(T.route.lazy||T.route.loader)&&(P=!0),P?tC(e,r,T,A,B,f):Promise.resolve({type:_t.data,result:void 0}))})}),v=await n({matches:y,request:r,params:o[0].params,fetcherKey:l,context:f});try{await Promise.all(m)}catch{}return v}async function tC(n,e,t,r,i,o){let l,u,h=f=>{let m,y=new Promise((k,A)=>m=A);u=()=>m(),e.signal.addEventListener("abort",u);let v=k=>typeof f!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+n+'" [routeId: '+t.route.id+"]"))):f({request:e,params:t.params,context:o},...k!==void 0?[k]:[]),T=(async()=>{try{return{type:"data",result:await(i?i(A=>v(A)):v())}}catch(k){return{type:"error",result:k}}})();return Promise.race([T,y])};try{let f=t.route[n];if(r)if(f){let m,[y]=await Promise.all([h(f).catch(v=>{m=v}),r]);if(m!==void 0)throw m;l=y}else if(await r,f=t.route[n],f)l=await h(f);else if(n==="action"){let m=new URL(e.url),y=m.pathname+m.search;throw or(405,{method:e.method,pathname:y,routeId:t.route.id})}else return{type:_t.data,result:void 0};else if(f)l=await h(f);else{let m=new URL(e.url),y=m.pathname+m.search;throw or(404,{pathname:y})}Ke(l.result!==void 0,"You defined "+(n==="action"?"an action":"a loader")+" for route "+('"'+t.route.id+"\" but didn't return anything from your `"+n+"` ")+"function. Please return a value or `null`.")}catch(f){return{type:_t.error,result:f}}finally{u&&e.signal.removeEventListener("abort",u)}return l}async function nC(n){let{result:e,type:t}=n;if(GS(e)){let y;try{let v=e.headers.get("Content-Type");v&&/\bapplication\/json\b/.test(v)?e.body==null?y=null:y=await e.json():y=await e.text()}catch(v){return{type:_t.error,error:v}}return t===_t.error?{type:_t.error,error:new Xd(e.status,e.statusText,y),statusCode:e.status,headers:e.headers}:{type:_t.data,data:y,statusCode:e.status,headers:e.headers}}if(t===_t.error){if(rE(e)){var r,i;if(e.data instanceof Error){var o,l;return{type:_t.error,error:e.data,statusCode:(o=e.init)==null?void 0:o.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:_t.error,error:new Xd(((r=e.init)==null?void 0:r.status)||500,void 0,e.data),statusCode:Sc(e)?e.status:void 0,headers:(i=e.init)!=null&&i.headers?new Headers(e.init.headers):void 0}}return{type:_t.error,error:e,statusCode:Sc(e)?e.status:void 0}}if(aC(e)){var u,h;return{type:_t.deferred,deferredData:e,statusCode:(u=e.init)==null?void 0:u.status,headers:((h=e.init)==null?void 0:h.headers)&&new Headers(e.init.headers)}}if(rE(e)){var f,m;return{type:_t.data,data:e.data,statusCode:(f=e.init)==null?void 0:f.status,headers:(m=e.init)!=null&&m.headers?new Headers(e.init.headers):void 0}}return{type:_t.data,data:e}}function rC(n,e,t,r,i,o){let l=n.headers.get("Location");if(Ke(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!Ny.test(l)){let u=r.slice(0,r.findIndex(h=>h.route.id===t)+1);l=Eg(new URL(e.url),u,i,!0,l,o),n.headers.set("Location",l)}return n}function Xw(n,e,t){if(Ny.test(n)){let r=n,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=hs(i.pathname,t)!=null;if(i.origin===e.origin&&o)return i.pathname+i.search+i.hash}return n}function fl(n,e,t,r){let i=n.createURL(HS(e)).toString(),o={signal:t};if(r&&ri(r.formMethod)){let{formMethod:l,formEncType:u}=r;o.method=l.toUpperCase(),u==="application/json"?(o.headers=new Headers({"Content-Type":u}),o.body=JSON.stringify(r.json)):u==="text/plain"?o.body=r.text:u==="application/x-www-form-urlencoded"&&r.formData?o.body=Sg(r.formData):o.body=r.formData}return new Request(i,o)}function Sg(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function Yw(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function iC(n,e,t,r,i){let o={},l=null,u,h=!1,f={},m=t&&wr(t[1])?t[1].error:void 0;return n.forEach(y=>{if(!(y.route.id in e))return;let v=y.route.id,T=e[v];if(Ke(!ha(T),"Cannot handle redirect results in processLoaderData"),wr(T)){let k=T.error;m!==void 0&&(k=m,m=void 0),l=l||{};{let A=ua(n,v);l[A.route.id]==null&&(l[A.route.id]=k)}o[v]=void 0,h||(h=!0,u=Sc(T.error)?T.error.status:500),T.headers&&(f[v]=T.headers)}else ao(T)?(r.set(v,T.deferredData),o[v]=T.deferredData.data,T.statusCode!=null&&T.statusCode!==200&&!h&&(u=T.statusCode),T.headers&&(f[v]=T.headers)):(o[v]=T.data,T.statusCode&&T.statusCode!==200&&!h&&(u=T.statusCode),T.headers&&(f[v]=T.headers))}),m!==void 0&&t&&(l={[t[0]]:m},o[t[0]]=void 0),{loaderData:o,errors:l,statusCode:u||200,loaderHeaders:f}}function Zw(n,e,t,r,i,o,l){let{loaderData:u,errors:h}=iC(e,t,r,l);return i.forEach(f=>{let{key:m,match:y,controller:v}=f,T=o[m];if(Ke(T,"Did not find corresponding fetcher result"),!(v&&v.signal.aborted))if(wr(T)){let k=ua(n.matches,y==null?void 0:y.route.id);h&&h[k.route.id]||(h=Ot({},h,{[k.route.id]:T.error})),n.fetchers.delete(m)}else if(ha(T))Ke(!1,"Unhandled fetcher revalidation redirect");else if(ao(T))Ke(!1,"Unhandled fetcher deferred data");else{let k=Ys(T.data);n.fetchers.set(m,k)}}),{loaderData:u,errors:h}}function eE(n,e,t,r){let i=Ot({},e);for(let o of t){let l=o.route.id;if(e.hasOwnProperty(l)?e[l]!==void 0&&(i[l]=e[l]):n[l]!==void 0&&o.route.loader&&(i[l]=n[l]),r&&r.hasOwnProperty(l))break}return i}function tE(n){return n?wr(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function ua(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function nE(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function or(n,e){let{pathname:t,routeId:r,method:i,type:o,message:l}=e===void 0?{}:e,u="Unknown Server Error",h="Unknown @remix-run/router error";return n===400?(u="Bad Request",i&&t&&r?h="You made a "+i+' request to "'+t+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?h="defer() is not supported in actions":o==="invalid-body"&&(h="Unable to encode submission body")):n===403?(u="Forbidden",h='Route "'+r+'" does not match URL "'+t+'"'):n===404?(u="Not Found",h='No route matches URL "'+t+'"'):n===405&&(u="Method Not Allowed",i&&t&&r?h="You made a "+i.toUpperCase()+' request to "'+t+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(h='Invalid request method "'+i.toUpperCase()+'"')),new Xd(n||500,u,new Error(h),!0)}function dd(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[r,i]=e[t];if(ha(i))return{key:r,result:i}}}function HS(n){let e=typeof n=="string"?xo(n):n;return Ea(Ot({},e,{hash:""}))}function sC(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function oC(n){return GS(n.result)&&WR.has(n.result.status)}function ao(n){return n.type===_t.deferred}function wr(n){return n.type===_t.error}function ha(n){return(n&&n.type)===_t.redirect}function rE(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function aC(n){let e=n;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function GS(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function lC(n){return qR.has(n.toLowerCase())}function ri(n){return BR.has(n.toLowerCase())}async function uC(n,e,t,r,i){let o=Object.entries(e);for(let l=0;l<o.length;l++){let[u,h]=o[l],f=n.find(v=>(v==null?void 0:v.route.id)===u);if(!f)continue;let m=r.find(v=>v.route.id===f.route.id),y=m!=null&&!qS(m,f)&&(i&&i[f.route.id])!==void 0;ao(h)&&y&&await My(h,t,!1).then(v=>{v&&(e[u]=v)})}}async function cC(n,e,t){for(let r=0;r<t.length;r++){let{key:i,routeId:o,controller:l}=t[r],u=e[i];n.find(f=>(f==null?void 0:f.route.id)===o)&&ao(u)&&(Ke(l,"Expected an AbortController for revalidating fetcher deferred result"),await My(u,l.signal,!0).then(f=>{f&&(e[i]=f)}))}}async function My(n,e,t){if(t===void 0&&(t=!1),!await n.deferredData.resolveData(e)){if(t)try{return{type:_t.data,data:n.deferredData.unwrappedData}}catch(i){return{type:_t.error,error:i}}return{type:_t.data,data:n.deferredData.data}}}function Ly(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Yu(n,e){let t=typeof e=="string"?xo(e).search:e.search;if(n[n.length-1].route.index&&Ly(t||""))return n[n.length-1];let r=$S(n);return r[r.length-1]}function iE(n){let{formMethod:e,formAction:t,formEncType:r,text:i,formData:o,json:l}=n;if(!(!e||!t||!r)){if(i!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:t,formEncType:r,formData:o,json:void 0,text:void 0};if(l!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:l,text:void 0}}}function $m(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function hC(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Hu(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function dC(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function Ys(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function fC(n,e){try{let t=n.sessionStorage.getItem(zS);if(t){let r=JSON.parse(t);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(i,new Set(o||[]))}}catch{}}function pC(n,e){if(e.size>0){let t={};for(let[r,i]of e)t[r]=[...i];try{n.sessionStorage.setItem(zS,JSON.stringify(t))}catch(r){jl(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yd(){return Yd=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Yd.apply(this,arguments)}const $c=D.createContext(null),Vy=D.createContext(null),vs=D.createContext(null),jy=D.createContext(null),Li=D.createContext({outlet:null,matches:[],isDataRoute:!1}),KS=D.createContext(null);function mC(n,e){let{relative:t}=e===void 0?{}:e;Zl()||Ke(!1);let{basename:r,navigator:i}=D.useContext(vs),{hash:o,pathname:l,search:u}=Cf(n,{relative:t}),h=l;return r!=="/"&&(h=l==="/"?r:os([r,l])),i.createHref({pathname:h,search:u,hash:o})}function Zl(){return D.useContext(jy)!=null}function jr(){return Zl()||Ke(!1),D.useContext(jy).location}function QS(n){D.useContext(vs).static||D.useLayoutEffect(n)}function eu(){let{isDataRoute:n}=D.useContext(Li);return n?PC():gC()}function gC(){Zl()||Ke(!1);let n=D.useContext($c),{basename:e,future:t,navigator:r}=D.useContext(vs),{matches:i}=D.useContext(Li),{pathname:o}=jr(),l=JSON.stringify(Pf(i,t.v7_relativeSplatPath)),u=D.useRef(!1);return QS(()=>{u.current=!0}),D.useCallback(function(f,m){if(m===void 0&&(m={}),!u.current)return;if(typeof f=="number"){r.go(f);return}let y=Rf(f,JSON.parse(l),o,m.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:os([e,y.pathname])),(m.replace?r.replace:r.push)(y,m.state,m)},[e,r,l,o,n])}const yC=D.createContext(null);function vC(n){let e=D.useContext(Li).outlet;return e&&D.createElement(yC.Provider,{value:n},e)}function BB(){let{matches:n}=D.useContext(Li),e=n[n.length-1];return e?e.params:{}}function Cf(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=D.useContext(vs),{matches:i}=D.useContext(Li),{pathname:o}=jr(),l=JSON.stringify(Pf(i,r.v7_relativeSplatPath));return D.useMemo(()=>Rf(n,JSON.parse(l),o,t==="path"),[n,l,o,t])}function _C(n,e,t,r){Zl()||Ke(!1);let{navigator:i}=D.useContext(vs),{matches:o}=D.useContext(Li),l=o[o.length-1],u=l?l.params:{};l&&l.pathname;let h=l?l.pathnameBase:"/";l&&l.route;let f=jr(),m;m=f;let y=m.pathname||"/",v=y;if(h!=="/"){let A=h.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(A.length).join("/")}let T=la(n,{pathname:v});return bC(T&&T.map(A=>Object.assign({},A,{params:Object.assign({},u,A.params),pathname:os([h,i.encodeLocation?i.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?h:os([h,i.encodeLocation?i.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),o,t,r)}function wC(){let n=AC(),e=Sc(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),t?D.createElement("pre",{style:i},t):null,null)}const EC=D.createElement(wC,null);class TC extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?D.createElement(Li.Provider,{value:this.props.routeContext},D.createElement(KS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function SC(n){let{routeContext:e,match:t,children:r}=n,i=D.useContext($c);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),D.createElement(Li.Provider,{value:e},r)}function bC(n,e,t,r){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var o;if(!t)return null;if(t.errors)n=t.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,u=(i=t)==null?void 0:i.errors;if(u!=null){let m=l.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);m>=0||Ke(!1),l=l.slice(0,Math.min(l.length,m+1))}let h=!1,f=-1;if(t&&r&&r.v7_partialHydration)for(let m=0;m<l.length;m++){let y=l[m];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=m),y.route.id){let{loaderData:v,errors:T}=t,k=y.route.loader&&v[y.route.id]===void 0&&(!T||T[y.route.id]===void 0);if(y.route.lazy||k){h=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((m,y,v)=>{let T,k=!1,A=null,P=null;t&&(T=u&&y.route.id?u[y.route.id]:void 0,A=y.route.errorElement||EC,h&&(f<0&&v===0?(RC("route-fallback"),k=!0,P=null):f===v&&(k=!0,P=y.route.hydrateFallbackElement||null)));let q=e.concat(l.slice(0,v+1)),B=()=>{let U;return T?U=A:k?U=P:y.route.Component?U=D.createElement(y.route.Component,null):y.route.element?U=y.route.element:U=m,D.createElement(SC,{match:y,routeContext:{outlet:m,matches:q,isDataRoute:t!=null},children:U})};return t&&(y.route.ErrorBoundary||y.route.errorElement||v===0)?D.createElement(TC,{location:t.location,revalidation:t.revalidation,component:A,error:T,children:B(),routeContext:{outlet:null,matches:q,isDataRoute:!0}}):B()},null)}var JS=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(JS||{}),XS=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(XS||{});function xC(n){let e=D.useContext($c);return e||Ke(!1),e}function kC(n){let e=D.useContext(Vy);return e||Ke(!1),e}function IC(n){let e=D.useContext(Li);return e||Ke(!1),e}function YS(n){let e=IC(),t=e.matches[e.matches.length-1];return t.route.id||Ke(!1),t.route.id}function AC(){var n;let e=D.useContext(KS),t=kC(),r=YS();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function PC(){let{router:n}=xC(JS.UseNavigateStable),e=YS(XS.UseNavigateStable),t=D.useRef(!1);return QS(()=>{t.current=!0}),D.useCallback(function(i,o){o===void 0&&(o={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,Yd({fromRouteId:e},o)))},[n,e])}const sE={};function RC(n,e,t){sE[n]||(sE[n]=!0)}function CC(n,e){n==null||n.v7_startTransition,(n==null?void 0:n.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function DC(n){let{to:e,replace:t,state:r,relative:i}=n;Zl()||Ke(!1);let{future:o,static:l}=D.useContext(vs),{matches:u}=D.useContext(Li),{pathname:h}=jr(),f=eu(),m=Rf(e,Pf(u,o.v7_relativeSplatPath),h,i==="path"),y=JSON.stringify(m);return D.useEffect(()=>f(JSON.parse(y),{replace:t,state:r,relative:i}),[f,y,i,t,r]),null}function OC(n){return vC(n.context)}function At(n){Ke(!1)}function NC(n){let{basename:e="/",children:t=null,location:r,navigationType:i=Zt.Pop,navigator:o,static:l=!1,future:u}=n;Zl()&&Ke(!1);let h=e.replace(/^\/*/,"/"),f=D.useMemo(()=>({basename:h,navigator:o,static:l,future:Yd({v7_relativeSplatPath:!1},u)}),[h,u,o,l]);typeof r=="string"&&(r=xo(r));let{pathname:m="/",search:y="",hash:v="",state:T=null,key:k="default"}=r,A=D.useMemo(()=>{let P=hs(m,h);return P==null?null:{location:{pathname:P,search:y,hash:v,state:T,key:k},navigationType:i}},[h,m,y,v,T,k,i]);return A==null?null:D.createElement(vs.Provider,{value:f},D.createElement(jy.Provider,{children:t,value:A}))}new Promise(()=>{});function bg(n,e){e===void 0&&(e=[]);let t=[];return D.Children.forEach(n,(r,i)=>{if(!D.isValidElement(r))return;let o=[...e,i];if(r.type===D.Fragment){t.push.apply(t,bg(r.props.children,o));return}r.type!==At&&Ke(!1),!r.props.index||!r.props.children||Ke(!1);let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=bg(r.props.children,o)),t.push(l)}),t}function MC(n){let e={hasErrorBoundary:n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&Object.assign(e,{element:D.createElement(n.Component),Component:void 0}),n.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:D.createElement(n.HydrateFallback),HydrateFallback:void 0}),n.ErrorBoundary&&Object.assign(e,{errorElement:D.createElement(n.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fl(){return Fl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Fl.apply(this,arguments)}function ZS(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function LC(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function VC(n,e){return n.button===0&&(!e||e==="_self")&&!LC(n)}function xg(n){return n===void 0&&(n=""),new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(i=>[t,i]):[[t,r]])},[]))}function jC(n,e){let t=xg(n);return e&&e.forEach((r,i)=>{t.has(i)||e.getAll(i).forEach(o=>{t.append(i,o)})}),t}const FC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],UC=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],$C="6";try{window.__reactRouterVersion=$C}catch{}function BC(n,e){return QR({basename:void 0,future:Fl({},void 0,{v7_prependBasename:!0}),history:_R({window:void 0}),hydrationData:zC(),routes:n,mapRouteProperties:MC,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function zC(){var n;let e=(n=window)==null?void 0:n.__staticRouterHydrationData;return e&&e.errors&&(e=Fl({},e,{errors:qC(e.errors)})),e}function qC(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")t[r]=new Xd(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let l=new o(i.message);l.stack="",t[r]=l}catch{}}if(t[r]==null){let o=new Error(i.message);o.stack="",t[r]=o}}else t[r]=i;return t}const eb=D.createContext({isTransitioning:!1}),WC=D.createContext(new Map),HC="startTransition",oE=gR[HC],GC="flushSync",aE=vR[GC];function KC(n){oE?oE(n):n()}function Gu(n){aE?aE(n):n()}let QC=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}};function JC(n){let{fallbackElement:e,router:t,future:r}=n,[i,o]=D.useState(t.state),[l,u]=D.useState(),[h,f]=D.useState({isTransitioning:!1}),[m,y]=D.useState(),[v,T]=D.useState(),[k,A]=D.useState(),P=D.useRef(new Map),{v7_startTransition:q}=r||{},B=D.useCallback(b=>{q?KC(b):b()},[q]),U=D.useCallback((b,C)=>{let{deletedFetchers:O,flushSync:j,viewTransitionOpts:$}=C;b.fetchers.forEach((He,lt)=>{He.data!==void 0&&P.current.set(lt,He.data)}),O.forEach(He=>P.current.delete(He));let M=t.window==null||t.window.document==null||typeof t.window.document.startViewTransition!="function";if(!$||M){j?Gu(()=>o(b)):B(()=>o(b));return}if(j){Gu(()=>{v&&(m&&m.resolve(),v.skipTransition()),f({isTransitioning:!0,flushSync:!0,currentLocation:$.currentLocation,nextLocation:$.nextLocation})});let He=t.window.document.startViewTransition(()=>{Gu(()=>o(b))});He.finished.finally(()=>{Gu(()=>{y(void 0),T(void 0),u(void 0),f({isTransitioning:!1})})}),Gu(()=>T(He));return}v?(m&&m.resolve(),v.skipTransition(),A({state:b,currentLocation:$.currentLocation,nextLocation:$.nextLocation})):(u(b),f({isTransitioning:!0,flushSync:!1,currentLocation:$.currentLocation,nextLocation:$.nextLocation}))},[t.window,v,m,P,B]);D.useLayoutEffect(()=>t.subscribe(U),[t,U]),D.useEffect(()=>{h.isTransitioning&&!h.flushSync&&y(new QC)},[h]),D.useEffect(()=>{if(m&&l&&t.window){let b=l,C=m.promise,O=t.window.document.startViewTransition(async()=>{B(()=>o(b)),await C});O.finished.finally(()=>{y(void 0),T(void 0),u(void 0),f({isTransitioning:!1})}),T(O)}},[B,l,m,t.window]),D.useEffect(()=>{m&&l&&i.location.key===l.location.key&&m.resolve()},[m,v,i.location,l]),D.useEffect(()=>{!h.isTransitioning&&k&&(u(k.state),f({isTransitioning:!0,flushSync:!1,currentLocation:k.currentLocation,nextLocation:k.nextLocation}),A(void 0))},[h.isTransitioning,k]),D.useEffect(()=>{},[]);let J=D.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:b=>t.navigate(b),push:(b,C,O)=>t.navigate(b,{state:C,preventScrollReset:O==null?void 0:O.preventScrollReset}),replace:(b,C,O)=>t.navigate(b,{replace:!0,state:C,preventScrollReset:O==null?void 0:O.preventScrollReset})}),[t]),Z=t.basename||"/",ne=D.useMemo(()=>({router:t,navigator:J,static:!1,basename:Z}),[t,J,Z]),x=D.useMemo(()=>({v7_relativeSplatPath:t.future.v7_relativeSplatPath}),[t.future.v7_relativeSplatPath]);return D.useEffect(()=>CC(r,t.future),[r,t.future]),D.createElement(D.Fragment,null,D.createElement($c.Provider,{value:ne},D.createElement(Vy.Provider,{value:i},D.createElement(WC.Provider,{value:P.current},D.createElement(eb.Provider,{value:h},D.createElement(NC,{basename:Z,location:i.location,navigationType:i.historyAction,navigator:J,future:x},i.initialized||t.future.v7_partialHydration?D.createElement(XC,{routes:t.routes,future:t.future,state:i}):e))))),null)}const XC=D.memo(YC);function YC(n){let{routes:e,future:t,state:r}=n;return _C(e,void 0,r,t)}const ZC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",e2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ul=D.forwardRef(function(e,t){let{onClick:r,relative:i,reloadDocument:o,replace:l,state:u,target:h,to:f,preventScrollReset:m,viewTransition:y}=e,v=ZS(e,FC),{basename:T}=D.useContext(vs),k,A=!1;if(typeof f=="string"&&e2.test(f)&&(k=f,ZC))try{let U=new URL(window.location.href),J=f.startsWith("//")?new URL(U.protocol+f):new URL(f),Z=hs(J.pathname,T);J.origin===U.origin&&Z!=null?f=Z+J.search+J.hash:A=!0}catch{}let P=mC(f,{relative:i}),q=r2(f,{replace:l,state:u,target:h,preventScrollReset:m,relative:i,viewTransition:y});function B(U){r&&r(U),U.defaultPrevented||q(U)}return D.createElement("a",Fl({},v,{href:k||P,onClick:A||o?r:B,ref:t,target:h}))}),t2=D.forwardRef(function(e,t){let{"aria-current":r="page",caseSensitive:i=!1,className:o="",end:l=!1,style:u,to:h,viewTransition:f,children:m}=e,y=ZS(e,UC),v=Cf(h,{relative:y.relative}),T=jr(),k=D.useContext(Vy),{navigator:A,basename:P}=D.useContext(vs),q=k!=null&&i2(v)&&f===!0,B=A.encodeLocation?A.encodeLocation(v).pathname:v.pathname,U=T.pathname,J=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;i||(U=U.toLowerCase(),J=J?J.toLowerCase():null,B=B.toLowerCase()),J&&P&&(J=hs(J,P)||J);const Z=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let ne=U===B||!l&&U.startsWith(B)&&U.charAt(Z)==="/",x=J!=null&&(J===B||!l&&J.startsWith(B)&&J.charAt(B.length)==="/"),b={isActive:ne,isPending:x,isTransitioning:q},C=ne?r:void 0,O;typeof o=="function"?O=o(b):O=[o,ne?"active":null,x?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let j=typeof u=="function"?u(b):u;return D.createElement(Ul,Fl({},y,{"aria-current":C,className:O,ref:t,style:j,to:h,viewTransition:f}),typeof m=="function"?m(b):m)});var kg;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(kg||(kg={}));var lE;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(lE||(lE={}));function n2(n){let e=D.useContext($c);return e||Ke(!1),e}function r2(n,e){let{target:t,replace:r,state:i,preventScrollReset:o,relative:l,viewTransition:u}=e===void 0?{}:e,h=eu(),f=jr(),m=Cf(n,{relative:l});return D.useCallback(y=>{if(VC(y,t)){y.preventDefault();let v=r!==void 0?r:Ea(f)===Ea(m);h(n,{replace:v,state:i,preventScrollReset:o,relative:l,viewTransition:u})}},[f,h,m,r,i,t,n,o,l,u])}function qB(n){let e=D.useRef(xg(n)),t=D.useRef(!1),r=jr(),i=D.useMemo(()=>jC(r.search,t.current?null:e.current),[r.search]),o=eu(),l=D.useCallback((u,h)=>{const f=xg(typeof u=="function"?u(i):u);t.current=!0,o("?"+f,h)},[o,i]);return[i,l]}function i2(n,e){e===void 0&&(e={});let t=D.useContext(eb);t==null&&Ke(!1);let{basename:r}=n2(kg.useViewTransitionState),i=Cf(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=hs(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=hs(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Jd(i.pathname,l)!=null||Jd(i.pathname,o)!=null}const tb=D.createContext({theme:"light",toggleTheme:()=>{},setTheme:()=>{}}),s2=({children:n})=>{const[e,t]=D.useState("light");D.useEffect(()=>{const l=window.matchMedia("(prefers-color-scheme: dark)").matches,h=localStorage.getItem("theme")||(l?"dark":"light");t(h),r(h);const f=window.matchMedia("(prefers-color-scheme: dark)"),m=y=>{if(!localStorage.getItem("theme")){const v=y.matches?"dark":"light";t(v),r(v)}};return f.addEventListener("change",m),()=>f.removeEventListener("change",m)},[]);const r=l=>{document.documentElement.classList.remove("light","dark"),document.documentElement.classList.add(l),document.documentElement.setAttribute("data-theme",l)},i=l=>{localStorage.setItem("theme",l),t(l),r(l)},o=()=>{i(e==="light"?"dark":"light")};return R.jsx(tb.Provider,{value:{theme:e,toggleTheme:o,setTheme:i},children:n})},Df=()=>D.useContext(tb),o2=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Tt(async()=>{const{default:r}=await Promise.resolve().then(()=>tu);return{default:r}},void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)};class Fy extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class a2 extends Fy{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class uE extends Fy{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class cE extends Fy{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ig;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(Ig||(Ig={}));var l2=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function u(m){try{f(r.next(m))}catch(y){l(y)}}function h(m){try{f(r.throw(m))}catch(y){l(y)}}function f(m){m.done?o(m.value):i(m.value).then(u,h)}f((r=r.apply(n,e||[])).next())})};class u2{constructor(e,{headers:t={},customFetch:r,region:i=Ig.Any}={}){this.url=e,this.headers=t,this.region=i,this.fetch=o2(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var r;return l2(this,void 0,void 0,function*(){try{const{headers:i,method:o,body:l}=t;let u={},{region:h}=t;h||(h=this.region);const f=new URL(`${this.url}/${e}`);h&&h!=="any"&&(u["x-region"]=h,f.searchParams.set("forceFunctionRegion",h));let m;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",m=l):typeof l=="string"?(u["Content-Type"]="text/plain",m=l):typeof FormData<"u"&&l instanceof FormData?m=l:(u["Content-Type"]="application/json",m=JSON.stringify(l)));const y=yield this.fetch(f.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:m}).catch(A=>{throw new a2(A)}),v=y.headers.get("x-relay-error");if(v&&v==="true")throw new uE(y);if(!y.ok)throw new cE(y);let T=((r=y.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),k;return T==="application/json"?k=yield y.json():T==="application/octet-stream"?k=yield y.blob():T==="text/event-stream"?k=y:T==="multipart/form-data"?k=yield y.formData():k=yield y.text(),{data:k,error:null,response:y}}catch(i){return{data:null,error:i,response:i instanceof cE||i instanceof uE?i.context:void 0}}})}}var pn={},pl={},ml={},gl={},yl={},vl={},c2=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},$l=c2();const h2=$l.fetch,nb=$l.fetch.bind($l),rb=$l.Headers,d2=$l.Request,f2=$l.Response,tu=Object.freeze(Object.defineProperty({__proto__:null,Headers:rb,Request:d2,Response:f2,default:nb,fetch:h2},Symbol.toStringTag,{value:"Module"})),p2=iR(tu);var fd={},hE;function ib(){if(hE)return fd;hE=1,Object.defineProperty(fd,"__esModule",{value:!0});class n extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return fd.default=n,fd}var dE;function sb(){if(dE)return vl;dE=1;var n=vl&&vl.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(vl,"__esModule",{value:!0});const e=n(p2),t=n(ib());class r{constructor(o){this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=o.headers,this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=o.shouldThrowOnError,this.signal=o.signal,this.isMaybeSingle=o.isMaybeSingle,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,l){return this.headers=Object.assign({},this.headers),this.headers[o]=l,this}then(o,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const u=this.fetch;let h=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var m,y,v;let T=null,k=null,A=null,P=f.status,q=f.statusText;if(f.ok){if(this.method!=="HEAD"){const Z=await f.text();Z===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?k=Z:k=JSON.parse(Z))}const U=(m=this.headers.Prefer)===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),J=(y=f.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");U&&J&&J.length>1&&(A=parseInt(J[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(k)&&(k.length>1?(T={code:"PGRST116",details:`Results contain ${k.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},k=null,A=null,P=406,q="Not Acceptable"):k.length===1?k=k[0]:k=null)}else{const U=await f.text();try{T=JSON.parse(U),Array.isArray(T)&&f.status===404&&(k=[],T=null,P=200,q="OK")}catch{f.status===404&&U===""?(P=204,q="No Content"):T={message:U}}if(T&&this.isMaybeSingle&&(!((v=T==null?void 0:T.details)===null||v===void 0)&&v.includes("0 rows"))&&(T=null,P=200,q="OK"),T&&this.shouldThrowOnError)throw new t.default(T)}return{error:T,data:k,count:A,status:P,statusText:q}});return this.shouldThrowOnError||(h=h.catch(f=>{var m,y,v;return{error:{message:`${(m=f==null?void 0:f.name)!==null&&m!==void 0?m:"FetchError"}: ${f==null?void 0:f.message}`,details:`${(y=f==null?void 0:f.stack)!==null&&y!==void 0?y:""}`,hint:"",code:`${(v=f==null?void 0:f.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),h.then(o,l)}returns(){return this}overrideTypes(){return this}}return vl.default=r,vl}var fE;function ob(){if(fE)return yl;fE=1;var n=yl&&yl.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(yl,"__esModule",{value:!0});const e=n(sb());class t extends e.default{select(i){let o=!1;const l=(i??"*").split("").map(u=>/\s/.test(u)&&!o?"":(u==='"'&&(o=!o),u)).join("");return this.url.searchParams.set("select",l),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:o=!0,nullsFirst:l,foreignTable:u,referencedTable:h=u}={}){const f=h?`${h}.order`:"order",m=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${m?`${m},`:""}${i}.${o?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:o,referencedTable:l=o}={}){const u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${i}`),this}range(i,o,{foreignTable:l,referencedTable:u=l}={}){const h=typeof u>"u"?"offset":`${u}.offset`,f=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(h,`${i}`),this.url.searchParams.set(f,`${o-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:o=!1,settings:l=!1,buffers:u=!1,wal:h=!1,format:f="text"}={}){var m;const y=[i?"analyze":null,o?"verbose":null,l?"settings":null,u?"buffers":null,h?"wal":null].filter(Boolean).join("|"),v=(m=this.headers.Accept)!==null&&m!==void 0?m:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${f}; for="${v}"; options=${y};`,f==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return yl.default=t,yl}var pE;function Uy(){if(pE)return gl;pE=1;var n=gl&&gl.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(gl,"__esModule",{value:!0});const e=n(ob());class t extends e.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const l=Array.from(new Set(o)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:l,type:u}={}){let h="";u==="plain"?h="pl":u==="phrase"?h="ph":u==="websearch"&&(h="w");const f=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${h}fts${f}.${o}`),this}match(i){return Object.entries(i).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(i,o,l){return this.url.searchParams.append(i,`not.${o}.${l}`),this}or(i,{foreignTable:o,referencedTable:l=o}={}){const u=l?`${l}.or`:"or";return this.url.searchParams.append(u,`(${i})`),this}filter(i,o,l){return this.url.searchParams.append(i,`${o}.${l}`),this}}return gl.default=t,gl}var mE;function ab(){if(mE)return ml;mE=1;var n=ml&&ml.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ml,"__esModule",{value:!0});const e=n(Uy());class t{constructor(i,{headers:o={},schema:l,fetch:u}){this.url=i,this.headers=o,this.schema=l,this.fetch=u}select(i,{head:o=!1,count:l}={}){const u=o?"HEAD":"GET";let h=!1;const f=(i??"*").split("").map(m=>/\s/.test(m)&&!h?"":(m==='"'&&(h=!h),m)).join("");return this.url.searchParams.set("select",f),l&&(this.headers.Prefer=`count=${l}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:o,defaultToNull:l=!0}={}){const u="POST",h=[];if(this.headers.Prefer&&h.push(this.headers.Prefer),o&&h.push(`count=${o}`),l||h.push("missing=default"),this.headers.Prefer=h.join(","),Array.isArray(i)){const f=i.reduce((m,y)=>m.concat(Object.keys(y)),[]);if(f.length>0){const m=[...new Set(f)].map(y=>`"${y}"`);this.url.searchParams.set("columns",m.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:o,ignoreDuplicates:l=!1,count:u,defaultToNull:h=!0}={}){const f="POST",m=[`resolution=${l?"ignore":"merge"}-duplicates`];if(o!==void 0&&this.url.searchParams.set("on_conflict",o),this.headers.Prefer&&m.push(this.headers.Prefer),u&&m.push(`count=${u}`),h||m.push("missing=default"),this.headers.Prefer=m.join(","),Array.isArray(i)){const y=i.reduce((v,T)=>v.concat(Object.keys(T)),[]);if(y.length>0){const v=[...new Set(y)].map(T=>`"${T}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:o}={}){const l="PATCH",u=[];return this.headers.Prefer&&u.push(this.headers.Prefer),o&&u.push(`count=${o}`),this.headers.Prefer=u.join(","),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const o="DELETE",l=[];return i&&l.push(`count=${i}`),this.headers.Prefer&&l.unshift(this.headers.Prefer),this.headers.Prefer=l.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return ml.default=t,ml}var Ku={},Qu={},gE;function m2(){return gE||(gE=1,Object.defineProperty(Qu,"__esModule",{value:!0}),Qu.version=void 0,Qu.version="0.0.0-automated"),Qu}var yE;function g2(){if(yE)return Ku;yE=1,Object.defineProperty(Ku,"__esModule",{value:!0}),Ku.DEFAULT_HEADERS=void 0;const n=m2();return Ku.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${n.version}`},Ku}var vE;function y2(){if(vE)return pl;vE=1;var n=pl&&pl.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(pl,"__esModule",{value:!0});const e=n(ab()),t=n(Uy()),r=g2();class i{constructor(l,{headers:u={},schema:h,fetch:f}={}){this.url=l,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),u),this.schemaName=h,this.fetch=f}from(l){const u=new URL(`${this.url}/${l}`);return new e.default(u,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new i(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,u={},{head:h=!1,get:f=!1,count:m}={}){let y;const v=new URL(`${this.url}/rpc/${l}`);let T;h||f?(y=h?"HEAD":"GET",Object.entries(u).filter(([A,P])=>P!==void 0).map(([A,P])=>[A,Array.isArray(P)?`{${P.join(",")}}`:`${P}`]).forEach(([A,P])=>{v.searchParams.append(A,P)})):(y="POST",T=u);const k=Object.assign({},this.headers);return m&&(k.Prefer=`count=${m}`),new t.default({method:y,url:v,headers:k,schema:this.schemaName,body:T,fetch:this.fetch,allowEmpty:!1})}}return pl.default=i,pl}var _E;function v2(){if(_E)return pn;_E=1;var n=pn&&pn.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(pn,"__esModule",{value:!0}),pn.PostgrestError=pn.PostgrestBuilder=pn.PostgrestTransformBuilder=pn.PostgrestFilterBuilder=pn.PostgrestQueryBuilder=pn.PostgrestClient=void 0;const e=n(y2());pn.PostgrestClient=e.default;const t=n(ab());pn.PostgrestQueryBuilder=t.default;const r=n(Uy());pn.PostgrestFilterBuilder=r.default;const i=n(ob());pn.PostgrestTransformBuilder=i.default;const o=n(sb());pn.PostgrestBuilder=o.default;const l=n(ib());return pn.PostgrestError=l.default,pn.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:o.default,PostgrestError:l.default},pn}var _2=v2();const w2=Af(_2),{PostgrestClient:E2,PostgrestQueryBuilder:WB,PostgrestFilterBuilder:HB,PostgrestTransformBuilder:GB,PostgrestBuilder:KB,PostgrestError:QB}=w2;function T2(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const S2=T2(),b2="2.11.15",x2=`realtime-js/${b2}`,k2="1.0.0",lb=1e4,I2=1e3;var ac;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(ac||(ac={}));var On;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(On||(On={}));var ii;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(ii||(ii={}));var Ag;(function(n){n.websocket="websocket"})(Ag||(Ag={}));var ca;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(ca||(ca={}));class A2{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const i=t.getUint8(1),o=t.getUint8(2);let l=this.HEADER_LENGTH+2;const u=r.decode(e.slice(l,l+i));l=l+i;const h=r.decode(e.slice(l,l+o));l=l+o;const f=JSON.parse(r.decode(e.slice(l,e.byteLength)));return{ref:null,topic:u,event:h,payload:f}}}class ub{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var bt;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(bt||(bt={}));const wE=(n,e,t={})=>{var r;const i=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((o,l)=>(o[l]=P2(l,n,e,i),o),{})},P2=(n,e,t,r)=>{const i=e.find(u=>u.name===n),o=i==null?void 0:i.type,l=t[n];return o&&!r.includes(o)?cb(o,l):Pg(l)},cb=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return O2(e,t)}switch(n){case bt.bool:return R2(e);case bt.float4:case bt.float8:case bt.int2:case bt.int4:case bt.int8:case bt.numeric:case bt.oid:return C2(e);case bt.json:case bt.jsonb:return D2(e);case bt.timestamp:return N2(e);case bt.abstime:case bt.date:case bt.daterange:case bt.int4range:case bt.int8range:case bt.money:case bt.reltime:case bt.text:case bt.time:case bt.timestamptz:case bt.timetz:case bt.tsrange:case bt.tstzrange:return Pg(e);default:return Pg(e)}},Pg=n=>n,R2=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},C2=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},D2=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},O2=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,r=n[t];if(n[0]==="{"&&r==="}"){let o;const l=n.slice(1,t);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(u=>cb(e,u))}return n},N2=n=>typeof n=="string"?n.replace(" ","T"):n,hb=n=>{let e=n;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Bm{constructor(e,t,r={},i=lb){this.channel=e,this.event=t,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var EE;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(EE||(EE={}));class lc{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=lc.syncState(this.state,i,o,l),this.pendingDiffs.forEach(h=>{this.state=lc.syncDiff(this.state,h,o,l)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=lc.syncDiff(this.state,i,o,l),u())}),this.onJoin((i,o,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:l})}),this.onLeave((i,o,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,i){const o=this.cloneDeep(e),l=this.transformState(t),u={},h={};return this.map(o,(f,m)=>{l[f]||(h[f]=m)}),this.map(l,(f,m)=>{const y=o[f];if(y){const v=m.map(P=>P.presence_ref),T=y.map(P=>P.presence_ref),k=m.filter(P=>T.indexOf(P.presence_ref)<0),A=y.filter(P=>v.indexOf(P.presence_ref)<0);k.length>0&&(u[f]=k),A.length>0&&(h[f]=A)}else u[f]=m}),this.syncDiff(o,{joins:u,leaves:h},r,i)}static syncDiff(e,t,r,i){const{joins:o,leaves:l}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(u,h)=>{var f;const m=(f=e[u])!==null&&f!==void 0?f:[];if(e[u]=this.cloneDeep(h),m.length>0){const y=e[u].map(T=>T.presence_ref),v=m.filter(T=>y.indexOf(T.presence_ref)<0);e[u].unshift(...v)}r(u,m,h)}),this.map(l,(u,h)=>{let f=e[u];if(!f)return;const m=h.map(y=>y.presence_ref);f=f.filter(y=>m.indexOf(y.presence_ref)<0),e[u]=f,i(u,f,h),f.length===0&&delete e[u]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const i=e[r];return"metas"in i?t[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):t[r]=i,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var TE;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(TE||(TE={}));var SE;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(SE||(SE={}));var ns;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(ns||(ns={}));class $y{constructor(e,t={config:{}},r){this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=On.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Bm(this,ii.join,this.params,this.timeout),this.rejoinTimer=new ub(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=On.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=On.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=On.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=On.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ii.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new lc(this),this.broadcastEndpointURL=hb(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==On.closed){const{config:{broadcast:o,presence:l,private:u}}=this.params;this._onError(m=>e==null?void 0:e(ns.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(ns.CLOSED));const h={},f={broadcast:o,presence:l,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&i!==void 0?i:[],private:u};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:m})=>{var y;if(this.socket.setAuth(),m===void 0){e==null||e(ns.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,T=(y=v==null?void 0:v.length)!==null&&y!==void 0?y:0,k=[];for(let A=0;A<T;A++){const P=v[A],{filter:{event:q,schema:B,table:U,filter:J}}=P,Z=m&&m[A];if(Z&&Z.event===q&&Z.schema===B&&Z.table===U&&Z.filter===J)k.push(Object.assign(Object.assign({},P),{id:Z.id}));else{this.unsubscribe(),this.state=On.errored,e==null||e(ns.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,e&&e(ns.SUBSCRIBED);return}}).receive("error",m=>{this.state=On.errored,e==null||e(ns.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ns.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this._on(e,t,r)}async send(e,t={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:o,payload:l}=e,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(r=t.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,u,h;const f=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||h===void 0)&&h.ack)&&o("ok"),f.receive("ok",()=>o("ok")),f.receive("error",()=>o("error")),f.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=On.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ii.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Bm(this,ii.leave,{},e),r.receive("ok",()=>{t(),i("ok")}).receive("timeout",()=>{t(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,t,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),l=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(o),l}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Bm(this,e,t,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var i,o;const l=e.toLocaleLowerCase(),{close:u,error:h,leave:f,join:m}=ii;if(r&&[u,h,f,m].indexOf(l)>=0&&r!==this._joinRef())return;let v=this._onMessage(l,t,r);if(t&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(T=>{var k,A,P;return((k=T.filter)===null||k===void 0?void 0:k.event)==="*"||((P=(A=T.filter)===null||A===void 0?void 0:A.event)===null||P===void 0?void 0:P.toLocaleLowerCase())===l}).map(T=>T.callback(v,r)):(o=this.bindings[l])===null||o===void 0||o.filter(T=>{var k,A,P,q,B,U;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in T){const J=T.id,Z=(k=T.filter)===null||k===void 0?void 0:k.event;return J&&((A=t.ids)===null||A===void 0?void 0:A.includes(J))&&(Z==="*"||(Z==null?void 0:Z.toLocaleLowerCase())===((P=t.data)===null||P===void 0?void 0:P.type.toLocaleLowerCase()))}else{const J=(B=(q=T==null?void 0:T.filter)===null||q===void 0?void 0:q.event)===null||B===void 0?void 0:B.toLocaleLowerCase();return J==="*"||J===((U=t==null?void 0:t.event)===null||U===void 0?void 0:U.toLocaleLowerCase())}else return T.type.toLocaleLowerCase()===l}).map(T=>{if(typeof v=="object"&&"ids"in v){const k=v.data,{schema:A,table:P,commit_timestamp:q,type:B,errors:U}=k;v=Object.assign(Object.assign({},{schema:A,table:P,commit_timestamp:q,eventType:B,new:{},old:{},errors:U}),this._getPayloadRecords(k))}T.callback(v,r)})}_isClosed(){return this.state===On.closed}_isJoined(){return this.state===On.joined}_isJoining(){return this.state===On.joining}_isLeaving(){return this.state===On.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const i=e.toLocaleLowerCase(),o={type:i,filter:t,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&$y.isEqual(i.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ii.close,{},e)}_onError(e){this._on(ii.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=On.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=wE(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=wE(e.columns,e.old_record)),t}}const bE=()=>{},M2=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class L2{constructor(e,t){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=lb,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=bE,this.ref=0,this.logger=bE,this.conn=null,this.sendBuffer=[],this.serializer=new A2,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let l;return o?l=o:typeof fetch>"u"?l=(...u)=>Tt(async()=>{const{default:h}=await Promise.resolve().then(()=>tu);return{default:h}},void 0).then(({default:h})=>h(...u)):l=fetch,(...u)=>l(...u)},this.endPoint=`${e}/${Ag.websocket}`,this.httpEndpoint=hb(e),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const i=(r=t==null?void 0:t.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(o,l)=>l(JSON.stringify(o)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ub(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch),t!=null&&t.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(t==null?void 0:t.worker)||!1,this.workerUrl=t==null?void 0:t.workerUrl}this.accessToken=(t==null?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=S2),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:k2}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ac.connecting:return ca.Connecting;case ac.open:return ca.Open;case ac.closing:return ca.Closing;default:return ca.Closed}}isConnected(){return this.connectionState()===ca.Open}channel(e,t={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new $y(`realtime:${e}`,t,this);return this.channels.push(o),o}}push(e){const{topic:t,event:r,payload:i,ref:o}=e,l=()=>{this.encode(e,u=>{var h;(h=this.conn)===null||h===void 0||h.send(u)})};this.log("push",`${t} ${r} (${o})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(r=>{const i={access_token:t,version:x2};t&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(ii.access_token,{access_token:t})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(I2,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:r,event:i,payload:o,ref:l}=t;r==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(t.payload.status=="ok"?"ok":"error"),l&&l===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${i} ${l&&"("+l+")"||""}`,o),Array.from(this.channels).filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,o,l)),this.stateChangeCallbacks.message.forEach(u=>u(t))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(ii.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${e}${r}${i}`}_workerObjectUrl(e){let t;if(e)t=e;else{const r=new Blob([M2],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}}class By extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function mn(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class V2 extends By{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Rg extends By{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var j2=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function u(m){try{f(r.next(m))}catch(y){l(y)}}function h(m){try{f(r.throw(m))}catch(y){l(y)}}function f(m){m.done?o(m.value):i(m.value).then(u,h)}f((r=r.apply(n,e||[])).next())})};const db=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Tt(async()=>{const{default:r}=await Promise.resolve().then(()=>tu);return{default:r}},void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},F2=()=>j2(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Tt(()=>Promise.resolve().then(()=>tu),void 0)).Response:Response}),Cg=n=>{if(Array.isArray(n))return n.map(t=>Cg(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,r])=>{const i=t.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=Cg(r)}),e};var Ia=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function u(m){try{f(r.next(m))}catch(y){l(y)}}function h(m){try{f(r.throw(m))}catch(y){l(y)}}function f(m){m.done?o(m.value):i(m.value).then(u,h)}f((r=r.apply(n,e||[])).next())})};const zm=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),U2=(n,e,t)=>Ia(void 0,void 0,void 0,function*(){const r=yield F2();n instanceof r&&!(t!=null&&t.noResolveJson)?n.json().then(i=>{e(new V2(zm(i),n.status||500))}).catch(i=>{e(new Rg(zm(i),i))}):e(new Rg(zm(n),n))}),$2=(n,e,t,r)=>{const i={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),t))};function Bc(n,e,t,r,i,o){return Ia(this,void 0,void 0,function*(){return new Promise((l,u)=>{n(t,$2(e,r,i,o)).then(h=>{if(!h.ok)throw h;return r!=null&&r.noResolveJson?h:h.json()}).then(h=>l(h)).catch(h=>U2(h,u,r))})})}function Zd(n,e,t,r){return Ia(this,void 0,void 0,function*(){return Bc(n,"GET",e,t,r)})}function to(n,e,t,r,i){return Ia(this,void 0,void 0,function*(){return Bc(n,"POST",e,r,i,t)})}function B2(n,e,t,r,i){return Ia(this,void 0,void 0,function*(){return Bc(n,"PUT",e,r,i,t)})}function z2(n,e,t,r){return Ia(this,void 0,void 0,function*(){return Bc(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function fb(n,e,t,r,i){return Ia(this,void 0,void 0,function*(){return Bc(n,"DELETE",e,r,i,t)})}var sr=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function u(m){try{f(r.next(m))}catch(y){l(y)}}function h(m){try{f(r.throw(m))}catch(y){l(y)}}function f(m){m.done?o(m.value):i(m.value).then(u,h)}f((r=r.apply(n,e||[])).next())})};const q2={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},xE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class W2{constructor(e,t={},r,i){this.url=e,this.headers=t,this.bucketId=r,this.fetch=db(i)}uploadOrUpdate(e,t,r,i){return sr(this,void 0,void 0,function*(){try{let o;const l=Object.assign(Object.assign({},xE),i);let u=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const h=l.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),h&&o.append("metadata",this.encodeMetadata(h)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",l.cacheControl),h&&o.append("metadata",this.encodeMetadata(h))):(o=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,h&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(h)))),i!=null&&i.headers&&(u=Object.assign(Object.assign({},u),i.headers));const f=this._removeEmptyFolders(t),m=this._getFinalPath(f),y=yield this.fetch(`${this.url}/object/${m}`,Object.assign({method:e,body:o,headers:u},l!=null&&l.duplex?{duplex:l.duplex}:{})),v=yield y.json();return y.ok?{data:{path:f,id:v.Id,fullPath:v.Key},error:null}:{data:null,error:v}}catch(o){if(mn(o))return{data:null,error:o};throw o}})}upload(e,t,r){return sr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,i){return sr(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),l=this._getFinalPath(o),u=new URL(this.url+`/object/upload/sign/${l}`);u.searchParams.set("token",t);try{let h;const f=Object.assign({upsert:xE.upsert},i),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&r instanceof Blob?(h=new FormData,h.append("cacheControl",f.cacheControl),h.append("",r)):typeof FormData<"u"&&r instanceof FormData?(h=r,h.append("cacheControl",f.cacheControl)):(h=r,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType);const y=yield this.fetch(u.toString(),{method:"PUT",body:h,headers:m}),v=yield y.json();return y.ok?{data:{path:o,fullPath:v.Key},error:null}:{data:null,error:v}}catch(h){if(mn(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(e,t){return sr(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const o=yield to(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),l=new URL(this.url+o.url),u=l.searchParams.get("token");if(!u)throw new By("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:u},error:null}}catch(r){if(mn(r))return{data:null,error:r};throw r}})}update(e,t,r){return sr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return sr(this,void 0,void 0,function*(){try{return{data:yield to(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(mn(i))return{data:null,error:i};throw i}})}copy(e,t,r){return sr(this,void 0,void 0,function*(){try{return{data:{path:(yield to(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(mn(i))return{data:null,error:i};throw i}})}createSignedUrl(e,t,r){return sr(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),o=yield to(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${l}`)},{data:o,error:null}}catch(i){if(mn(i))return{data:null,error:i};throw i}})}createSignedUrls(e,t,r){return sr(this,void 0,void 0,function*(){try{const i=yield to(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${o}`):null})),error:null}}catch(i){if(mn(i))return{data:null,error:i};throw i}})}download(e,t){return sr(this,void 0,void 0,function*(){const i=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),l=o?`?${o}`:"";try{const u=this._getFinalPath(e);return{data:yield(yield Zd(this.fetch,`${this.url}/${i}/${u}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(u){if(mn(u))return{data:null,error:u};throw u}})}info(e){return sr(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const r=yield Zd(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Cg(r),error:null}}catch(r){if(mn(r))return{data:null,error:r};throw r}})}exists(e){return sr(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield z2(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(mn(r)&&r instanceof Rg){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){const r=this._getFinalPath(e),i=[],o=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&i.push(o);const u=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",h=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});h!==""&&i.push(h);let f=i.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${f}`)}}}remove(e){return sr(this,void 0,void 0,function*(){try{return{data:yield fb(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(mn(t))return{data:null,error:t};throw t}})}list(e,t,r){return sr(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},q2),t),{prefix:e||""});return{data:yield to(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(mn(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const H2="2.7.1",G2={"X-Client-Info":`storage-js/${H2}`};var _l=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function u(m){try{f(r.next(m))}catch(y){l(y)}}function h(m){try{f(r.throw(m))}catch(y){l(y)}}function f(m){m.done?o(m.value):i(m.value).then(u,h)}f((r=r.apply(n,e||[])).next())})};class K2{constructor(e,t={},r){this.url=e,this.headers=Object.assign(Object.assign({},G2),t),this.fetch=db(r)}listBuckets(){return _l(this,void 0,void 0,function*(){try{return{data:yield Zd(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(mn(e))return{data:null,error:e};throw e}})}getBucket(e){return _l(this,void 0,void 0,function*(){try{return{data:yield Zd(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(mn(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return _l(this,void 0,void 0,function*(){try{return{data:yield to(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(mn(r))return{data:null,error:r};throw r}})}updateBucket(e,t){return _l(this,void 0,void 0,function*(){try{return{data:yield B2(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(mn(r))return{data:null,error:r};throw r}})}emptyBucket(e){return _l(this,void 0,void 0,function*(){try{return{data:yield to(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(mn(t))return{data:null,error:t};throw t}})}deleteBucket(e){return _l(this,void 0,void 0,function*(){try{return{data:yield fb(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(mn(t))return{data:null,error:t};throw t}})}}class Q2 extends K2{constructor(e,t={},r){super(e,t,r)}from(e){return new W2(this.url,this.headers,e,this.fetch)}}const J2="2.50.3";let Zu="";typeof Deno<"u"?Zu="deno":typeof document<"u"?Zu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Zu="react-native":Zu="node";const X2={"X-Client-Info":`supabase-js-${Zu}/${J2}`},Y2={headers:X2},Z2={schema:"public"},eD={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},tD={};var nD=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function u(m){try{f(r.next(m))}catch(y){l(y)}}function h(m){try{f(r.throw(m))}catch(y){l(y)}}function f(m){m.done?o(m.value):i(m.value).then(u,h)}f((r=r.apply(n,e||[])).next())})};const rD=n=>{let e;return n?e=n:typeof fetch>"u"?e=nb:e=fetch,(...t)=>e(...t)},iD=()=>typeof Headers>"u"?rb:Headers,sD=(n,e,t)=>{const r=rD(t),i=iD();return(o,l)=>nD(void 0,void 0,void 0,function*(){var u;const h=(u=yield e())!==null&&u!==void 0?u:n;let f=new i(l==null?void 0:l.headers);return f.has("apikey")||f.set("apikey",n),f.has("Authorization")||f.set("Authorization",`Bearer ${h}`),r(o,Object.assign(Object.assign({},l),{headers:f}))})};var oD=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function u(m){try{f(r.next(m))}catch(y){l(y)}}function h(m){try{f(r.throw(m))}catch(y){l(y)}}function f(m){m.done?o(m.value):i(m.value).then(u,h)}f((r=r.apply(n,e||[])).next())})};function aD(n){return n.endsWith("/")?n:n+"/"}function lD(n,e){var t,r;const{db:i,auth:o,realtime:l,global:u}=n,{db:h,auth:f,realtime:m,global:y}=e,v={db:Object.assign(Object.assign({},h),i),auth:Object.assign(Object.assign({},f),o),realtime:Object.assign(Object.assign({},m),l),global:Object.assign(Object.assign(Object.assign({},y),u),{headers:Object.assign(Object.assign({},(t=y==null?void 0:y.headers)!==null&&t!==void 0?t:{}),(r=u==null?void 0:u.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>oD(this,void 0,void 0,function*(){return""})};return n.accessToken?v.accessToken=n.accessToken:delete v.accessToken,v}const pb="2.70.0",bl=30*1e3,Dg=3,qm=Dg*bl,uD="http://localhost:9999",cD="supabase.auth.token",hD={"X-Client-Info":`gotrue-js/${pb}`},Og="X-Supabase-Api-Version",mb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},dD=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,fD=6e5;class zy extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function Ge(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class pD extends zy{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}function mD(n){return Ge(n)&&n.name==="AuthApiError"}class gb extends zy{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class ko extends zy{constructor(e,t,r,i){super(e,r,i),this.name=t,this.status=r}}class Zs extends ko{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function gD(n){return Ge(n)&&n.name==="AuthSessionMissingError"}class pd extends ko{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class md extends ko{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class gd extends ko{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function yD(n){return Ge(n)&&n.name==="AuthImplicitGrantRedirectError"}class kE extends ko{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ng extends ko{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Wm(n){return Ge(n)&&n.name==="AuthRetryableFetchError"}class IE extends ko{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class uc extends ko{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ef="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),AE=` 	
\r=`.split(""),vD=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<AE.length;e+=1)n[AE[e].charCodeAt(0)]=-2;for(let e=0;e<ef.length;e+=1)n[ef[e].charCodeAt(0)]=e;return n})();function PE(n,e,t){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t(ef[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t(ef[r]),e.queuedBits-=6}}function yb(n,e,t){const r=vD[n];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function RE(n){const e=[],t=l=>{e.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=l=>{ED(l,r,t)};for(let l=0;l<n.length;l+=1)yb(n.charCodeAt(l),i,o);return e.join("")}function _D(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function wD(n,e){for(let t=0;t<n.length;t+=1){let r=n.charCodeAt(t);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(n.charCodeAt(t+1)-56320&65535|i)+65536,t+=1}_D(r,e)}}function ED(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function TD(n){const e=[],t={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<n.length;i+=1)yb(n.charCodeAt(i),t,r);return new Uint8Array(e)}function SD(n){const e=[];return wD(n,t=>e.push(t)),new Uint8Array(e)}function bD(n){const e=[],t={queue:0,queuedBits:0},r=i=>{e.push(i)};return n.forEach(i=>PE(i,t,r)),PE(null,t,r),e.join("")}function xD(n){return Math.round(Date.now()/1e3)+n}function kD(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const ti=()=>typeof window<"u"&&typeof document<"u",ta={tested:!1,writable:!1},cc=()=>{if(!ti())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ta.tested)return ta.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),ta.tested=!0,ta.writable=!0}catch{ta.tested=!0,ta.writable=!1}return ta.writable};function ID(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return t.searchParams.forEach((r,i)=>{e[i]=r}),e}const vb=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Tt(async()=>{const{default:r}=await Promise.resolve().then(()=>tu);return{default:r}},void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},AD=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",_b=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},yd=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},vd=async(n,e)=>{await n.removeItem(e)};let wb=class Eb{constructor(){this.promise=new Eb.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}};wb.promiseConstructor=Promise;function Hm(n){const e=n.split(".");if(e.length!==3)throw new uc("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!dD.test(e[r]))throw new uc("JWT not in base64url format");return{header:JSON.parse(RE(e[0])),payload:JSON.parse(RE(e[1])),signature:TD(e[2]),raw:{header:e[0],payload:e[1]}}}async function PD(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function RD(n,e){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await n(o);if(!e(o,null,l)){r(l);return}}catch(l){if(!e(o,l)){i(l);return}}})()})}function CD(n){return("0"+n.toString(16)).substr(-2)}function DD(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let i="";for(let o=0;o<56;o++)i+=t.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,CD).join("")}async function OD(n){const t=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",t),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function ND(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await OD(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function wl(n,e,t=!1){const r=DD();let i=r;t&&(i+="/PASSWORD_RECOVERY"),await _b(n,`${e}-code-verifier`,i);const o=await ND(r);return[o,r===o?"plain":"s256"]}const MD=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function LD(n){const e=n.headers.get(Og);if(!e||!e.match(MD))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function VD(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function jD(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const FD=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function El(n){if(!FD.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var UD=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const ia=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),$D=[502,503,504];async function CE(n){var e;if(!AD(n))throw new Ng(ia(n),0);if($D.includes(n.status))throw new Ng(ia(n),n.status);let t;try{t=await n.json()}catch(o){throw new gb(ia(o),o)}let r;const i=LD(n);if(i&&i.getTime()>=mb["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new IE(ia(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Zs}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new IE(ia(t),n.status,t.weak_password.reasons);throw new pD(ia(t),n.status||500,r)}const BD=(n,e,t,r)=>{const i={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};async function nt(n,e,t,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[Og]||(o[Og]=mb["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const l=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",h=await zD(n,e,t+u,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(h):{data:Object.assign({},h),error:null}}async function zD(n,e,t,r,i,o){const l=BD(e,r,i,o);let u;try{u=await n(t,Object.assign({},l))}catch(h){throw console.error(h),new Ng(ia(h),0)}if(u.ok||await CE(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(h){await CE(h)}}function ts(n){var e;let t=null;GD(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=xD(n.expires_in)));const r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:r},error:null}}function DE(n){const e=ts(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function no(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function qD(n){return{data:n,error:null}}function WD(n){const{action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o}=n,l=UD(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o},h=Object.assign({},l);return{data:{properties:u,user:h},error:null}}function HD(n){return n}function GD(n){return n.access_token&&n.refresh_token&&n.expires_in}const Gm=["global","local","others"];var KD=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};class QD{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=vb(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t=Gm[0]){if(Gm.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Gm.join(", ")}`);try{return await nt(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,t={}){try{return await nt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:no})}catch(r){if(Ge(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=KD(e,["options"]),i=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await nt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:WD,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(Ge(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await nt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:no})}catch(t){if(Ge(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,i,o,l,u,h;try{const f={nextPage:null,lastPage:0,total:0},m=await nt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:HD});if(m.error)throw m.error;const y=await m.json(),v=(l=m.headers.get("x-total-count"))!==null&&l!==void 0?l:0,T=(h=(u=m.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&h!==void 0?h:[];return T.length>0&&(T.forEach(k=>{const A=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),P=JSON.parse(k.split(";")[1].split("=")[1]);f[`${P}Page`]=A}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},y),f),error:null}}catch(f){if(Ge(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){El(e);try{return await nt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:no})}catch(t){if(Ge(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){El(e);try{return await nt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:no})}catch(r){if(Ge(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,t=!1){El(e);try{return await nt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:no})}catch(r){if(Ge(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){El(e.userId);try{const{data:t,error:r}=await nt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:r}}catch(t){if(Ge(t))return{data:null,error:t};throw t}}async _deleteFactor(e){El(e.userId),El(e.id);try{return{data:await nt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Ge(t))return{data:null,error:t};throw t}}}const JD={getItem:n=>cc()?globalThis.localStorage.getItem(n):null,setItem:(n,e)=>{cc()&&globalThis.localStorage.setItem(n,e)},removeItem:n=>{cc()&&globalThis.localStorage.removeItem(n)}};function OE(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}function XD(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Tl={debug:!!(globalThis&&cc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Tb extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class YD extends Tb{}async function ZD(n,e,t){Tl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Tl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Tl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,i.name);try{return await t()}finally{Tl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,i.name)}}else{if(e===0)throw Tl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new YD(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Tl.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}XD();const eO={url:uD,storageKey:cD,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:hD,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function NE(n,e,t){return await t()}class bc{constructor(e){var t,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=bc.nextInstanceID,bc.nextInstanceID+=1,this.instanceID>0&&ti()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},eO),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new QD({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=vb(i.fetch),this.lock=i.lock||NE,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:ti()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=ZD:this.lock=NE,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:cc()?this.storage=JD:(this.memoryStorage={},this.storage=OE(this.memoryStorage)):(this.memoryStorage={},this.storage=OE(this.memoryStorage)),ti()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${pb}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=ID(window.location.href);let r="none";if(this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce"),ti()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(t,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),yD(o)){const h=(e=o.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:l,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Ge(t)?{error:t}:{error:new gb("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,i;try{const o=await nt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:ts}),{data:l,error:u}=o;if(u||!l)return{data:{user:null,session:null},error:u};const h=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:f,session:h},error:null}}catch(o){if(Ge(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var t,r,i;try{let o;if("email"in e){const{email:m,password:y,options:v}=e;let T=null,k=null;this.flowType==="pkce"&&([T,k]=await wl(this.storage,this.storageKey)),o=await nt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:m,password:y,data:(t=v==null?void 0:v.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:T,code_challenge_method:k},xform:ts})}else if("phone"in e){const{phone:m,password:y,options:v}=e;o=await nt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:y,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},channel:(i=v==null?void 0:v.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:ts})}else throw new md("You must provide either an email or phone number and a password");const{data:l,error:u}=o;if(u||!l)return{data:{user:null,session:null},error:u};const h=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:f,session:h},error:null}}catch(o){if(Ge(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{let t;if("email"in e){const{email:o,password:l,options:u}=e;t=await nt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:DE})}else if("phone"in e){const{phone:o,password:l,options:u}=e;t=await nt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:DE})}else throw new md("You must provide either an email or phone number and a password");const{data:r,error:i}=t;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new pd}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(t){if(Ge(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,r,i,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if(t==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}async signInWithSolana(e){var t,r,i,o,l,u,h,f,m,y,v,T;let k,A;if("message"in e)k=e.message,A=e.signature;else{const{chain:P,wallet:q,statement:B,options:U}=e;let J;if(ti())if(typeof q=="object")J=q;else{const ne=window;if("solana"in ne&&typeof ne.solana=="object"&&("signIn"in ne.solana&&typeof ne.solana.signIn=="function"||"signMessage"in ne.solana&&typeof ne.solana.signMessage=="function"))J=ne.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof q!="object"||!(U!=null&&U.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");J=q}const Z=new URL((t=U==null?void 0:U.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in J&&J.signIn){const ne=await J.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},U==null?void 0:U.signInWithSolana),{version:"1",domain:Z.host,uri:Z.href}),B?{statement:B}:null));let x;if(Array.isArray(ne)&&ne[0]&&typeof ne[0]=="object")x=ne[0];else if(ne&&typeof ne=="object"&&"signedMessage"in ne&&"signature"in ne)x=ne;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in x&&"signature"in x&&(typeof x.signedMessage=="string"||x.signedMessage instanceof Uint8Array)&&x.signature instanceof Uint8Array)k=typeof x.signedMessage=="string"?x.signedMessage:new TextDecoder().decode(x.signedMessage),A=x.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in J)||typeof J.signMessage!="function"||!("publicKey"in J)||typeof J!="object"||!J.publicKey||!("toBase58"in J.publicKey)||typeof J.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${Z.host} wants you to sign in with your Solana account:`,J.publicKey.toBase58(),...B?["",B,""]:[""],"Version: 1",`URI: ${Z.href}`,`Issued At: ${(i=(r=U==null?void 0:U.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=U==null?void 0:U.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${U.signInWithSolana.notBefore}`]:[],...!((l=U==null?void 0:U.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${U.signInWithSolana.expirationTime}`]:[],...!((u=U==null?void 0:U.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${U.signInWithSolana.chainId}`]:[],...!((h=U==null?void 0:U.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${U.signInWithSolana.nonce}`]:[],...!((f=U==null?void 0:U.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${U.signInWithSolana.requestId}`]:[],...!((y=(m=U==null?void 0:U.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||y===void 0)&&y.length?["Resources",...U.signInWithSolana.resources.map(x=>`- ${x}`)]:[]].join(`
`);const ne=await J.signMessage(new TextEncoder().encode(k),"utf8");if(!ne||!(ne instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");A=ne}}try{const{data:P,error:q}=await nt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:bD(A)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(T=e.options)===null||T===void 0?void 0:T.captchaToken}}:null),xform:ts});if(q)throw q;return!P||!P.session||!P.user?{data:{user:null,session:null},error:new pd}:(P.session&&(await this._saveSession(P.session),await this._notifyAllSubscribers("SIGNED_IN",P.session)),{data:Object.assign({},P),error:q})}catch(P){if(Ge(P))return{data:{user:null,session:null},error:P};throw P}}async _exchangeCodeForSession(e){const t=await yd(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(t??"").split("/");try{const{data:o,error:l}=await nt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:ts});if(await vd(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new pd}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:l})}catch(o){if(Ge(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(e){try{const{options:t,provider:r,token:i,access_token:o,nonce:l}=e,u=await nt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:ts}),{data:h,error:f}=u;return f?{data:{user:null,session:null},error:f}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new pd}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:h,error:f})}catch(t){if(Ge(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,r,i,o,l;try{if("email"in e){const{email:u,options:h}=e;let f=null,m=null;this.flowType==="pkce"&&([f,m]=await wl(this.storage,this.storageKey));const{error:y}=await nt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(t=h==null?void 0:h.data)!==null&&t!==void 0?t:{},create_user:(r=h==null?void 0:h.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:m},redirectTo:h==null?void 0:h.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in e){const{phone:u,options:h}=e,{data:f,error:m}=await nt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=h==null?void 0:h.data)!==null&&i!==void 0?i:{},create_user:(o=h==null?void 0:h.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},channel:(l=h==null?void 0:h.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:m}}throw new md("You must provide either an email or phone number.")}catch(u){if(Ge(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(e){var t,r;try{let i,o;"options"in e&&(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo,o=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:u}=await nt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:ts});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const h=l.session,f=l.user;return h!=null&&h.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),{data:{user:f,session:h},error:null}}catch(i){if(Ge(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var t,r,i;try{let o=null,l=null;return this.flowType==="pkce"&&([o,l]=await wl(this.storage,this.storageKey)),await nt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:qD})}catch(o){if(Ge(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new Zs;const{error:i}=await nt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(Ge(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:o}=e,{error:l}=await nt(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in e){const{phone:r,type:i,options:o}=e,{data:l,error:u}=await nt(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u}}throw new md("You must provide either an email or phone number and a type")}catch(t){if(Ge(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await t()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=t();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await yd(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<qm:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let l=this.suppressGetSessionWarning;e=new Proxy(e,{get:(h,f,m)=>(!l&&f==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(h,f,m))})}return{data:{session:e},error:null}}const{session:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await nt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:no}):await this._useSession(async t=>{var r,i,o;const{data:l,error:u}=t;if(u)throw u;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Zs}:await nt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:no})})}catch(t){if(Ge(t))return gD(t)&&(await this._removeSession(),await vd(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new Zs;const l=i.session;let u=null,h=null;this.flowType==="pkce"&&e.email!=null&&([u,h]=await wl(this.storage,this.storageKey));const{data:f,error:m}=await nt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:h}),jwt:l.access_token,xform:no});if(m)throw m;return l.user=f.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(r){if(Ge(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Zs;const t=Date.now()/1e3;let r=t,i=!0,o=null;const{payload:l}=Hm(e.access_token);if(l.exp&&(r=l.exp,i=r<=t),i){const{session:u,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return{data:{user:null,session:null},error:h};if(!u)return{data:{user:null,session:null},error:null};o=u}else{const{data:u,error:h}=await this._getUser(e.access_token);if(h)throw h;o={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(t){if(Ge(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:l,error:u}=t;if(u)throw u;e=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Zs;const{session:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(Ge(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!ti())throw new gd("No browser detected.");if(e.error||e.error_description||e.error_code)throw new gd(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new kE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new gd("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new kE("No code detected.");const{data:B,error:U}=await this._exchangeCodeForSession(e.code);if(U)throw U;const J=new URL(window.location.href);return J.searchParams.delete("code"),window.history.replaceState(window.history.state,"",J.toString()),{data:{session:B.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:l,expires_in:u,expires_at:h,token_type:f}=e;if(!o||!u||!l||!f)throw new gd("No session defined in URL");const m=Math.round(Date.now()/1e3),y=parseInt(u);let v=m+y;h&&(v=parseInt(h));const T=v-m;T*1e3<=bl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${T}s, should have been closer to ${y}s`);const k=v-y;m-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,v,m):m-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,v,m);const{data:A,error:P}=await this._getUser(o);if(P)throw P;const q={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:y,expires_at:v,refresh_token:l,token_type:f,user:A.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:q,redirectType:e.type},error:null}}catch(r){if(Ge(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await yd(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;const{data:i,error:o}=t;if(o)return{error:o};const l=(r=i.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:u}=await this.admin.signOut(l,e);if(u&&!(mD(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return e!=="others"&&(await this._removeSession(),await vd(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=kD(),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,i;try{const{data:{session:o},error:l}=t;if(l)throw l;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,t={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await wl(this.storage,this.storageKey,!0));try{return await nt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(o){if(Ge(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(Ge(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:r,error:i}=await this._useSession(async o=>{var l,u,h,f,m;const{data:y,error:v}=o;if(v)throw v;const T=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await nt(this.fetch,"GET",T,{headers:this.headers,jwt:(m=(f=y.session)===null||f===void 0?void 0:f.access_token)!==null&&m!==void 0?m:void 0})});if(i)throw i;return ti()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Ge(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,i;const{data:o,error:l}=t;if(l)throw l;return await nt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(t){if(Ge(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const r=Date.now();return await RD(async i=>(i>0&&await PD(200*Math.pow(2,i-1)),this._debug(t,"refreshing attempt",i),await nt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ts})),(i,o)=>{const l=200*Math.pow(2,i);return o&&Wm(o)&&Date.now()+l-r<bl})}catch(r){if(this._debug(t,"error",r),Ge(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),ti()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const r=await yd(this.storage,this.storageKey);if(this._debug(t,"session from storage",r),!this._isValidSession(r)){this._debug(t,"session is not valid"),r!==null&&await this._removeSession();return}const i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<qm;if(this._debug(t,`session has${i?"":" not"} expired with margin of ${qm}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),Wm(o)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(t,"error",r),console.error(r);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new Zs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new wb;const{data:o,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!o.session)throw new Zs;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const u={session:o.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(o){if(this._debug(i,"error",o),Ge(o)){const l={session:null,error:o};return Wm(o)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,t,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,t)}catch(h){o.push(h)}});if(await Promise.all(l),o.length>0){for(let u=0;u<o.length;u+=1)console.error(o[u]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await _b(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await vd(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ti()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),bl);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/bl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${bl}ms, refresh threshold is ${Dg} ticks`),i<=Dg&&await this._callRefreshToken(r.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Tb)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ti()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const i=[`provider=${encodeURIComponent(t)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,l]=await wl(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(u.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:i,error:o}=t;return o?{data:null,error:o}:await nt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(Ge(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,i;const{data:o,error:l}=t;if(l)return{data:null,error:l};const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:h,error:f}=await nt(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return f?{data:null,error:f}:(e.factorType==="totp"&&(!((i=h==null?void 0:h.totp)===null||i===void 0)&&i.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),{data:h,error:null})})}catch(t){if(Ge(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:i,error:o}=t;if(o)return{data:null,error:o};const{data:l,error:u}=await nt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:u})})}catch(t){if(Ge(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:i,error:o}=t;return o?{data:null,error:o}:await nt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(Ge(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const r=(e==null?void 0:e.factors)||[],i=r.filter(l=>l.factor_type==="totp"&&l.status==="verified"),o=r.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:r,totp:i,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,r;const{data:{session:i},error:o}=e;if(o)return{data:null,error:o};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Hm(i.access_token);let u=null;l.aal&&(u=l.aal);let h=u;((r=(t=i.user.factors)===null||t===void 0?void 0:t.filter(y=>y.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(h="aal2");const m=l.amr||[];return{data:{currentLevel:u,nextLevel:h,currentAuthenticationMethods:m},error:null}}))}async fetchJwk(e,t={keys:[]}){let r=t.keys.find(l=>l.kid===e);if(r||(r=this.jwks.keys.find(l=>l.kid===e),r&&this.jwks_cached_at+fD>Date.now()))return r;const{data:i,error:o}=await nt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!i.keys||i.keys.length===0)throw new uc("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),r=i.keys.find(l=>l.kid===e),!r)throw new uc("No matching signing key found in JWKS");return r}async getClaims(e,t={keys:[]}){try{let r=e;if(!r){const{data:T,error:k}=await this.getSession();if(k||!T.session)return{data:null,error:k};r=T.session.access_token}const{header:i,payload:o,signature:l,raw:{header:u,payload:h}}=Hm(r);if(VD(o.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:T}=await this.getUser(r);if(T)throw T;return{data:{claims:o,header:i,signature:l},error:null}}const f=jD(i.alg),m=await this.fetchJwk(i.kid,t),y=await crypto.subtle.importKey("jwk",m,f,!0,["verify"]);if(!await crypto.subtle.verify(f,y,l,SD(`${u}.${h}`)))throw new uc("Invalid JWT signature");return{data:{claims:o,header:i,signature:l},error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}}}bc.nextInstanceID=0;const tO=bc;class nO extends tO{constructor(e){super(e)}}var rO=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function u(m){try{f(r.next(m))}catch(y){l(y)}}function h(m){try{f(r.throw(m))}catch(y){l(y)}}function f(m){m.done?o(m.value):i(m.value).then(u,h)}f((r=r.apply(n,e||[])).next())})};class iO{constructor(e,t,r){var i,o,l;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const u=aD(e),h=new URL(u);this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const f=`sb-${h.hostname.split(".")[0]}-auth-token`,m={db:Z2,realtime:tD,auth:Object.assign(Object.assign({},eD),{storageKey:f}),global:Y2},y=lD(r??{},m);this.storageKey=(i=y.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=y.global.headers)!==null&&o!==void 0?o:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(v,T)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(T)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=y.auth)!==null&&l!==void 0?l:{},this.headers,y.global.fetch),this.fetch=sD(t,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new E2(new URL("rest/v1",h).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),y.accessToken||this._listenForAuthEvents()}get functions(){return new u2(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Q2(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return rO(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(t=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,storageKey:o,flowType:l,lock:u,debug:h},f,m){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new nO({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),f),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,flowType:l,lock:u,debug:h,fetch:m,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new L2(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const sO=(n,e,t)=>new iO(n,e,t),as=sO("https://ytnsjmbhgwcuwmnflncl.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inl0bnNqbWJoZ3djdXdtbmZsbmNsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc1NzUyNzEsImV4cCI6MjA2MzE1MTI3MX0.dOHH5M5D4jBIYOP0nEHlTd34kwUeKgfu5YUICUkDjeU"),Sb=D.createContext(void 0),oO=({children:n})=>{const[e,t]=D.useState(!0),[r,i]=D.useState(null),[o,l]=D.useState(null),[u,h]=D.useState(null),f=D.useCallback(async y=>{t(!0);try{const{data:v,error:T}=await as.from("users").select("id, name, role, email").eq("id",y.id).single();if(T){console.error("Error fetching user profile:",T.message),h({id:y.id,name:y.email||"Guest",role:"Staff",email:y.email||""});return}v?h(v):(console.warn("User profile not found in public.users for ID:",y.id,"Setting default profile."),h({id:y.id,name:y.email||"New User",role:"Staff",email:y.email||""}))}catch(v){console.error("Unexpected error in fetchUserProfile:",v.message),h({id:y.id,name:"Error User",role:null,email:""})}finally{t(!1)}},[]);D.useEffect(()=>{console.log("[TEST] UserProvider useEffect is running..."),as.auth.getSession().then(({data:{session:v}})=>{v?(i(v),l(v.user),f(v.user)):t(!1)});const{data:{subscription:y}}=as.auth.onAuthStateChange((v,T)=>{console.log(`[TEST] onAuthStateChange triggered. Event: ${v}`),i(T),l((T==null?void 0:T.user)??null),T!=null&&T.user?f(T.user):(h(null),t(!1))});return()=>{y.unsubscribe()}},[f]);const m={session:r,user:o,userProfile:u,loading:e};return e&&!r?R.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",background:"#111",color:"#fff"},children:"Initializing Application..."}):R.jsx(Sb.Provider,{value:m,children:n})},Of=()=>{const n=D.useContext(Sb);if(n===void 0)throw new Error("useUser must be used within a UserProvider");return n};let aO={data:""},lO=n=>typeof window=="object"?((n?n.querySelector("#_goober"):window._goober)||Object.assign((n||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:n||aO,uO=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,cO=/\/\*[^]*?\*\/|  +/g,ME=/\n+/g,ro=(n,e)=>{let t="",r="",i="";for(let o in n){let l=n[o];o[0]=="@"?o[1]=="i"?t=o+" "+l+";":r+=o[1]=="f"?ro(l,o):o+"{"+ro(l,o[1]=="k"?"":e)+"}":typeof l=="object"?r+=ro(l,e?e.replace(/([^,])+/g,u=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,h=>/&/.test(h)?h.replace(/&/g,u):u?u+" "+h:h)):o):l!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=ro.p?ro.p(o,l):o+":"+l+";")}return t+(e&&i?e+"{"+i+"}":i)+r},Zi={},bb=n=>{if(typeof n=="object"){let e="";for(let t in n)e+=t+bb(n[t]);return e}return n},hO=(n,e,t,r,i)=>{let o=bb(n),l=Zi[o]||(Zi[o]=(h=>{let f=0,m=11;for(;f<h.length;)m=101*m+h.charCodeAt(f++)>>>0;return"go"+m})(o));if(!Zi[l]){let h=o!==n?n:(f=>{let m,y,v=[{}];for(;m=uO.exec(f.replace(cO,""));)m[4]?v.shift():m[3]?(y=m[3].replace(ME," ").trim(),v.unshift(v[0][y]=v[0][y]||{})):v[0][m[1]]=m[2].replace(ME," ").trim();return v[0]})(n);Zi[l]=ro(i?{["@keyframes "+l]:h}:h,t?"":"."+l)}let u=t&&Zi.g?Zi.g:null;return t&&(Zi.g=Zi[l]),((h,f,m,y)=>{y?f.data=f.data.replace(y,h):f.data.indexOf(h)===-1&&(f.data=m?h+f.data:f.data+h)})(Zi[l],e,r,u),l},dO=(n,e,t)=>n.reduce((r,i,o)=>{let l=e[o];if(l&&l.call){let u=l(t),h=u&&u.props&&u.props.className||/^go/.test(u)&&u;l=h?"."+h:u&&typeof u=="object"?u.props?"":ro(u,""):u===!1?"":u}return r+i+(l??"")},"");function Nf(n){let e=this||{},t=n.call?n(e.p):n;return hO(t.unshift?t.raw?dO(t,[].slice.call(arguments,1),e.p):t.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):t,lO(e.target),e.g,e.o,e.k)}let xb,Mg,Lg;Nf.bind({g:1});let ds=Nf.bind({k:1});function fO(n,e,t,r){ro.p=e,xb=n,Mg=t,Lg=r}function Io(n,e){let t=this||{};return function(){let r=arguments;function i(o,l){let u=Object.assign({},o),h=u.className||i.className;t.p=Object.assign({theme:Mg&&Mg()},u),t.o=/ *go\d+/.test(h),u.className=Nf.apply(t,r)+(h?" "+h:"");let f=n;return n[0]&&(f=u.as||n,delete u.as),Lg&&f[0]&&Lg(u),xb(f,u)}return i}}var pO=n=>typeof n=="function",tf=(n,e)=>pO(n)?n(e):n,mO=(()=>{let n=0;return()=>(++n).toString()})(),kb=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");n=!e||e.matches}return n}})(),gO=20,Ib=(n,e)=>{switch(e.type){case 0:return{...n,toasts:[e.toast,...n.toasts].slice(0,gO)};case 1:return{...n,toasts:n.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:t}=e;return Ib(n,{type:n.toasts.find(o=>o.id===t.id)?1:0,toast:t});case 3:let{toastId:r}=e;return{...n,toasts:n.toasts.map(o=>o.id===r||r===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...n,pausedAt:e.time};case 6:let i=e.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},Od=[],da={toasts:[],pausedAt:void 0},Aa=n=>{da=Ib(da,n),Od.forEach(e=>{e(da)})},yO={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},vO=(n={})=>{let[e,t]=D.useState(da),r=D.useRef(da);D.useEffect(()=>(r.current!==da&&t(da),Od.push(t),()=>{let o=Od.indexOf(t);o>-1&&Od.splice(o,1)}),[]);let i=e.toasts.map(o=>{var l,u,h;return{...n,...n[o.type],...o,removeDelay:o.removeDelay||((l=n[o.type])==null?void 0:l.removeDelay)||(n==null?void 0:n.removeDelay),duration:o.duration||((u=n[o.type])==null?void 0:u.duration)||(n==null?void 0:n.duration)||yO[o.type],style:{...n.style,...(h=n[o.type])==null?void 0:h.style,...o.style}}});return{...e,toasts:i}},_O=(n,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...t,id:(t==null?void 0:t.id)||mO()}),zc=n=>(e,t)=>{let r=_O(e,n,t);return Aa({type:2,toast:r}),r.id},Hn=(n,e)=>zc("blank")(n,e);Hn.error=zc("error");Hn.success=zc("success");Hn.loading=zc("loading");Hn.custom=zc("custom");Hn.dismiss=n=>{Aa({type:3,toastId:n})};Hn.remove=n=>Aa({type:4,toastId:n});Hn.promise=(n,e,t)=>{let r=Hn.loading(e.loading,{...t,...t==null?void 0:t.loading});return typeof n=="function"&&(n=n()),n.then(i=>{let o=e.success?tf(e.success,i):void 0;return o?Hn.success(o,{id:r,...t,...t==null?void 0:t.success}):Hn.dismiss(r),i}).catch(i=>{let o=e.error?tf(e.error,i):void 0;o?Hn.error(o,{id:r,...t,...t==null?void 0:t.error}):Hn.dismiss(r)}),n};var wO=(n,e)=>{Aa({type:1,toast:{id:n,height:e}})},EO=()=>{Aa({type:5,time:Date.now()})},hc=new Map,TO=1e3,SO=(n,e=TO)=>{if(hc.has(n))return;let t=setTimeout(()=>{hc.delete(n),Aa({type:4,toastId:n})},e);hc.set(n,t)},bO=n=>{let{toasts:e,pausedAt:t}=vO(n);D.useEffect(()=>{if(t)return;let o=Date.now(),l=e.map(u=>{if(u.duration===1/0)return;let h=(u.duration||0)+u.pauseDuration-(o-u.createdAt);if(h<0){u.visible&&Hn.dismiss(u.id);return}return setTimeout(()=>Hn.dismiss(u.id),h)});return()=>{l.forEach(u=>u&&clearTimeout(u))}},[e,t]);let r=D.useCallback(()=>{t&&Aa({type:6,time:Date.now()})},[t]),i=D.useCallback((o,l)=>{let{reverseOrder:u=!1,gutter:h=8,defaultPosition:f}=l||{},m=e.filter(T=>(T.position||f)===(o.position||f)&&T.height),y=m.findIndex(T=>T.id===o.id),v=m.filter((T,k)=>k<y&&T.visible).length;return m.filter(T=>T.visible).slice(...u?[v+1]:[0,v]).reduce((T,k)=>T+(k.height||0)+h,0)},[e]);return D.useEffect(()=>{e.forEach(o=>{if(o.dismissed)SO(o.id,o.removeDelay);else{let l=hc.get(o.id);l&&(clearTimeout(l),hc.delete(o.id))}})},[e]),{toasts:e,handlers:{updateHeight:wO,startPause:EO,endPause:r,calculateOffset:i}}},xO=ds`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,kO=ds`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,IO=ds`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,AO=Io("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${xO} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${kO} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${IO} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,PO=ds`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,RO=Io("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${PO} 1s linear infinite;
`,CO=ds`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,DO=ds`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,OO=Io("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${CO} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${DO} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,NO=Io("div")`
  position: absolute;
`,MO=Io("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,LO=ds`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,VO=Io("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${LO} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,jO=({toast:n})=>{let{icon:e,type:t,iconTheme:r}=n;return e!==void 0?typeof e=="string"?D.createElement(VO,null,e):e:t==="blank"?null:D.createElement(MO,null,D.createElement(RO,{...r}),t!=="loading"&&D.createElement(NO,null,t==="error"?D.createElement(AO,{...r}):D.createElement(OO,{...r})))},FO=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,UO=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,$O="0%{opacity:0;} 100%{opacity:1;}",BO="0%{opacity:1;} 100%{opacity:0;}",zO=Io("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,qO=Io("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,WO=(n,e)=>{let t=n.includes("top")?1:-1,[r,i]=kb()?[$O,BO]:[FO(t),UO(t)];return{animation:e?`${ds(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ds(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},HO=D.memo(({toast:n,position:e,style:t,children:r})=>{let i=n.height?WO(n.position||e||"top-center",n.visible):{opacity:0},o=D.createElement(jO,{toast:n}),l=D.createElement(qO,{...n.ariaProps},tf(n.message,n));return D.createElement(zO,{className:n.className,style:{...i,...t,...n.style}},typeof r=="function"?r({icon:o,message:l}):D.createElement(D.Fragment,null,o,l))});fO(D.createElement);var GO=({id:n,className:e,style:t,onHeightUpdate:r,children:i})=>{let o=D.useCallback(l=>{if(l){let u=()=>{let h=l.getBoundingClientRect().height;r(n,h)};u(),new MutationObserver(u).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[n,r]);return D.createElement("div",{ref:o,className:e,style:t},i)},KO=(n,e)=>{let t=n.includes("top"),r=t?{top:0}:{bottom:0},i=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:kb()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...r,...i}},QO=Nf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,_d=16,JO=({reverseOrder:n,position:e="top-center",toastOptions:t,gutter:r,children:i,containerStyle:o,containerClassName:l})=>{let{toasts:u,handlers:h}=bO(t);return D.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:_d,left:_d,right:_d,bottom:_d,pointerEvents:"none",...o},className:l,onMouseEnter:h.startPause,onMouseLeave:h.endPause},u.map(f=>{let m=f.position||e,y=h.calculateOffset(f,{reverseOrder:n,gutter:r,defaultPosition:e}),v=KO(m,y);return D.createElement(GO,{id:f.id,key:f.id,onHeightUpdate:h.updateHeight,className:f.visible?QO:"",style:v},f.type==="custom"?tf(f.message,f):i?i(f):D.createElement(HO,{toast:f,position:m}))}))},JB=Hn;/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),YO=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),LE=n=>{const e=YO(n);return e.charAt(0).toUpperCase()+e.slice(1)},Ab=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),ZO=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var eN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=D.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:l,...u},h)=>D.createElement("svg",{ref:h,...eN,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:Ab("lucide",i),...!o&&!ZO(u)&&{"aria-hidden":"true"},...u},[...l.map(([f,m])=>D.createElement(f,m)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=(n,e)=>{const t=D.forwardRef(({className:r,...i},o)=>D.createElement(tN,{ref:o,iconNode:e,className:Ab(`lucide-${XO(LE(n))}`,`lucide-${n}`,r),...i}));return t.displayName=LE(n),t};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]],rN=at("bell-ring",nN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],sN=at("bell",iN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]],aN=at("boxes",oN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Rb=at("briefcase",Pb),XB=Object.freeze(Object.defineProperty({__proto__:null,__iconNode:Pb,default:Rb},Symbol.toStringTag,{value:"Module"}));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],VE=at("chart-column",lN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],cN=at("check-check",uN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],dN=at("chevron-down",hN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],pN=at("chevron-left",fN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],gN=at("chevron-right",mN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],vN=at("circle-alert",yN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],wN=at("circle-question-mark",_N);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],TN=at("circle-user",EN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Vg=at("dollar-sign",Cb),YB=Object.freeze(Object.defineProperty({__proto__:null,__iconNode:Cb,default:Vg},Symbol.toStringTag,{value:"Module"}));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=[["path",{d:"m18 5-2.414-2.414A2 2 0 0 0 14.172 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"142zxg"}],["path",{d:"M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"2t3380"}],["path",{d:"M8 18h1",key:"13wk12"}]],bN=at("file-pen-line",SN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],kN=at("file-text",xN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=[["path",{d:"M2 3v18",key:"pzttux"}],["rect",{width:"12",height:"18",x:"6",y:"3",rx:"2",key:"btr8bg"}],["path",{d:"M22 3v18",key:"6jf3v"}]],AN=at("gallery-horizontal",IN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],RN=at("layout-dashboard",PN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],DN=at("lightbulb",CN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],jg=at("loader-circle",ON);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Ob=at("lock",Db),ZB=Object.freeze(Object.defineProperty({__proto__:null,__iconNode:Db,default:Ob},Symbol.toStringTag,{value:"Module"}));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],MN=at("log-out",NN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Mb=at("mail",Nb),ez=Object.freeze(Object.defineProperty({__proto__:null,__iconNode:Nb,default:Mb},Symbol.toStringTag,{value:"Module"}));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],VN=at("menu",LN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],Fg=at("message-circle",jN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],UN=at("message-square",FN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],BN=at("moon",$N);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Ug=at("package",Lb),tz=Object.freeze(Object.defineProperty({__proto__:null,__iconNode:Lb,default:Ug},Symbol.toStringTag,{value:"Module"}));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],qN=at("refresh-cw",zN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Mf=at("settings",Vb),nz=Object.freeze(Object.defineProperty({__proto__:null,__iconNode:Vb,default:Mf},Symbol.toStringTag,{value:"Module"}));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],HN=at("sparkles",WN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M17 12h-2l-2 5-2-10-2 5H7",key:"15hlnc"}]],KN=at("square-activity",GN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],JN=at("sun",QN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],jb=at("triangle-alert",XN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Nd=at("users",Fb),rz=Object.freeze(Object.defineProperty({__proto__:null,__iconNode:Fb,default:Nd},Symbol.toStringTag,{value:"Module"}));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ZN=at("x",YN),qy="-",eM=n=>{const e=nM(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:l=>{const u=l.split(qy);return u[0]===""&&u.length!==1&&u.shift(),Ub(u,e)||tM(l)},getConflictingClassGroupIds:(l,u)=>{const h=t[l]||[];return u&&r[l]?[...h,...r[l]]:h}}},Ub=(n,e)=>{var l;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),i=r?Ub(n.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const o=n.join(qy);return(l=e.validators.find(({validator:u})=>u(o)))==null?void 0:l.classGroupId},jE=/^\[(.+)\]$/,tM=n=>{if(jE.test(n)){const e=jE.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},nM=n=>{const{theme:e,classGroups:t}=n,r={nextPart:new Map,validators:[]};for(const i in t)$g(t[i],r,i,e);return r},$g=(n,e,t,r)=>{n.forEach(i=>{if(typeof i=="string"){const o=i===""?e:FE(e,i);o.classGroupId=t;return}if(typeof i=="function"){if(rM(i)){$g(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([o,l])=>{$g(l,FE(e,o),t,r)})})},FE=(n,e)=>{let t=n;return e.split(qy).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},rM=n=>n.isThemeGetter,iM=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const i=(o,l)=>{t.set(o,l),e++,e>n&&(e=0,r=t,t=new Map)};return{get(o){let l=t.get(o);if(l!==void 0)return l;if((l=r.get(o))!==void 0)return i(o,l),l},set(o,l){t.has(o)?t.set(o,l):i(o,l)}}},Bg="!",zg=":",sM=zg.length,oM=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=i=>{const o=[];let l=0,u=0,h=0,f;for(let k=0;k<i.length;k++){let A=i[k];if(l===0&&u===0){if(A===zg){o.push(i.slice(h,k)),h=k+sM;continue}if(A==="/"){f=k;continue}}A==="["?l++:A==="]"?l--:A==="("?u++:A===")"&&u--}const m=o.length===0?i:i.substring(h),y=aM(m),v=y!==m,T=f&&f>h?f-h:void 0;return{modifiers:o,hasImportantModifier:v,baseClassName:y,maybePostfixModifierPosition:T}};if(e){const i=e+zg,o=r;r=l=>l.startsWith(i)?o(l.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(t){const i=r;r=o=>t({className:o,parseClassName:i})}return r},aM=n=>n.endsWith(Bg)?n.substring(0,n.length-1):n.startsWith(Bg)?n.substring(1):n,lM=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let o=[];return r.forEach(l=>{l[0]==="["||e[l]?(i.push(...o.sort(),l),o=[]):o.push(l)}),i.push(...o.sort()),i}},uM=n=>({cache:iM(n.cacheSize),parseClassName:oM(n),sortModifiers:lM(n),...eM(n)}),cM=/\s+/,hM=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:o}=e,l=[],u=n.trim().split(cM);let h="";for(let f=u.length-1;f>=0;f-=1){const m=u[f],{isExternal:y,modifiers:v,hasImportantModifier:T,baseClassName:k,maybePostfixModifierPosition:A}=t(m);if(y){h=m+(h.length>0?" "+h:h);continue}let P=!!A,q=r(P?k.substring(0,A):k);if(!q){if(!P){h=m+(h.length>0?" "+h:h);continue}if(q=r(k),!q){h=m+(h.length>0?" "+h:h);continue}P=!1}const B=o(v).join(":"),U=T?B+Bg:B,J=U+q;if(l.includes(J))continue;l.push(J);const Z=i(q,P);for(let ne=0;ne<Z.length;++ne){const x=Z[ne];l.push(U+x)}h=m+(h.length>0?" "+h:h)}return h};function dM(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=$b(e))&&(r&&(r+=" "),r+=t);return r}const $b=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=$b(n[r]))&&(t&&(t+=" "),t+=e);return t};function fM(n,...e){let t,r,i,o=l;function l(h){const f=e.reduce((m,y)=>y(m),n());return t=uM(f),r=t.cache.get,i=t.cache.set,o=u,u(h)}function u(h){const f=r(h);if(f)return f;const m=hM(h,t);return i(h,m),m}return function(){return o(dM.apply(null,arguments))}}const an=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},Bb=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,zb=/^\((?:(\w[\w-]*):)?(.+)\)$/i,pM=/^\d+\/\d+$/,mM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,gM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,yM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,vM=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,_M=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Sl=n=>pM.test(n),Je=n=>!!n&&!Number.isNaN(Number(n)),Js=n=>!!n&&Number.isInteger(Number(n)),Km=n=>n.endsWith("%")&&Je(n.slice(0,-1)),es=n=>mM.test(n),wM=()=>!0,EM=n=>gM.test(n)&&!yM.test(n),qb=()=>!1,TM=n=>vM.test(n),SM=n=>_M.test(n),bM=n=>!xe(n)&&!ke(n),xM=n=>nu(n,Gb,qb),xe=n=>Bb.test(n),na=n=>nu(n,Kb,EM),Qm=n=>nu(n,RM,Je),UE=n=>nu(n,Wb,qb),kM=n=>nu(n,Hb,SM),wd=n=>nu(n,Qb,TM),ke=n=>zb.test(n),Ju=n=>ru(n,Kb),IM=n=>ru(n,CM),$E=n=>ru(n,Wb),AM=n=>ru(n,Gb),PM=n=>ru(n,Hb),Ed=n=>ru(n,Qb,!0),nu=(n,e,t)=>{const r=Bb.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},ru=(n,e,t=!1)=>{const r=zb.exec(n);return r?r[1]?e(r[1]):t:!1},Wb=n=>n==="position"||n==="percentage",Hb=n=>n==="image"||n==="url",Gb=n=>n==="length"||n==="size"||n==="bg-size",Kb=n=>n==="length",RM=n=>n==="number",CM=n=>n==="family-name",Qb=n=>n==="shadow",DM=()=>{const n=an("color"),e=an("font"),t=an("text"),r=an("font-weight"),i=an("tracking"),o=an("leading"),l=an("breakpoint"),u=an("container"),h=an("spacing"),f=an("radius"),m=an("shadow"),y=an("inset-shadow"),v=an("text-shadow"),T=an("drop-shadow"),k=an("blur"),A=an("perspective"),P=an("aspect"),q=an("ease"),B=an("animate"),U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],Z=()=>[...J(),ke,xe],ne=()=>["auto","hidden","clip","visible","scroll"],x=()=>["auto","contain","none"],b=()=>[ke,xe,h],C=()=>[Sl,"full","auto",...b()],O=()=>[Js,"none","subgrid",ke,xe],j=()=>["auto",{span:["full",Js,ke,xe]},Js,ke,xe],$=()=>[Js,"auto",ke,xe],M=()=>["auto","min","max","fr",ke,xe],He=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],lt=()=>["start","end","center","stretch","center-safe","end-safe"],dt=()=>["auto",...b()],Ce=()=>[Sl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...b()],Q=()=>[n,ke,xe],Se=()=>[...J(),$E,UE,{position:[ke,xe]}],L=()=>["no-repeat",{repeat:["","x","y","space","round"]}],re=()=>["auto","cover","contain",AM,xM,{size:[ke,xe]}],de=()=>[Km,Ju,na],fe=()=>["","none","full",f,ke,xe],Ae=()=>["",Je,Ju,na],Ve=()=>["solid","dashed","dotted","double"],qe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Re=()=>[Je,Km,$E,UE],Qe=()=>["","none",k,ke,xe],Nt=()=>["none",Je,ke,xe],ur=()=>["none",Je,ke,xe],Un=()=>[Je,ke,xe],wt=()=>[Sl,"full",...b()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[es],breakpoint:[es],color:[wM],container:[es],"drop-shadow":[es],ease:["in","out","in-out"],font:[bM],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[es],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[es],shadow:[es],spacing:["px",Je],text:[es],"text-shadow":[es],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Sl,xe,ke,P]}],container:["container"],columns:[{columns:[Je,xe,ke,u]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:Z()}],overflow:[{overflow:ne()}],"overflow-x":[{"overflow-x":ne()}],"overflow-y":[{"overflow-y":ne()}],overscroll:[{overscroll:x()}],"overscroll-x":[{"overscroll-x":x()}],"overscroll-y":[{"overscroll-y":x()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:C()}],"inset-x":[{"inset-x":C()}],"inset-y":[{"inset-y":C()}],start:[{start:C()}],end:[{end:C()}],top:[{top:C()}],right:[{right:C()}],bottom:[{bottom:C()}],left:[{left:C()}],visibility:["visible","invisible","collapse"],z:[{z:[Js,"auto",ke,xe]}],basis:[{basis:[Sl,"full","auto",u,...b()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Je,Sl,"auto","initial","none",xe]}],grow:[{grow:["",Je,ke,xe]}],shrink:[{shrink:["",Je,ke,xe]}],order:[{order:[Js,"first","last","none",ke,xe]}],"grid-cols":[{"grid-cols":O()}],"col-start-end":[{col:j()}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":O()}],"row-start-end":[{row:j()}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":M()}],"auto-rows":[{"auto-rows":M()}],gap:[{gap:b()}],"gap-x":[{"gap-x":b()}],"gap-y":[{"gap-y":b()}],"justify-content":[{justify:[...He(),"normal"]}],"justify-items":[{"justify-items":[...lt(),"normal"]}],"justify-self":[{"justify-self":["auto",...lt()]}],"align-content":[{content:["normal",...He()]}],"align-items":[{items:[...lt(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...lt(),{baseline:["","last"]}]}],"place-content":[{"place-content":He()}],"place-items":[{"place-items":[...lt(),"baseline"]}],"place-self":[{"place-self":["auto",...lt()]}],p:[{p:b()}],px:[{px:b()}],py:[{py:b()}],ps:[{ps:b()}],pe:[{pe:b()}],pt:[{pt:b()}],pr:[{pr:b()}],pb:[{pb:b()}],pl:[{pl:b()}],m:[{m:dt()}],mx:[{mx:dt()}],my:[{my:dt()}],ms:[{ms:dt()}],me:[{me:dt()}],mt:[{mt:dt()}],mr:[{mr:dt()}],mb:[{mb:dt()}],ml:[{ml:dt()}],"space-x":[{"space-x":b()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":b()}],"space-y-reverse":["space-y-reverse"],size:[{size:Ce()}],w:[{w:[u,"screen",...Ce()]}],"min-w":[{"min-w":[u,"screen","none",...Ce()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[l]},...Ce()]}],h:[{h:["screen","lh",...Ce()]}],"min-h":[{"min-h":["screen","lh","none",...Ce()]}],"max-h":[{"max-h":["screen","lh",...Ce()]}],"font-size":[{text:["base",t,Ju,na]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ke,Qm]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Km,xe]}],"font-family":[{font:[IM,xe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,ke,xe]}],"line-clamp":[{"line-clamp":[Je,"none",ke,Qm]}],leading:[{leading:[o,...b()]}],"list-image":[{"list-image":["none",ke,xe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ke,xe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Q()}],"text-color":[{text:Q()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ve(),"wavy"]}],"text-decoration-thickness":[{decoration:[Je,"from-font","auto",ke,na]}],"text-decoration-color":[{decoration:Q()}],"underline-offset":[{"underline-offset":[Je,"auto",ke,xe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:b()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ke,xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ke,xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Se()}],"bg-repeat":[{bg:L()}],"bg-size":[{bg:re()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Js,ke,xe],radial:["",ke,xe],conic:[Js,ke,xe]},PM,kM]}],"bg-color":[{bg:Q()}],"gradient-from-pos":[{from:de()}],"gradient-via-pos":[{via:de()}],"gradient-to-pos":[{to:de()}],"gradient-from":[{from:Q()}],"gradient-via":[{via:Q()}],"gradient-to":[{to:Q()}],rounded:[{rounded:fe()}],"rounded-s":[{"rounded-s":fe()}],"rounded-e":[{"rounded-e":fe()}],"rounded-t":[{"rounded-t":fe()}],"rounded-r":[{"rounded-r":fe()}],"rounded-b":[{"rounded-b":fe()}],"rounded-l":[{"rounded-l":fe()}],"rounded-ss":[{"rounded-ss":fe()}],"rounded-se":[{"rounded-se":fe()}],"rounded-ee":[{"rounded-ee":fe()}],"rounded-es":[{"rounded-es":fe()}],"rounded-tl":[{"rounded-tl":fe()}],"rounded-tr":[{"rounded-tr":fe()}],"rounded-br":[{"rounded-br":fe()}],"rounded-bl":[{"rounded-bl":fe()}],"border-w":[{border:Ae()}],"border-w-x":[{"border-x":Ae()}],"border-w-y":[{"border-y":Ae()}],"border-w-s":[{"border-s":Ae()}],"border-w-e":[{"border-e":Ae()}],"border-w-t":[{"border-t":Ae()}],"border-w-r":[{"border-r":Ae()}],"border-w-b":[{"border-b":Ae()}],"border-w-l":[{"border-l":Ae()}],"divide-x":[{"divide-x":Ae()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Ae()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ve(),"hidden","none"]}],"divide-style":[{divide:[...Ve(),"hidden","none"]}],"border-color":[{border:Q()}],"border-color-x":[{"border-x":Q()}],"border-color-y":[{"border-y":Q()}],"border-color-s":[{"border-s":Q()}],"border-color-e":[{"border-e":Q()}],"border-color-t":[{"border-t":Q()}],"border-color-r":[{"border-r":Q()}],"border-color-b":[{"border-b":Q()}],"border-color-l":[{"border-l":Q()}],"divide-color":[{divide:Q()}],"outline-style":[{outline:[...Ve(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Je,ke,xe]}],"outline-w":[{outline:["",Je,Ju,na]}],"outline-color":[{outline:Q()}],shadow:[{shadow:["","none",m,Ed,wd]}],"shadow-color":[{shadow:Q()}],"inset-shadow":[{"inset-shadow":["none",y,Ed,wd]}],"inset-shadow-color":[{"inset-shadow":Q()}],"ring-w":[{ring:Ae()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Q()}],"ring-offset-w":[{"ring-offset":[Je,na]}],"ring-offset-color":[{"ring-offset":Q()}],"inset-ring-w":[{"inset-ring":Ae()}],"inset-ring-color":[{"inset-ring":Q()}],"text-shadow":[{"text-shadow":["none",v,Ed,wd]}],"text-shadow-color":[{"text-shadow":Q()}],opacity:[{opacity:[Je,ke,xe]}],"mix-blend":[{"mix-blend":[...qe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":qe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Je]}],"mask-image-linear-from-pos":[{"mask-linear-from":Re()}],"mask-image-linear-to-pos":[{"mask-linear-to":Re()}],"mask-image-linear-from-color":[{"mask-linear-from":Q()}],"mask-image-linear-to-color":[{"mask-linear-to":Q()}],"mask-image-t-from-pos":[{"mask-t-from":Re()}],"mask-image-t-to-pos":[{"mask-t-to":Re()}],"mask-image-t-from-color":[{"mask-t-from":Q()}],"mask-image-t-to-color":[{"mask-t-to":Q()}],"mask-image-r-from-pos":[{"mask-r-from":Re()}],"mask-image-r-to-pos":[{"mask-r-to":Re()}],"mask-image-r-from-color":[{"mask-r-from":Q()}],"mask-image-r-to-color":[{"mask-r-to":Q()}],"mask-image-b-from-pos":[{"mask-b-from":Re()}],"mask-image-b-to-pos":[{"mask-b-to":Re()}],"mask-image-b-from-color":[{"mask-b-from":Q()}],"mask-image-b-to-color":[{"mask-b-to":Q()}],"mask-image-l-from-pos":[{"mask-l-from":Re()}],"mask-image-l-to-pos":[{"mask-l-to":Re()}],"mask-image-l-from-color":[{"mask-l-from":Q()}],"mask-image-l-to-color":[{"mask-l-to":Q()}],"mask-image-x-from-pos":[{"mask-x-from":Re()}],"mask-image-x-to-pos":[{"mask-x-to":Re()}],"mask-image-x-from-color":[{"mask-x-from":Q()}],"mask-image-x-to-color":[{"mask-x-to":Q()}],"mask-image-y-from-pos":[{"mask-y-from":Re()}],"mask-image-y-to-pos":[{"mask-y-to":Re()}],"mask-image-y-from-color":[{"mask-y-from":Q()}],"mask-image-y-to-color":[{"mask-y-to":Q()}],"mask-image-radial":[{"mask-radial":[ke,xe]}],"mask-image-radial-from-pos":[{"mask-radial-from":Re()}],"mask-image-radial-to-pos":[{"mask-radial-to":Re()}],"mask-image-radial-from-color":[{"mask-radial-from":Q()}],"mask-image-radial-to-color":[{"mask-radial-to":Q()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":J()}],"mask-image-conic-pos":[{"mask-conic":[Je]}],"mask-image-conic-from-pos":[{"mask-conic-from":Re()}],"mask-image-conic-to-pos":[{"mask-conic-to":Re()}],"mask-image-conic-from-color":[{"mask-conic-from":Q()}],"mask-image-conic-to-color":[{"mask-conic-to":Q()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Se()}],"mask-repeat":[{mask:L()}],"mask-size":[{mask:re()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ke,xe]}],filter:[{filter:["","none",ke,xe]}],blur:[{blur:Qe()}],brightness:[{brightness:[Je,ke,xe]}],contrast:[{contrast:[Je,ke,xe]}],"drop-shadow":[{"drop-shadow":["","none",T,Ed,wd]}],"drop-shadow-color":[{"drop-shadow":Q()}],grayscale:[{grayscale:["",Je,ke,xe]}],"hue-rotate":[{"hue-rotate":[Je,ke,xe]}],invert:[{invert:["",Je,ke,xe]}],saturate:[{saturate:[Je,ke,xe]}],sepia:[{sepia:["",Je,ke,xe]}],"backdrop-filter":[{"backdrop-filter":["","none",ke,xe]}],"backdrop-blur":[{"backdrop-blur":Qe()}],"backdrop-brightness":[{"backdrop-brightness":[Je,ke,xe]}],"backdrop-contrast":[{"backdrop-contrast":[Je,ke,xe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Je,ke,xe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Je,ke,xe]}],"backdrop-invert":[{"backdrop-invert":["",Je,ke,xe]}],"backdrop-opacity":[{"backdrop-opacity":[Je,ke,xe]}],"backdrop-saturate":[{"backdrop-saturate":[Je,ke,xe]}],"backdrop-sepia":[{"backdrop-sepia":["",Je,ke,xe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":b()}],"border-spacing-x":[{"border-spacing-x":b()}],"border-spacing-y":[{"border-spacing-y":b()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ke,xe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Je,"initial",ke,xe]}],ease:[{ease:["linear","initial",q,ke,xe]}],delay:[{delay:[Je,ke,xe]}],animate:[{animate:["none",B,ke,xe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[A,ke,xe]}],"perspective-origin":[{"perspective-origin":Z()}],rotate:[{rotate:Nt()}],"rotate-x":[{"rotate-x":Nt()}],"rotate-y":[{"rotate-y":Nt()}],"rotate-z":[{"rotate-z":Nt()}],scale:[{scale:ur()}],"scale-x":[{"scale-x":ur()}],"scale-y":[{"scale-y":ur()}],"scale-z":[{"scale-z":ur()}],"scale-3d":["scale-3d"],skew:[{skew:Un()}],"skew-x":[{"skew-x":Un()}],"skew-y":[{"skew-y":Un()}],transform:[{transform:[ke,xe,"","none","gpu","cpu"]}],"transform-origin":[{origin:Z()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:wt()}],"translate-x":[{"translate-x":wt()}],"translate-y":[{"translate-y":wt()}],"translate-z":[{"translate-z":wt()}],"translate-none":["translate-none"],accent:[{accent:Q()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Q()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ke,xe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":b()}],"scroll-mx":[{"scroll-mx":b()}],"scroll-my":[{"scroll-my":b()}],"scroll-ms":[{"scroll-ms":b()}],"scroll-me":[{"scroll-me":b()}],"scroll-mt":[{"scroll-mt":b()}],"scroll-mr":[{"scroll-mr":b()}],"scroll-mb":[{"scroll-mb":b()}],"scroll-ml":[{"scroll-ml":b()}],"scroll-p":[{"scroll-p":b()}],"scroll-px":[{"scroll-px":b()}],"scroll-py":[{"scroll-py":b()}],"scroll-ps":[{"scroll-ps":b()}],"scroll-pe":[{"scroll-pe":b()}],"scroll-pt":[{"scroll-pt":b()}],"scroll-pr":[{"scroll-pr":b()}],"scroll-pb":[{"scroll-pb":b()}],"scroll-pl":[{"scroll-pl":b()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ke,xe]}],fill:[{fill:["none",...Q()]}],"stroke-w":[{stroke:[Je,Ju,na,Qm]}],stroke:[{stroke:["none",...Q()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Jb=fM(DM),Xb=({children:n,variant:e="primary",size:t="md",loading:r=!1,className:i="",disabled:o,fullWidth:l=!1,...u})=>{const h="inline-flex items-center justify-center font-medium rounded-md transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background",f={primary:"bg-primary text-primary-foreground hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",ghost:"hover:bg-accent hover:text-accent-foreground",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",success:"bg-success text-success-foreground hover:bg-success/90",link:"text-primary underline-offset-4 hover:underline",icon:"p-0 bg-transparent hover:bg-transparent"},m={sm:"h-9 px-3 text-xs rounded-md",md:"h-10 px-4 py-2 text-sm",lg:"h-11 px-8 text-base",icon:"h-10 w-10"},y=o||r;return R.jsxs("button",{disabled:y,className:Jb(h,f[e],m[t],l?"w-full":"",i),...u,children:[r&&R.jsx(jg,{className:"w-4 h-4 mr-2 animate-spin"}),n]})};class OM extends D.Component{constructor(t){super(t);Dw(this,"handleReset",()=>{this.setState({hasError:!1,error:null})});this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){var i,o;console.error("Error caught by ErrorBoundary:",t,r),(o=(i=this.props).onError)==null||o.call(i,t,r)}render(){var t;return this.state.hasError?this.props.fallback?this.props.fallback:R.jsx("div",{className:"p-6 rounded-lg bg-destructive/10 border border-destructive/20 text-destructive-foreground",children:R.jsxs("div",{className:"flex flex-col items-center text-center",children:[R.jsx(jb,{className:"h-12 w-12 mb-4"}),R.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Something went wrong"}),R.jsx("p",{className:"mb-4 max-w-md",children:((t=this.state.error)==null?void 0:t.message)||"An unexpected error occurred"}),R.jsxs(Xb,{onClick:this.handleReset,className:"flex items-center gap-2",children:[R.jsx(qN,{className:"h-4 w-4"}),"Try again"]})]})}):this.props.children}}const Wy=D.createContext({});function Hy(n){const e=D.useRef(null);return e.current===null&&(e.current=n()),e.current}const Lf=D.createContext(null),Gy=D.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class NM extends D.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function MM({children:n,isPresent:e}){const t=D.useId(),r=D.useRef(null),i=D.useRef({width:0,height:0,top:0,left:0}),{nonce:o}=D.useContext(Gy);return D.useInsertionEffect(()=>{const{width:l,height:u,top:h,left:f}=i.current;if(e||!r.current||!l||!u)return;r.current.dataset.motionPopId=t;const m=document.createElement("style");return o&&(m.nonce=o),document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${u}px !important;
            top: ${h}px !important;
            left: ${f}px !important;
          }
        `),()=>{document.head.removeChild(m)}},[e]),R.jsx(NM,{isPresent:e,childRef:r,sizeRef:i,children:D.cloneElement(n,{ref:r})})}const LM=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:l})=>{const u=Hy(VM),h=D.useId(),f=D.useCallback(y=>{u.set(y,!0);for(const v of u.values())if(!v)return;r&&r()},[u,r]),m=D.useMemo(()=>({id:h,initial:e,isPresent:t,custom:i,onExitComplete:f,register:y=>(u.set(y,!1),()=>u.delete(y))}),o?[Math.random(),f]:[t,f]);return D.useMemo(()=>{u.forEach((y,v)=>u.set(v,!1))},[t]),D.useEffect(()=>{!t&&!u.size&&r&&r()},[t]),l==="popLayout"&&(n=R.jsx(MM,{isPresent:t,children:n})),R.jsx(Lf.Provider,{value:m,children:n})};function VM(){return new Map}function Yb(n=!0){const e=D.useContext(Lf);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:i}=e,o=D.useId();D.useEffect(()=>{n&&i(o)},[n]);const l=D.useCallback(()=>n&&r&&r(o),[o,r,n]);return!t&&r?[!1,l]:[!0]}const Td=n=>n.key||"";function BE(n){const e=[];return D.Children.forEach(n,t=>{D.isValidElement(t)&&e.push(t)}),e}const Ky=typeof window<"u",Zb=Ky?D.useLayoutEffect:D.useEffect,Qy=({children:n,custom:e,initial:t=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:o="sync",propagate:l=!1})=>{const[u,h]=Yb(l),f=D.useMemo(()=>BE(n),[n]),m=l&&!u?[]:f.map(Td),y=D.useRef(!0),v=D.useRef(f),T=Hy(()=>new Map),[k,A]=D.useState(f),[P,q]=D.useState(f);Zb(()=>{y.current=!1,v.current=f;for(let J=0;J<P.length;J++){const Z=Td(P[J]);m.includes(Z)?T.delete(Z):T.get(Z)!==!0&&T.set(Z,!1)}},[P,m.length,m.join("-")]);const B=[];if(f!==k){let J=[...f];for(let Z=0;Z<P.length;Z++){const ne=P[Z],x=Td(ne);m.includes(x)||(J.splice(Z,0,ne),B.push(ne))}o==="wait"&&B.length&&(J=B),q(BE(J)),A(f);return}const{forceRender:U}=D.useContext(Wy);return R.jsx(R.Fragment,{children:P.map(J=>{const Z=Td(J),ne=l&&!u?!1:f===P||m.includes(Z),x=()=>{if(T.has(Z))T.set(Z,!0);else return;let b=!0;T.forEach(C=>{C||(b=!1)}),b&&(U==null||U(),q(v.current),l&&(h==null||h()),r&&r())};return R.jsx(LM,{isPresent:ne,initial:!y.current||t?void 0:!1,custom:ne?void 0:e,presenceAffectsLayout:i,mode:o,onExitComplete:ne?void 0:x,children:J},Z)})})},Tr=n=>n;let ex=Tr;function Jy(n){let e;return()=>(e===void 0&&(e=n()),e)}const Bl=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},ls=n=>n*1e3,us=n=>n/1e3,jM={useManualTiming:!1};function FM(n){let e=new Set,t=new Set,r=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function u(f){o.has(f)&&(h.schedule(f),n()),f(l)}const h={schedule:(f,m=!1,y=!1)=>{const T=y&&r?e:t;return m&&o.add(f),T.has(f)||T.add(f),f},cancel:f=>{t.delete(f),o.delete(f)},process:f=>{if(l=f,r){i=!0;return}r=!0,[e,t]=[t,e],e.forEach(u),e.clear(),r=!1,i&&(i=!1,h.process(f))}};return h}const Sd=["read","resolveKeyframes","update","preRender","render","postRender"],UM=40;function tx(n,e){let t=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>t=!0,l=Sd.reduce((q,B)=>(q[B]=FM(o),q),{}),{read:u,resolveKeyframes:h,update:f,preRender:m,render:y,postRender:v}=l,T=()=>{const q=performance.now();t=!1,i.delta=r?1e3/60:Math.max(Math.min(q-i.timestamp,UM),1),i.timestamp=q,i.isProcessing=!0,u.process(i),h.process(i),f.process(i),m.process(i),y.process(i),v.process(i),i.isProcessing=!1,t&&e&&(r=!1,n(T))},k=()=>{t=!0,r=!0,i.isProcessing||n(T)};return{schedule:Sd.reduce((q,B)=>{const U=l[B];return q[B]=(J,Z=!1,ne=!1)=>(t||k(),U.schedule(J,Z,ne)),q},{}),cancel:q=>{for(let B=0;B<Sd.length;B++)l[Sd[B]].cancel(q)},state:i,steps:l}}const{schedule:Rt,cancel:go,state:Tn,steps:Jm}=tx(typeof requestAnimationFrame<"u"?requestAnimationFrame:Tr,!0),nx=D.createContext({strict:!1}),zE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},zl={};for(const n in zE)zl[n]={isEnabled:e=>zE[n].some(t=>!!e[t])};function $M(n){for(const e in n)zl[e]={...zl[e],...n[e]}}const BM=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function nf(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||BM.has(n)}let rx=n=>!nf(n);function zM(n){n&&(rx=e=>e.startsWith("on")?!nf(e):n(e))}try{zM(require("@emotion/is-prop-valid").default)}catch{}function qM(n,e,t){const r={};for(const i in n)i==="values"&&typeof n.values=="object"||(rx(i)||t===!0&&nf(i)||!e&&!nf(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}function WM(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...r)=>n(...r);return new Proxy(t,{get:(r,i)=>i==="create"?n:(e.has(i)||e.set(i,n(i)),e.get(i))})}const Vf=D.createContext({});function xc(n){return typeof n=="string"||Array.isArray(n)}function jf(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const Xy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Yy=["initial",...Xy];function Ff(n){return jf(n.animate)||Yy.some(e=>xc(n[e]))}function ix(n){return!!(Ff(n)||n.variants)}function HM(n,e){if(Ff(n)){const{initial:t,animate:r}=n;return{initial:t===!1||xc(t)?t:void 0,animate:xc(r)?r:void 0}}return n.inherit!==!1?e:{}}function GM(n){const{initial:e,animate:t}=HM(n,D.useContext(Vf));return D.useMemo(()=>({initial:e,animate:t}),[qE(e),qE(t)])}function qE(n){return Array.isArray(n)?n.join(" "):n}const KM=Symbol.for("motionComponentSymbol");function Pl(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function QM(n,e,t){return D.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):Pl(t)&&(t.current=r))},[e])}const Zy=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),JM="framerAppearId",sx="data-"+Zy(JM),{schedule:ev}=tx(queueMicrotask,!1),ox=D.createContext({});function XM(n,e,t,r,i){var o,l;const{visualElement:u}=D.useContext(Vf),h=D.useContext(nx),f=D.useContext(Lf),m=D.useContext(Gy).reducedMotion,y=D.useRef(null);r=r||h.renderer,!y.current&&r&&(y.current=r(n,{visualState:e,parent:u,props:t,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m}));const v=y.current,T=D.useContext(ox);v&&!v.projection&&i&&(v.type==="html"||v.type==="svg")&&YM(y.current,t,i,T);const k=D.useRef(!1);D.useInsertionEffect(()=>{v&&k.current&&v.update(t,f)});const A=t[sx],P=D.useRef(!!A&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,A))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,A)));return Zb(()=>{v&&(k.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),ev.render(v.render),P.current&&v.animationState&&v.animationState.animateChanges())}),D.useEffect(()=>{v&&(!P.current&&v.animationState&&v.animationState.animateChanges(),P.current&&(queueMicrotask(()=>{var q;(q=window.MotionHandoffMarkAsComplete)===null||q===void 0||q.call(window,A)}),P.current=!1))}),v}function YM(n,e,t,r){const{layoutId:i,layout:o,drag:l,dragConstraints:u,layoutScroll:h,layoutRoot:f}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:ax(n.parent)),n.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!l||u&&Pl(u),visualElement:n,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,layoutScroll:h,layoutRoot:f})}function ax(n){if(n)return n.options.allowProjection!==!1?n.projection:ax(n.parent)}function ZM({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:i}){var o,l;n&&$M(n);function u(f,m){let y;const v={...D.useContext(Gy),...f,layoutId:eL(f)},{isStatic:T}=v,k=GM(f),A=r(f,T);if(!T&&Ky){tL();const P=nL(v);y=P.MeasureLayout,k.visualElement=XM(i,A,v,e,P.ProjectionNode)}return R.jsxs(Vf.Provider,{value:k,children:[y&&k.visualElement?R.jsx(y,{visualElement:k.visualElement,...v}):null,t(i,f,QM(A,k.visualElement,m),A,T,k.visualElement)]})}u.displayName=`motion.${typeof i=="string"?i:`create(${(l=(o=i.displayName)!==null&&o!==void 0?o:i.name)!==null&&l!==void 0?l:""})`}`;const h=D.forwardRef(u);return h[KM]=i,h}function eL({layoutId:n}){const e=D.useContext(Wy).id;return e&&n!==void 0?e+"-"+n:n}function tL(n,e){D.useContext(nx).strict}function nL(n){const{drag:e,layout:t}=zl;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const rL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function tv(n){return typeof n!="string"||n.includes("-")?!1:!!(rL.indexOf(n)>-1||/[A-Z]/u.test(n))}function WE(n){const e=[{},{}];return n==null||n.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function nv(n,e,t,r){if(typeof e=="function"){const[i,o]=WE(r);e=e(t!==void 0?t:n.custom,i,o)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[i,o]=WE(r);e=e(t!==void 0?t:n.custom,i,o)}return e}const qg=n=>Array.isArray(n),iL=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),sL=n=>qg(n)?n[n.length-1]||0:n,Vn=n=>!!(n&&n.getVelocity);function Md(n){const e=Vn(n)?n.get():n;return iL(e)?e.toValue():e}function oL({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},r,i,o){const l={latestValues:aL(r,i,o,n),renderState:e()};return t&&(l.onMount=u=>t({props:r,current:u,...l}),l.onUpdate=u=>t(u)),l}const lx=n=>(e,t)=>{const r=D.useContext(Vf),i=D.useContext(Lf),o=()=>oL(n,e,r,i);return t?o():Hy(o)};function aL(n,e,t,r){const i={},o=r(n,{});for(const v in o)i[v]=Md(o[v]);let{initial:l,animate:u}=n;const h=Ff(n),f=ix(n);e&&f&&!h&&n.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let m=t?t.initial===!1:!1;m=m||l===!1;const y=m?u:l;if(y&&typeof y!="boolean"&&!jf(y)){const v=Array.isArray(y)?y:[y];for(let T=0;T<v.length;T++){const k=nv(n,v[T]);if(k){const{transitionEnd:A,transition:P,...q}=k;for(const B in q){let U=q[B];if(Array.isArray(U)){const J=m?U.length-1:0;U=U[J]}U!==null&&(i[B]=U)}for(const B in A)i[B]=A[B]}}}return i}const iu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Pa=new Set(iu),ux=n=>e=>typeof e=="string"&&e.startsWith(n),cx=ux("--"),lL=ux("var(--"),rv=n=>lL(n)?uL.test(n.split("/*")[0].trim()):!1,uL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,hx=(n,e)=>e&&typeof n=="number"?e.transform(n):n,fs=(n,e,t)=>t>e?e:t<n?n:t,su={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},kc={...su,transform:n=>fs(0,1,n)},bd={...su,default:1},qc=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),eo=qc("deg"),ki=qc("%"),Le=qc("px"),cL=qc("vh"),hL=qc("vw"),HE={...ki,parse:n=>ki.parse(n)/100,transform:n=>ki.transform(n*100)},dL={borderWidth:Le,borderTopWidth:Le,borderRightWidth:Le,borderBottomWidth:Le,borderLeftWidth:Le,borderRadius:Le,radius:Le,borderTopLeftRadius:Le,borderTopRightRadius:Le,borderBottomRightRadius:Le,borderBottomLeftRadius:Le,width:Le,maxWidth:Le,height:Le,maxHeight:Le,top:Le,right:Le,bottom:Le,left:Le,padding:Le,paddingTop:Le,paddingRight:Le,paddingBottom:Le,paddingLeft:Le,margin:Le,marginTop:Le,marginRight:Le,marginBottom:Le,marginLeft:Le,backgroundPositionX:Le,backgroundPositionY:Le},fL={rotate:eo,rotateX:eo,rotateY:eo,rotateZ:eo,scale:bd,scaleX:bd,scaleY:bd,scaleZ:bd,skew:eo,skewX:eo,skewY:eo,distance:Le,translateX:Le,translateY:Le,translateZ:Le,x:Le,y:Le,z:Le,perspective:Le,transformPerspective:Le,opacity:kc,originX:HE,originY:HE,originZ:Le},GE={...su,transform:Math.round},iv={...dL,...fL,zIndex:GE,size:Le,fillOpacity:kc,strokeOpacity:kc,numOctaves:GE},pL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},mL=iu.length;function gL(n,e,t){let r="",i=!0;for(let o=0;o<mL;o++){const l=iu[o],u=n[l];if(u===void 0)continue;let h=!0;if(typeof u=="number"?h=u===(l.startsWith("scale")?1:0):h=parseFloat(u)===0,!h||t){const f=hx(u,iv[l]);if(!h){i=!1;const m=pL[l]||l;r+=`${m}(${f}) `}t&&(e[l]=f)}}return r=r.trim(),t?r=t(e,i?"":r):i&&(r="none"),r}function sv(n,e,t){const{style:r,vars:i,transformOrigin:o}=n;let l=!1,u=!1;for(const h in e){const f=e[h];if(Pa.has(h)){l=!0;continue}else if(cx(h)){i[h]=f;continue}else{const m=hx(f,iv[h]);h.startsWith("origin")?(u=!0,o[h]=m):r[h]=m}}if(e.transform||(l||t?r.transform=gL(e,n.transform,t):r.transform&&(r.transform="none")),u){const{originX:h="50%",originY:f="50%",originZ:m=0}=o;r.transformOrigin=`${h} ${f} ${m}`}}const yL={offset:"stroke-dashoffset",array:"stroke-dasharray"},vL={offset:"strokeDashoffset",array:"strokeDasharray"};function _L(n,e,t=1,r=0,i=!0){n.pathLength=1;const o=i?yL:vL;n[o.offset]=Le.transform(-r);const l=Le.transform(e),u=Le.transform(t);n[o.array]=`${l} ${u}`}function KE(n,e,t){return typeof n=="string"?n:Le.transform(e+t*n)}function wL(n,e,t){const r=KE(e,n.x,n.width),i=KE(t,n.y,n.height);return`${r} ${i}`}function ov(n,{attrX:e,attrY:t,attrScale:r,originX:i,originY:o,pathLength:l,pathSpacing:u=1,pathOffset:h=0,...f},m,y){if(sv(n,f,y),m){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:v,style:T,dimensions:k}=n;v.transform&&(k&&(T.transform=v.transform),delete v.transform),k&&(i!==void 0||o!==void 0||T.transform)&&(T.transformOrigin=wL(k,i!==void 0?i:.5,o!==void 0?o:.5)),e!==void 0&&(v.x=e),t!==void 0&&(v.y=t),r!==void 0&&(v.scale=r),l!==void 0&&_L(v,l,u,h,!1)}const av=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),dx=()=>({...av(),attrs:{}}),lv=n=>typeof n=="string"&&n.toLowerCase()==="svg";function fx(n,{style:e,vars:t},r,i){Object.assign(n.style,e,i&&i.getProjectionStyles(r));for(const o in t)n.style.setProperty(o,t[o])}const px=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function mx(n,e,t,r){fx(n,e,void 0,r);for(const i in e.attrs)n.setAttribute(px.has(i)?i:Zy(i),e.attrs[i])}const rf={};function EL(n){Object.assign(rf,n)}function gx(n,{layout:e,layoutId:t}){return Pa.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!rf[n]||n==="opacity")}function uv(n,e,t){var r;const{style:i}=n,o={};for(const l in i)(Vn(i[l])||e.style&&Vn(e.style[l])||gx(l,n)||((r=t==null?void 0:t.getValue(l))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(o[l]=i[l]);return o}function yx(n,e,t){const r=uv(n,e,t);for(const i in n)if(Vn(n[i])||Vn(e[i])){const o=iu.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=n[i]}return r}function TL(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const QE=["x","y","width","height","cx","cy","r"],SL={useVisualState:lx({scrapeMotionValuesFromProps:yx,createRenderState:dx,onUpdate:({props:n,prevProps:e,current:t,renderState:r,latestValues:i})=>{if(!t)return;let o=!!n.drag;if(!o){for(const u in i)if(Pa.has(u)){o=!0;break}}if(!o)return;let l=!e;if(e)for(let u=0;u<QE.length;u++){const h=QE[u];n[h]!==e[h]&&(l=!0)}l&&Rt.read(()=>{TL(t,r),Rt.render(()=>{ov(r,i,lv(t.tagName),n.transformTemplate),mx(t,r)})})}})},bL={useVisualState:lx({scrapeMotionValuesFromProps:uv,createRenderState:av})};function vx(n,e,t){for(const r in e)!Vn(e[r])&&!gx(r,t)&&(n[r]=e[r])}function xL({transformTemplate:n},e){return D.useMemo(()=>{const t=av();return sv(t,e,n),Object.assign({},t.vars,t.style)},[e])}function kL(n,e){const t=n.style||{},r={};return vx(r,t,n),Object.assign(r,xL(n,e)),r}function IL(n,e){const t={},r=kL(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}function AL(n,e,t,r){const i=D.useMemo(()=>{const o=dx();return ov(o,e,lv(r),n.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(n.style){const o={};vx(o,n.style,n),i.style={...o,...i.style}}return i}function PL(n=!1){return(t,r,i,{latestValues:o},l)=>{const h=(tv(t)?AL:IL)(r,o,l,t),f=qM(r,typeof t=="string",n),m=t!==D.Fragment?{...f,...h,ref:i}:{},{children:y}=r,v=D.useMemo(()=>Vn(y)?y.get():y,[y]);return D.createElement(t,{...m,children:v})}}function RL(n,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const l={...tv(r)?SL:bL,preloadedFeatures:n,useRender:PL(i),createVisualElement:e,Component:r};return ZM(l)}}function _x(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}function Uf(n,e,t){const r=n.getProps();return nv(r,e,t!==void 0?t:r.custom,n)}const CL=Jy(()=>window.ScrollTimeline!==void 0);class DL{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=t}attachTimeline(e,t){const r=this.animations.map(i=>{if(CL()&&i.attachTimeline)return i.attachTimeline(e);if(typeof t=="function")return t(i)});return()=>{r.forEach((i,o)=>{i&&i(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class OL extends DL{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function cv(n,e){return n?n[e]||n.default||n:void 0}const Wg=2e4;function wx(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<Wg;)e+=t,r=n.next(e);return e>=Wg?1/0:e}function hv(n){return typeof n=="function"}function JE(n,e){n.timeline=e,n.onfinish=null}const dv=n=>Array.isArray(n)&&typeof n[0]=="number",NL={linearEasing:void 0};function ML(n,e){const t=Jy(n);return()=>{var r;return(r=NL[e])!==null&&r!==void 0?r:t()}}const sf=ML(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ex=(n,e,t=10)=>{let r="";const i=Math.max(Math.round(e/t),2);for(let o=0;o<i;o++)r+=n(Bl(0,i-1,o))+", ";return`linear(${r.substring(0,r.length-2)})`};function Tx(n){return!!(typeof n=="function"&&sf()||!n||typeof n=="string"&&(n in Hg||sf())||dv(n)||Array.isArray(n)&&n.every(Tx))}const ec=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,Hg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ec([0,.65,.55,1]),circOut:ec([.55,0,1,.45]),backIn:ec([.31,.01,.66,-.59]),backOut:ec([.33,1.53,.69,.99])};function Sx(n,e){if(n)return typeof n=="function"&&sf()?Ex(n,e):dv(n)?ec(n):Array.isArray(n)?n.map(t=>Sx(t,e)||Hg.easeOut):Hg[n]}const ni={x:!1,y:!1};function bx(){return ni.x||ni.y}function LL(n,e,t){var r;if(n instanceof Element)return[n];if(typeof n=="string"){let i=document;const o=(r=t==null?void 0:t[n])!==null&&r!==void 0?r:i.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n)}function xx(n,e){const t=LL(n),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[t,i,()=>r.abort()]}function XE(n){return e=>{e.pointerType==="touch"||bx()||n(e)}}function VL(n,e,t={}){const[r,i,o]=xx(n,t),l=XE(u=>{const{target:h}=u,f=e(u);if(typeof f!="function"||!h)return;const m=XE(y=>{f(y),h.removeEventListener("pointerleave",m)});h.addEventListener("pointerleave",m,i)});return r.forEach(u=>{u.addEventListener("pointerenter",l,i)}),o}const kx=(n,e)=>e?n===e?!0:kx(n,e.parentElement):!1,fv=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,jL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function FL(n){return jL.has(n.tagName)||n.tabIndex!==-1}const tc=new WeakSet;function YE(n){return e=>{e.key==="Enter"&&n(e)}}function Xm(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const UL=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=YE(()=>{if(tc.has(t))return;Xm(t,"down");const i=YE(()=>{Xm(t,"up")}),o=()=>Xm(t,"cancel");t.addEventListener("keyup",i,e),t.addEventListener("blur",o,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function ZE(n){return fv(n)&&!bx()}function $L(n,e,t={}){const[r,i,o]=xx(n,t),l=u=>{const h=u.currentTarget;if(!ZE(u)||tc.has(h))return;tc.add(h);const f=e(u),m=(T,k)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",v),!(!ZE(T)||!tc.has(h))&&(tc.delete(h),typeof f=="function"&&f(T,{success:k}))},y=T=>{m(T,t.useGlobalTarget||kx(h,T.target))},v=T=>{m(T,!1)};window.addEventListener("pointerup",y,i),window.addEventListener("pointercancel",v,i)};return r.forEach(u=>{!FL(u)&&u.getAttribute("tabindex")===null&&(u.tabIndex=0),(t.useGlobalTarget?window:u).addEventListener("pointerdown",l,i),u.addEventListener("focus",f=>UL(f,i),i)}),o}function BL(n){return n==="x"||n==="y"?ni[n]?null:(ni[n]=!0,()=>{ni[n]=!1}):ni.x||ni.y?null:(ni.x=ni.y=!0,()=>{ni.x=ni.y=!1})}const Ix=new Set(["width","height","top","left","right","bottom",...iu]);let Ld;function zL(){Ld=void 0}const Ii={now:()=>(Ld===void 0&&Ii.set(Tn.isProcessing||jM.useManualTiming?Tn.timestamp:performance.now()),Ld),set:n=>{Ld=n,queueMicrotask(zL)}};function pv(n,e){n.indexOf(e)===-1&&n.push(e)}function mv(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class gv{constructor(){this.subscriptions=[]}add(e){return pv(this.subscriptions,e),()=>mv(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let o=0;o<i;o++){const l=this.subscriptions[o];l&&l(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Ax(n,e){return e?n*(1e3/e):0}const eT=30,qL=n=>!isNaN(parseFloat(n)),tT={current:void 0};class WL{constructor(e,t={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const o=Ii.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Ii.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=qL(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new gv);const r=this.events[e].add(t);return e==="change"?()=>{r(),Rt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return tT.current&&tT.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Ii.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>eT)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,eT);return Ax(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ic(n,e){return new WL(n,e)}function HL(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Ic(t))}function GL(n,e){const t=Uf(n,e);let{transitionEnd:r={},transition:i={},...o}=t||{};o={...o,...r};for(const l in o){const u=sL(o[l]);HL(n,l,u)}}function KL(n){return!!(Vn(n)&&n.add)}function Gg(n,e){const t=n.getValue("willChange");if(KL(t))return t.add(e)}function Px(n){return n.props[sx]}const Rx=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,QL=1e-7,JL=12;function XL(n,e,t,r,i){let o,l,u=0;do l=e+(t-e)/2,o=Rx(l,r,i)-n,o>0?t=l:e=l;while(Math.abs(o)>QL&&++u<JL);return l}function Wc(n,e,t,r){if(n===e&&t===r)return Tr;const i=o=>XL(o,0,1,n,t);return o=>o===0||o===1?o:Rx(i(o),e,r)}const Cx=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,Dx=n=>e=>1-n(1-e),Ox=Wc(.33,1.53,.69,.99),yv=Dx(Ox),Nx=Cx(yv),Mx=n=>(n*=2)<1?.5*yv(n):.5*(2-Math.pow(2,-10*(n-1))),vv=n=>1-Math.sin(Math.acos(n)),Lx=Dx(vv),Vx=Cx(vv),jx=n=>/^0[^.\s]+$/u.test(n);function YL(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||jx(n):!0}const dc=n=>Math.round(n*1e5)/1e5,_v=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ZL(n){return n==null}const eV=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,wv=(n,e)=>t=>!!(typeof t=="string"&&eV.test(t)&&t.startsWith(n)||e&&!ZL(t)&&Object.prototype.hasOwnProperty.call(t,e)),Fx=(n,e,t)=>r=>{if(typeof r!="string")return r;const[i,o,l,u]=r.match(_v);return{[n]:parseFloat(i),[e]:parseFloat(o),[t]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},tV=n=>fs(0,255,n),Ym={...su,transform:n=>Math.round(tV(n))},fa={test:wv("rgb","red"),parse:Fx("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+Ym.transform(n)+", "+Ym.transform(e)+", "+Ym.transform(t)+", "+dc(kc.transform(r))+")"};function nV(n){let e="",t="",r="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Kg={test:wv("#"),parse:nV,transform:fa.transform},Rl={test:wv("hsl","hue"),parse:Fx("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+ki.transform(dc(e))+", "+ki.transform(dc(t))+", "+dc(kc.transform(r))+")"},Nn={test:n=>fa.test(n)||Kg.test(n)||Rl.test(n),parse:n=>fa.test(n)?fa.parse(n):Rl.test(n)?Rl.parse(n):Kg.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?fa.transform(n):Rl.transform(n)},rV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function iV(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(_v))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(rV))===null||t===void 0?void 0:t.length)||0)>0}const Ux="number",$x="color",sV="var",oV="var(",nT="${}",aV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ac(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},i=[];let o=0;const u=e.replace(aV,h=>(Nn.test(h)?(r.color.push(o),i.push($x),t.push(Nn.parse(h))):h.startsWith(oV)?(r.var.push(o),i.push(sV),t.push(h)):(r.number.push(o),i.push(Ux),t.push(parseFloat(h))),++o,nT)).split(nT);return{values:t,split:u,indexes:r,types:i}}function Bx(n){return Ac(n).values}function zx(n){const{split:e,types:t}=Ac(n),r=e.length;return i=>{let o="";for(let l=0;l<r;l++)if(o+=e[l],i[l]!==void 0){const u=t[l];u===Ux?o+=dc(i[l]):u===$x?o+=Nn.transform(i[l]):o+=i[l]}return o}}const lV=n=>typeof n=="number"?0:n;function uV(n){const e=Bx(n);return zx(n)(e.map(lV))}const yo={test:iV,parse:Bx,createTransformer:zx,getAnimatableNone:uV},cV=new Set(["brightness","contrast","saturate","opacity"]);function hV(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(_v)||[];if(!r)return n;const i=t.replace(r,"");let o=cV.has(e)?1:0;return r!==t&&(o*=100),e+"("+o+i+")"}const dV=/\b([a-z-]*)\(.*?\)/gu,Qg={...yo,getAnimatableNone:n=>{const e=n.match(dV);return e?e.map(hV).join(" "):n}},fV={...iv,color:Nn,backgroundColor:Nn,outlineColor:Nn,fill:Nn,stroke:Nn,borderColor:Nn,borderTopColor:Nn,borderRightColor:Nn,borderBottomColor:Nn,borderLeftColor:Nn,filter:Qg,WebkitFilter:Qg},Ev=n=>fV[n];function qx(n,e){let t=Ev(n);return t!==Qg&&(t=yo),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const pV=new Set(["auto","none","0"]);function mV(n,e,t){let r=0,i;for(;r<n.length&&!i;){const o=n[r];typeof o=="string"&&!pV.has(o)&&Ac(o).values.length&&(i=n[r]),r++}if(i&&t)for(const o of e)n[o]=qx(t,i)}const rT=n=>n===su||n===Le,iT=(n,e)=>parseFloat(n.split(", ")[e]),sT=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return iT(i[1],e);{const o=r.match(/^matrix\((.+)\)$/u);return o?iT(o[1],n):0}},gV=new Set(["x","y","z"]),yV=iu.filter(n=>!gV.has(n));function vV(n){const e=[];return yV.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const ql={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:sT(4,13),y:sT(5,14)};ql.translateX=ql.x;ql.translateY=ql.y;const ga=new Set;let Jg=!1,Xg=!1;function Wx(){if(Xg){const n=Array.from(ga).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const i=vV(r);i.length&&(t.set(r,i),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=t.get(r);i&&i.forEach(([o,l])=>{var u;(u=r.getValue(o))===null||u===void 0||u.set(l)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Xg=!1,Jg=!1,ga.forEach(n=>n.complete()),ga.clear()}function Hx(){ga.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Xg=!0)})}function _V(){Hx(),Wx()}class Tv{constructor(e,t,r,i,o,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=i,this.element=o,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ga.add(this),Jg||(Jg=!0,Rt.read(Hx),Rt.resolveKeyframes(Wx))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:i}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const l=i==null?void 0:i.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&t){const h=r.readValue(t,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),i&&l===void 0&&i.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ga.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ga.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Gx=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),wV=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function EV(n){const e=wV.exec(n);if(!e)return[,];const[,t,r,i]=e;return[`--${t??r}`,i]}function Kx(n,e,t=1){const[r,i]=EV(n);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const l=o.trim();return Gx(l)?parseFloat(l):l}return rv(i)?Kx(i,e,t+1):i}const Qx=n=>e=>e.test(n),TV={test:n=>n==="auto",parse:n=>n},Jx=[su,Le,ki,eo,hL,cL,TV],oT=n=>Jx.find(Qx(n));class Xx extends Tv{constructor(e,t,r,i,o){super(e,t,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let f=e[h];if(typeof f=="string"&&(f=f.trim(),rv(f))){const m=Kx(f,t.current);m!==void 0&&(e[h]=m),h===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!Ix.has(r)||e.length!==2)return;const[i,o]=e,l=oT(i),u=oT(o);if(l!==u)if(rT(l)&&rT(u))for(let h=0;h<e.length;h++){const f=e[h];typeof f=="string"&&(e[h]=parseFloat(f))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let i=0;i<e.length;i++)YL(e[i])&&r.push(i);r.length&&mV(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ql[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:t,name:r,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const o=t.getValue(r);o&&o.jump(this.measuredOrigin,!1);const l=i.length-1,u=i[l];i[l]=ql[r](t.measureViewportBox(),window.getComputedStyle(t.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([h,f])=>{t.getValue(h).set(f)}),this.resolveNoneKeyframes()}}const aT=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(yo.test(n)||n==="0")&&!n.startsWith("url("));function SV(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function bV(n,e,t,r){const i=n[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const o=n[n.length-1],l=aT(i,e),u=aT(o,e);return!l||!u?!1:SV(n)||(t==="spring"||hv(t))&&r}const xV=n=>n!==null;function $f(n,{repeat:e,repeatType:t="loop"},r){const i=n.filter(xV),o=e&&t!=="loop"&&e%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}const kV=40;class Yx{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l="loop",...u}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ii.now(),this.options={autoplay:e,delay:t,type:r,repeat:i,repeatDelay:o,repeatType:l,...u},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>kV?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&_V(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=Ii.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:o,delay:l,onComplete:u,onUpdate:h,isGenerator:f}=this.options;if(!f&&!bV(e,r,i,o))if(l)this.options.duration=0;else{h&&h($f(e,this.options,t)),u&&u(),this.resolveFinishedPromise();return}const m=this.initPlayback(e,t);m!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...m},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Ft=(n,e,t)=>n+(e-n)*t;function Zm(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function IV({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,o=0,l=0;if(!e)i=o=l=t;else{const u=t<.5?t*(1+e):t+e-t*e,h=2*t-u;i=Zm(h,u,n+1/3),o=Zm(h,u,n),l=Zm(h,u,n-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:r}}function of(n,e){return t=>t>0?e:n}const eg=(n,e,t)=>{const r=n*n,i=t*(e*e-r)+r;return i<0?0:Math.sqrt(i)},AV=[Kg,fa,Rl],PV=n=>AV.find(e=>e.test(n));function lT(n){const e=PV(n);if(!e)return!1;let t=e.parse(n);return e===Rl&&(t=IV(t)),t}const uT=(n,e)=>{const t=lT(n),r=lT(e);if(!t||!r)return of(n,e);const i={...t};return o=>(i.red=eg(t.red,r.red,o),i.green=eg(t.green,r.green,o),i.blue=eg(t.blue,r.blue,o),i.alpha=Ft(t.alpha,r.alpha,o),fa.transform(i))},RV=(n,e)=>t=>e(n(t)),Hc=(...n)=>n.reduce(RV),Yg=new Set(["none","hidden"]);function CV(n,e){return Yg.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function DV(n,e){return t=>Ft(n,e,t)}function Sv(n){return typeof n=="number"?DV:typeof n=="string"?rv(n)?of:Nn.test(n)?uT:MV:Array.isArray(n)?Zx:typeof n=="object"?Nn.test(n)?uT:OV:of}function Zx(n,e){const t=[...n],r=t.length,i=n.map((o,l)=>Sv(o)(o,e[l]));return o=>{for(let l=0;l<r;l++)t[l]=i[l](o);return t}}function OV(n,e){const t={...n,...e},r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=Sv(n[i])(n[i],e[i]));return i=>{for(const o in r)t[o]=r[o](i);return t}}function NV(n,e){var t;const r=[],i={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const l=e.types[o],u=n.indexes[l][i[l]],h=(t=n.values[u])!==null&&t!==void 0?t:0;r[o]=h,i[l]++}return r}const MV=(n,e)=>{const t=yo.createTransformer(e),r=Ac(n),i=Ac(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Yg.has(n)&&!i.values.length||Yg.has(e)&&!r.values.length?CV(n,e):Hc(Zx(NV(r,i),i.values),t):of(n,e)};function ek(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?Ft(n,e,t):Sv(n)(n,e)}const LV=5;function tk(n,e,t){const r=Math.max(e-LV,0);return Ax(t-n(r),e-r)}const Wt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},tg=.001;function VV({duration:n=Wt.duration,bounce:e=Wt.bounce,velocity:t=Wt.velocity,mass:r=Wt.mass}){let i,o,l=1-e;l=fs(Wt.minDamping,Wt.maxDamping,l),n=fs(Wt.minDuration,Wt.maxDuration,us(n)),l<1?(i=f=>{const m=f*l,y=m*n,v=m-t,T=Zg(f,l),k=Math.exp(-y);return tg-v/T*k},o=f=>{const y=f*l*n,v=y*t+t,T=Math.pow(l,2)*Math.pow(f,2)*n,k=Math.exp(-y),A=Zg(Math.pow(f,2),l);return(-i(f)+tg>0?-1:1)*((v-T)*k)/A}):(i=f=>{const m=Math.exp(-f*n),y=(f-t)*n+1;return-tg+m*y},o=f=>{const m=Math.exp(-f*n),y=(t-f)*(n*n);return m*y});const u=5/n,h=FV(i,o,u);if(n=ls(n),isNaN(h))return{stiffness:Wt.stiffness,damping:Wt.damping,duration:n};{const f=Math.pow(h,2)*r;return{stiffness:f,damping:l*2*Math.sqrt(r*f),duration:n}}}const jV=12;function FV(n,e,t){let r=t;for(let i=1;i<jV;i++)r=r-n(r)/e(r);return r}function Zg(n,e){return n*Math.sqrt(1-e*e)}const UV=["duration","bounce"],$V=["stiffness","damping","mass"];function cT(n,e){return e.some(t=>n[t]!==void 0)}function BV(n){let e={velocity:Wt.velocity,stiffness:Wt.stiffness,damping:Wt.damping,mass:Wt.mass,isResolvedFromDuration:!1,...n};if(!cT(n,$V)&&cT(n,UV))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),i=r*r,o=2*fs(.05,1,1-(n.bounce||0))*Math.sqrt(i);e={...e,mass:Wt.mass,stiffness:i,damping:o}}else{const t=VV(n);e={...e,...t,mass:Wt.mass},e.isResolvedFromDuration=!0}return e}function nk(n=Wt.visualDuration,e=Wt.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:i}=t;const o=t.keyframes[0],l=t.keyframes[t.keyframes.length-1],u={done:!1,value:o},{stiffness:h,damping:f,mass:m,duration:y,velocity:v,isResolvedFromDuration:T}=BV({...t,velocity:-us(t.velocity||0)}),k=v||0,A=f/(2*Math.sqrt(h*m)),P=l-o,q=us(Math.sqrt(h/m)),B=Math.abs(P)<5;r||(r=B?Wt.restSpeed.granular:Wt.restSpeed.default),i||(i=B?Wt.restDelta.granular:Wt.restDelta.default);let U;if(A<1){const Z=Zg(q,A);U=ne=>{const x=Math.exp(-A*q*ne);return l-x*((k+A*q*P)/Z*Math.sin(Z*ne)+P*Math.cos(Z*ne))}}else if(A===1)U=Z=>l-Math.exp(-q*Z)*(P+(k+q*P)*Z);else{const Z=q*Math.sqrt(A*A-1);U=ne=>{const x=Math.exp(-A*q*ne),b=Math.min(Z*ne,300);return l-x*((k+A*q*P)*Math.sinh(b)+Z*P*Math.cosh(b))/Z}}const J={calculatedDuration:T&&y||null,next:Z=>{const ne=U(Z);if(T)u.done=Z>=y;else{let x=0;A<1&&(x=Z===0?ls(k):tk(U,Z,ne));const b=Math.abs(x)<=r,C=Math.abs(l-ne)<=i;u.done=b&&C}return u.value=u.done?l:ne,u},toString:()=>{const Z=Math.min(wx(J),Wg),ne=Ex(x=>J.next(Z*x).value,Z,30);return Z+"ms "+ne}};return J}function hT({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:l,min:u,max:h,restDelta:f=.5,restSpeed:m}){const y=n[0],v={done:!1,value:y},T=b=>u!==void 0&&b<u||h!==void 0&&b>h,k=b=>u===void 0?h:h===void 0||Math.abs(u-b)<Math.abs(h-b)?u:h;let A=t*e;const P=y+A,q=l===void 0?P:l(P);q!==P&&(A=q-y);const B=b=>-A*Math.exp(-b/r),U=b=>q+B(b),J=b=>{const C=B(b),O=U(b);v.done=Math.abs(C)<=f,v.value=v.done?q:O};let Z,ne;const x=b=>{T(v.value)&&(Z=b,ne=nk({keyframes:[v.value,k(v.value)],velocity:tk(U,b,v.value),damping:i,stiffness:o,restDelta:f,restSpeed:m}))};return x(0),{calculatedDuration:null,next:b=>{let C=!1;return!ne&&Z===void 0&&(C=!0,J(b),x(b)),Z!==void 0&&b>=Z?ne.next(b-Z):(!C&&J(b),v)}}}const zV=Wc(.42,0,1,1),qV=Wc(0,0,.58,1),rk=Wc(.42,0,.58,1),WV=n=>Array.isArray(n)&&typeof n[0]!="number",HV={linear:Tr,easeIn:zV,easeInOut:rk,easeOut:qV,circIn:vv,circInOut:Vx,circOut:Lx,backIn:yv,backInOut:Nx,backOut:Ox,anticipate:Mx},dT=n=>{if(dv(n)){ex(n.length===4);const[e,t,r,i]=n;return Wc(e,t,r,i)}else if(typeof n=="string")return HV[n];return n};function GV(n,e,t){const r=[],i=t||ek,o=n.length-1;for(let l=0;l<o;l++){let u=i(n[l],n[l+1]);if(e){const h=Array.isArray(e)?e[l]||Tr:e;u=Hc(h,u)}r.push(u)}return r}function KV(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const o=n.length;if(ex(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const l=n[0]===n[1];n[0]>n[o-1]&&(n=[...n].reverse(),e=[...e].reverse());const u=GV(e,r,i),h=u.length,f=m=>{if(l&&m<n[0])return e[0];let y=0;if(h>1)for(;y<n.length-2&&!(m<n[y+1]);y++);const v=Bl(n[y],n[y+1],m);return u[y](v)};return t?m=>f(fs(n[0],n[o-1],m)):f}function QV(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const i=Bl(0,e,r);n.push(Ft(t,1,i))}}function JV(n){const e=[0];return QV(e,n.length-1),e}function XV(n,e){return n.map(t=>t*e)}function YV(n,e){return n.map(()=>e||rk).splice(0,n.length-1)}function af({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const i=WV(r)?r.map(dT):dT(r),o={done:!1,value:e[0]},l=XV(t&&t.length===e.length?t:JV(e),n),u=KV(l,e,{ease:Array.isArray(i)?i:YV(e,i)});return{calculatedDuration:n,next:h=>(o.value=u(h),o.done=h>=n,o)}}const ZV=n=>{const e=({timestamp:t})=>n(t);return{start:()=>Rt.update(e,!0),stop:()=>go(e),now:()=>Tn.isProcessing?Tn.timestamp:Ii.now()}},ej={decay:hT,inertia:hT,tween:af,keyframes:af,spring:nk},tj=n=>n/100;class bv extends Yx{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:h}=this.options;h&&h()};const{name:t,motionValue:r,element:i,keyframes:o}=this.options,l=(i==null?void 0:i.KeyframeResolver)||Tv,u=(h,f)=>this.onKeyframesResolved(h,f);this.resolver=new l(o,u,t,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:l=0}=this.options,u=hv(t)?t:ej[t]||af;let h,f;u!==af&&typeof e[0]!="number"&&(h=Hc(tj,ek(e[0],e[1])),e=[0,100]);const m=u({...this.options,keyframes:e});o==="mirror"&&(f=u({...this.options,keyframes:[...e].reverse(),velocity:-l})),m.calculatedDuration===null&&(m.calculatedDuration=wx(m));const{calculatedDuration:y}=m,v=y+i,T=v*(r+1)-i;return{generator:m,mirroredGenerator:f,mapPercentToKeyframes:h,calculatedDuration:y,resolvedDuration:v,totalDuration:T}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:r}=this;if(!r){const{keyframes:b}=this.options;return{done:!0,value:b[b.length-1]}}const{finalKeyframe:i,generator:o,mirroredGenerator:l,mapPercentToKeyframes:u,keyframes:h,calculatedDuration:f,totalDuration:m,resolvedDuration:y}=r;if(this.startTime===null)return o.next(0);const{delay:v,repeat:T,repeatType:k,repeatDelay:A,onUpdate:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-m/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const q=this.currentTime-v*(this.speed>=0?1:-1),B=this.speed>=0?q<0:q>m;this.currentTime=Math.max(q,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=m);let U=this.currentTime,J=o;if(T){const b=Math.min(this.currentTime,m)/y;let C=Math.floor(b),O=b%1;!O&&b>=1&&(O=1),O===1&&C--,C=Math.min(C,T+1),!!(C%2)&&(k==="reverse"?(O=1-O,A&&(O-=A/y)):k==="mirror"&&(J=l)),U=fs(0,1,O)*y}const Z=B?{done:!1,value:h[0]}:J.next(U);u&&(Z.value=u(Z.value));let{done:ne}=Z;!B&&f!==null&&(ne=this.speed>=0?this.currentTime>=m:this.currentTime<=0);const x=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ne);return x&&i!==void 0&&(Z.value=$f(h,this.options,i)),P&&P(Z.value),x&&this.finish(),Z}get duration(){const{resolved:e}=this;return e?us(e.calculatedDuration):0}get time(){return us(this.currentTime)}set time(e){e=ls(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=us(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=ZV,onPlay:t,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),t&&t();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const nj=new Set(["opacity","clipPath","filter","transform"]);function rj(n,e,t,{delay:r=0,duration:i=300,repeat:o=0,repeatType:l="loop",ease:u="easeInOut",times:h}={}){const f={[e]:t};h&&(f.offset=h);const m=Sx(u,i);return Array.isArray(m)&&(f.easing=m),n.animate(f,{delay:r,duration:i,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"})}const ij=Jy(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),lf=10,sj=2e4;function oj(n){return hv(n.type)||n.type==="spring"||!Tx(n.ease)}function aj(n,e){const t=new bv({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:n[0]};const i=[];let o=0;for(;!r.done&&o<sj;)r=t.sample(o),i.push(r.value),o+=lf;return{times:void 0,keyframes:i,duration:o-lf,ease:"linear"}}const ik={anticipate:Mx,backInOut:Nx,circInOut:Vx};function lj(n){return n in ik}class fT extends Yx{constructor(e){super(e);const{name:t,motionValue:r,element:i,keyframes:o}=this.options;this.resolver=new Xx(o,(l,u)=>this.onKeyframesResolved(l,u),t,r,i),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:r=300,times:i,ease:o,type:l,motionValue:u,name:h,startTime:f}=this.options;if(!u.owner||!u.owner.current)return!1;if(typeof o=="string"&&sf()&&lj(o)&&(o=ik[o]),oj(this.options)){const{onComplete:y,onUpdate:v,motionValue:T,element:k,...A}=this.options,P=aj(e,A);e=P.keyframes,e.length===1&&(e[1]=e[0]),r=P.duration,i=P.times,o=P.ease,l="keyframes"}const m=rj(u.owner.current,h,e,{...this.options,duration:r,times:i,ease:o});return m.startTime=f??this.calcStartTime(),this.pendingTimeline?(JE(m,this.pendingTimeline),this.pendingTimeline=void 0):m.onfinish=()=>{const{onComplete:y}=this.options;u.set($f(e,this.options,t)),y&&y(),this.cancel(),this.resolveFinishedPromise()},{animation:m,duration:r,times:i,type:l,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return us(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return us(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.currentTime=ls(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return Tr;const{animation:r}=t;JE(r,e)}return Tr}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:r,duration:i,type:o,ease:l,times:u}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:f,onUpdate:m,onComplete:y,element:v,...T}=this.options,k=new bv({...T,keyframes:r,duration:i,type:o,ease:l,times:u,isGenerator:!0}),A=ls(this.time);f.setWithVelocity(k.sample(A-lf).value,k.sample(A).value,lf)}const{onStop:h}=this.options;h&&h(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:r,repeatDelay:i,repeatType:o,damping:l,type:u}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:f}=t.owner.getProps();return ij()&&r&&nj.has(r)&&!h&&!f&&!i&&o!=="mirror"&&l!==0&&u!=="inertia"}}const uj={type:"spring",stiffness:500,damping:25,restSpeed:10},cj=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),hj={type:"keyframes",duration:.8},dj={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},fj=(n,{keyframes:e})=>e.length>2?hj:Pa.has(n)?n.startsWith("scale")?cj(e[1]):uj:dj;function pj({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:l,repeatDelay:u,from:h,elapsed:f,...m}){return!!Object.keys(m).length}const xv=(n,e,t,r={},i,o)=>l=>{const u=cv(r,n)||{},h=u.delay||r.delay||0;let{elapsed:f=0}=r;f=f-ls(h);let m={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-f,onUpdate:v=>{e.set(v),u.onUpdate&&u.onUpdate(v)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:n,motionValue:e,element:o?void 0:i};pj(u)||(m={...m,...fj(n,m)}),m.duration&&(m.duration=ls(m.duration)),m.repeatDelay&&(m.repeatDelay=ls(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let y=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(y=!0)),y&&!o&&e.get()!==void 0){const v=$f(m.keyframes,u);if(v!==void 0)return Rt.update(()=>{m.onUpdate(v),m.onComplete()}),new OL([])}return!o&&fT.supports(m)?new fT(m):new bv(m)};function mj({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function sk(n,e,{delay:t=0,transitionOverride:r,type:i}={}){var o;let{transition:l=n.getDefaultTransition(),transitionEnd:u,...h}=e;r&&(l=r);const f=[],m=i&&n.animationState&&n.animationState.getState()[i];for(const y in h){const v=n.getValue(y,(o=n.latestValues[y])!==null&&o!==void 0?o:null),T=h[y];if(T===void 0||m&&mj(m,y))continue;const k={delay:t,...cv(l||{},y)};let A=!1;if(window.MotionHandoffAnimation){const q=Px(n);if(q){const B=window.MotionHandoffAnimation(q,y,Rt);B!==null&&(k.startTime=B,A=!0)}}Gg(n,y),v.start(xv(y,v,T,n.shouldReduceMotion&&Ix.has(y)?{type:!1}:k,n,A));const P=v.animation;P&&f.push(P)}return u&&Promise.all(f).then(()=>{Rt.update(()=>{u&&GL(n,u)})}),f}function ey(n,e,t={}){var r;const i=Uf(n,e,t.type==="exit"?(r=n.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(o=t.transitionOverride);const l=i?()=>Promise.all(sk(n,i,t)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(f=0)=>{const{delayChildren:m=0,staggerChildren:y,staggerDirection:v}=o;return gj(n,e,m+f,y,v,t)}:()=>Promise.resolve(),{when:h}=o;if(h){const[f,m]=h==="beforeChildren"?[l,u]:[u,l];return f().then(()=>m())}else return Promise.all([l(),u(t.delay)])}function gj(n,e,t=0,r=0,i=1,o){const l=[],u=(n.variantChildren.size-1)*r,h=i===1?(f=0)=>f*r:(f=0)=>u-f*r;return Array.from(n.variantChildren).sort(yj).forEach((f,m)=>{f.notify("AnimationStart",e),l.push(ey(f,e,{...o,delay:t+h(m)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(l)}function yj(n,e){return n.sortNodePosition(e)}function vj(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>ey(n,o,t));r=Promise.all(i)}else if(typeof e=="string")r=ey(n,e,t);else{const i=typeof e=="function"?Uf(n,e,t.custom):e;r=Promise.all(sk(n,i,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}const _j=Yy.length;function ok(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?ok(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<_j;t++){const r=Yy[t],i=n.props[r];(xc(i)||i===!1)&&(e[r]=i)}return e}const wj=[...Xy].reverse(),Ej=Xy.length;function Tj(n){return e=>Promise.all(e.map(({animation:t,options:r})=>vj(n,t,r)))}function Sj(n){let e=Tj(n),t=pT(),r=!0;const i=h=>(f,m)=>{var y;const v=Uf(n,m,h==="exit"?(y=n.presenceContext)===null||y===void 0?void 0:y.custom:void 0);if(v){const{transition:T,transitionEnd:k,...A}=v;f={...f,...A,...k}}return f};function o(h){e=h(n)}function l(h){const{props:f}=n,m=ok(n.parent)||{},y=[],v=new Set;let T={},k=1/0;for(let P=0;P<Ej;P++){const q=wj[P],B=t[q],U=f[q]!==void 0?f[q]:m[q],J=xc(U),Z=q===h?B.isActive:null;Z===!1&&(k=P);let ne=U===m[q]&&U!==f[q]&&J;if(ne&&r&&n.manuallyAnimateOnMount&&(ne=!1),B.protectedKeys={...T},!B.isActive&&Z===null||!U&&!B.prevProp||jf(U)||typeof U=="boolean")continue;const x=bj(B.prevProp,U);let b=x||q===h&&B.isActive&&!ne&&J||P>k&&J,C=!1;const O=Array.isArray(U)?U:[U];let j=O.reduce(i(q),{});Z===!1&&(j={});const{prevResolvedValues:$={}}=B,M={...$,...j},He=Ce=>{b=!0,v.has(Ce)&&(C=!0,v.delete(Ce)),B.needsAnimating[Ce]=!0;const Q=n.getValue(Ce);Q&&(Q.liveStyle=!1)};for(const Ce in M){const Q=j[Ce],Se=$[Ce];if(T.hasOwnProperty(Ce))continue;let L=!1;qg(Q)&&qg(Se)?L=!_x(Q,Se):L=Q!==Se,L?Q!=null?He(Ce):v.add(Ce):Q!==void 0&&v.has(Ce)?He(Ce):B.protectedKeys[Ce]=!0}B.prevProp=U,B.prevResolvedValues=j,B.isActive&&(T={...T,...j}),r&&n.blockInitialAnimation&&(b=!1),b&&(!(ne&&x)||C)&&y.push(...O.map(Ce=>({animation:Ce,options:{type:q}})))}if(v.size){const P={};v.forEach(q=>{const B=n.getBaseTarget(q),U=n.getValue(q);U&&(U.liveStyle=!0),P[q]=B??null}),y.push({animation:P})}let A=!!y.length;return r&&(f.initial===!1||f.initial===f.animate)&&!n.manuallyAnimateOnMount&&(A=!1),r=!1,A?e(y):Promise.resolve()}function u(h,f){var m;if(t[h].isActive===f)return Promise.resolve();(m=n.variantChildren)===null||m===void 0||m.forEach(v=>{var T;return(T=v.animationState)===null||T===void 0?void 0:T.setActive(h,f)}),t[h].isActive=f;const y=l(h);for(const v in t)t[v].protectedKeys={};return y}return{animateChanges:l,setActive:u,setAnimateFunction:o,getState:()=>t,reset:()=>{t=pT(),r=!0}}}function bj(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!_x(e,n):!1}function ra(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function pT(){return{animate:ra(!0),whileInView:ra(),whileHover:ra(),whileTap:ra(),whileDrag:ra(),whileFocus:ra(),exit:ra()}}class Ao{constructor(e){this.isMounted=!1,this.node=e}update(){}}class xj extends Ao{constructor(e){super(e),e.animationState||(e.animationState=Sj(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();jf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let kj=0;class Ij extends Ao{constructor(){super(...arguments),this.id=kj++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Aj={animation:{Feature:xj},exit:{Feature:Ij}};function Pc(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function Gc(n){return{point:{x:n.pageX,y:n.pageY}}}const Pj=n=>e=>fv(e)&&n(e,Gc(e));function fc(n,e,t,r){return Pc(n,e,Pj(t),r)}const mT=(n,e)=>Math.abs(n-e);function Rj(n,e){const t=mT(n.x,e.x),r=mT(n.y,e.y);return Math.sqrt(t**2+r**2)}class ak{constructor(e,t,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=rg(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,T=Rj(y.offset,{x:0,y:0})>=3;if(!v&&!T)return;const{point:k}=y,{timestamp:A}=Tn;this.history.push({...k,timestamp:A});const{onStart:P,onMove:q}=this.handlers;v||(P&&P(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),q&&q(this.lastMoveEvent,y)},this.handlePointerMove=(y,v)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=ng(v,this.transformPagePoint),Rt.update(this.updatePoint,!0)},this.handlePointerUp=(y,v)=>{this.end();const{onEnd:T,onSessionEnd:k,resumeAnimation:A}=this.handlers;if(this.dragSnapToOrigin&&A&&A(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=rg(y.type==="pointercancel"?this.lastMoveEventInfo:ng(v,this.transformPagePoint),this.history);this.startEvent&&T&&T(y,P),k&&k(y,P)},!fv(e))return;this.dragSnapToOrigin=o,this.handlers=t,this.transformPagePoint=r,this.contextWindow=i||window;const l=Gc(e),u=ng(l,this.transformPagePoint),{point:h}=u,{timestamp:f}=Tn;this.history=[{...h,timestamp:f}];const{onSessionStart:m}=t;m&&m(e,rg(u,this.history)),this.removeListeners=Hc(fc(this.contextWindow,"pointermove",this.handlePointerMove),fc(this.contextWindow,"pointerup",this.handlePointerUp),fc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),go(this.updatePoint)}}function ng(n,e){return e?{point:e(n.point)}:n}function gT(n,e){return{x:n.x-e.x,y:n.y-e.y}}function rg({point:n},e){return{point:n,delta:gT(n,lk(e)),offset:gT(n,Cj(e)),velocity:Dj(e,.1)}}function Cj(n){return n[0]}function lk(n){return n[n.length-1]}function Dj(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=lk(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>ls(e)));)t--;if(!r)return{x:0,y:0};const o=us(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const l={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}const uk=1e-4,Oj=1-uk,Nj=1+uk,ck=.01,Mj=0-ck,Lj=0+ck;function Sr(n){return n.max-n.min}function Vj(n,e,t){return Math.abs(n-e)<=t}function yT(n,e,t,r=.5){n.origin=r,n.originPoint=Ft(e.min,e.max,n.origin),n.scale=Sr(t)/Sr(e),n.translate=Ft(t.min,t.max,n.origin)-n.originPoint,(n.scale>=Oj&&n.scale<=Nj||isNaN(n.scale))&&(n.scale=1),(n.translate>=Mj&&n.translate<=Lj||isNaN(n.translate))&&(n.translate=0)}function pc(n,e,t,r){yT(n.x,e.x,t.x,r?r.originX:void 0),yT(n.y,e.y,t.y,r?r.originY:void 0)}function vT(n,e,t){n.min=t.min+e.min,n.max=n.min+Sr(e)}function jj(n,e,t){vT(n.x,e.x,t.x),vT(n.y,e.y,t.y)}function _T(n,e,t){n.min=e.min-t.min,n.max=n.min+Sr(e)}function mc(n,e,t){_T(n.x,e.x,t.x),_T(n.y,e.y,t.y)}function Fj(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?Ft(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?Ft(t,n,r.max):Math.min(n,t)),n}function wT(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function Uj(n,{top:e,left:t,bottom:r,right:i}){return{x:wT(n.x,t,i),y:wT(n.y,e,r)}}function ET(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function $j(n,e){return{x:ET(n.x,e.x),y:ET(n.y,e.y)}}function Bj(n,e){let t=.5;const r=Sr(n),i=Sr(e);return i>r?t=Bl(e.min,e.max-r,n.min):r>i&&(t=Bl(n.min,n.max-i,e.min)),fs(0,1,t)}function zj(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const ty=.35;function qj(n=ty){return n===!1?n=0:n===!0&&(n=ty),{x:TT(n,"left","right"),y:TT(n,"top","bottom")}}function TT(n,e,t){return{min:ST(n,e),max:ST(n,t)}}function ST(n,e){return typeof n=="number"?n:n[e]||0}const bT=()=>({translate:0,scale:1,origin:0,originPoint:0}),Cl=()=>({x:bT(),y:bT()}),xT=()=>({min:0,max:0}),Gt=()=>({x:xT(),y:xT()});function Lr(n){return[n("x"),n("y")]}function hk({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function Wj({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function Hj(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function ig(n){return n===void 0||n===1}function ny({scale:n,scaleX:e,scaleY:t}){return!ig(n)||!ig(e)||!ig(t)}function sa(n){return ny(n)||dk(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function dk(n){return kT(n.x)||kT(n.y)}function kT(n){return n&&n!=="0%"}function uf(n,e,t){const r=n-t,i=e*r;return t+i}function IT(n,e,t,r,i){return i!==void 0&&(n=uf(n,i,r)),uf(n,t,r)+e}function ry(n,e=0,t=1,r,i){n.min=IT(n.min,e,t,r,i),n.max=IT(n.max,e,t,r,i)}function fk(n,{x:e,y:t}){ry(n.x,e.translate,e.scale,e.originPoint),ry(n.y,t.translate,t.scale,t.originPoint)}const AT=.999999999999,PT=1.0000000000001;function Gj(n,e,t,r=!1){const i=t.length;if(!i)return;e.x=e.y=1;let o,l;for(let u=0;u<i;u++){o=t[u],l=o.projectionDelta;const{visualElement:h}=o.options;h&&h.props.style&&h.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Ol(n,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,fk(n,l)),r&&sa(o.latestValues)&&Ol(n,o.latestValues))}e.x<PT&&e.x>AT&&(e.x=1),e.y<PT&&e.y>AT&&(e.y=1)}function Dl(n,e){n.min=n.min+e,n.max=n.max+e}function RT(n,e,t,r,i=.5){const o=Ft(n.min,n.max,i);ry(n,e,t,o,r)}function Ol(n,e){RT(n.x,e.x,e.scaleX,e.scale,e.originX),RT(n.y,e.y,e.scaleY,e.scale,e.originY)}function pk(n,e){return hk(Hj(n.getBoundingClientRect(),e))}function Kj(n,e,t){const r=pk(n,t),{scroll:i}=e;return i&&(Dl(r.x,i.offset.x),Dl(r.y,i.offset.y)),r}const mk=({current:n})=>n?n.ownerDocument.defaultView:null,Qj=new WeakMap;class Jj{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Gt(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=m=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Gc(m).point)},o=(m,y)=>{const{drag:v,dragPropagation:T,onDragStart:k}=this.getProps();if(v&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=BL(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Lr(P=>{let q=this.getAxisMotionValue(P).get()||0;if(ki.test(q)){const{projection:B}=this.visualElement;if(B&&B.layout){const U=B.layout.layoutBox[P];U&&(q=Sr(U)*(parseFloat(q)/100))}}this.originPoint[P]=q}),k&&Rt.postRender(()=>k(m,y)),Gg(this.visualElement,"transform");const{animationState:A}=this.visualElement;A&&A.setActive("whileDrag",!0)},l=(m,y)=>{const{dragPropagation:v,dragDirectionLock:T,onDirectionLock:k,onDrag:A}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:P}=y;if(T&&this.currentDirection===null){this.currentDirection=Xj(P),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",y.point,P),this.updateAxis("y",y.point,P),this.visualElement.render(),A&&A(m,y)},u=(m,y)=>this.stop(m,y),h=()=>Lr(m=>{var y;return this.getAnimationState(m)==="paused"&&((y=this.getAxisMotionValue(m).animation)===null||y===void 0?void 0:y.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new ak(e,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:u,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:mk(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&Rt.postRender(()=>o(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!xd(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=Fj(l,this.constraints[e],this.elastic[e])),o.set(l)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;t&&Pl(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=Uj(i.layoutBox,t):this.constraints=!1,this.elastic=qj(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Lr(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=zj(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Pl(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=Kj(r,i.root,this.visualElement.getTransformPagePoint());let l=$j(i.layout.layoutBox,o);if(t){const u=t(Wj(l));this.hasMutatedConstraints=!!u,u&&(l=hk(u))}return l}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},f=Lr(m=>{if(!xd(m,t,this.currentDirection))return;let y=h&&h[m]||{};l&&(y={min:0,max:0});const v=i?200:1e6,T=i?40:1e7,k={type:"inertia",velocity:r?e[m]:0,bounceStiffness:v,bounceDamping:T,timeConstant:750,restDelta:1,restSpeed:10,...o,...y};return this.startAxisValueAnimation(m,k)});return Promise.all(f).then(u)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return Gg(this.visualElement,e),r.start(xv(e,r,0,t,this.visualElement,!1))}stopAnimation(){Lr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Lr(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[t];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Lr(t=>{const{drag:r}=this.getProps();if(!xd(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(t);if(i&&i.layout){const{min:l,max:u}=i.layout.layoutBox[t];o.set(e[t]-Ft(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!Pl(t)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Lr(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const h=u.get();i[l]=Bj({min:h,max:h},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Lr(l=>{if(!xd(l,e,null))return;const u=this.getAxisMotionValue(l),{min:h,max:f}=this.constraints[l];u.set(Ft(h,f,i[l]))})}addListeners(){if(!this.visualElement.current)return;Qj.set(this.visualElement,this);const e=this.visualElement.current,t=fc(e,"pointerdown",h=>{const{drag:f,dragListener:m=!0}=this.getProps();f&&m&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();Pl(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Rt.read(r);const l=Pc(window,"resize",()=>this.scalePositionWithinConstraints()),u=i.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f})=>{this.isDragging&&f&&(Lr(m=>{const y=this.getAxisMotionValue(m);y&&(this.originPoint[m]+=h[m].translate,y.set(y.get()+h[m].translate))}),this.visualElement.render())});return()=>{l(),t(),o(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:l=ty,dragMomentum:u=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:l,dragMomentum:u}}}function xd(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function Xj(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class Yj extends Ao{constructor(e){super(e),this.removeGroupControls=Tr,this.removeListeners=Tr,this.controls=new Jj(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Tr}unmount(){this.removeGroupControls(),this.removeListeners()}}const CT=n=>(e,t)=>{n&&Rt.postRender(()=>n(e,t))};class Zj extends Ao{constructor(){super(...arguments),this.removePointerDownListener=Tr}onPointerDown(e){this.session=new ak(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:mk(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:CT(e),onStart:CT(t),onMove:r,onEnd:(o,l)=>{delete this.session,i&&Rt.postRender(()=>i(o,l))}}}mount(){this.removePointerDownListener=fc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Vd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function DT(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Xu={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Le.test(n))n=parseFloat(n);else return n;const t=DT(n,e.target.x),r=DT(n,e.target.y);return`${t}% ${r}%`}},e4={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=yo.parse(n);if(i.length>5)return r;const o=yo.createTransformer(n),l=typeof i[0]!="number"?1:0,u=t.x.scale*e.x,h=t.y.scale*e.y;i[0+l]/=u,i[1+l]/=h;const f=Ft(u,h,.5);return typeof i[2+l]=="number"&&(i[2+l]/=f),typeof i[3+l]=="number"&&(i[3+l]/=f),o(i)}};class t4 extends D.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;EL(n4),o&&(t.group&&t.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Vd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:o}=this.props,l=r.projection;return l&&(l.isPresent=o,i||e.layoutDependency!==t||t===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?l.promote():l.relegate()||Rt.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ev.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function gk(n){const[e,t]=Yb(),r=D.useContext(Wy);return R.jsx(t4,{...n,layoutGroup:r,switchLayoutGroup:D.useContext(ox),isPresent:e,safeToRemove:t})}const n4={borderRadius:{...Xu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Xu,borderTopRightRadius:Xu,borderBottomLeftRadius:Xu,borderBottomRightRadius:Xu,boxShadow:e4};function r4(n,e,t){const r=Vn(n)?n:Ic(n);return r.start(xv("",r,e,t)),r.animation}function i4(n){return n instanceof SVGElement&&n.tagName!=="svg"}const s4=(n,e)=>n.depth-e.depth;class o4{constructor(){this.children=[],this.isDirty=!1}add(e){pv(this.children,e),this.isDirty=!0}remove(e){mv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(s4),this.isDirty=!1,this.children.forEach(e)}}function a4(n,e){const t=Ii.now(),r=({timestamp:i})=>{const o=i-t;o>=e&&(go(r),n(o-e))};return Rt.read(r,!0),()=>go(r)}const yk=["TopLeft","TopRight","BottomLeft","BottomRight"],l4=yk.length,OT=n=>typeof n=="string"?parseFloat(n):n,NT=n=>typeof n=="number"||Le.test(n);function u4(n,e,t,r,i,o){i?(n.opacity=Ft(0,t.opacity!==void 0?t.opacity:1,c4(r)),n.opacityExit=Ft(e.opacity!==void 0?e.opacity:1,0,h4(r))):o&&(n.opacity=Ft(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let l=0;l<l4;l++){const u=`border${yk[l]}Radius`;let h=MT(e,u),f=MT(t,u);if(h===void 0&&f===void 0)continue;h||(h=0),f||(f=0),h===0||f===0||NT(h)===NT(f)?(n[u]=Math.max(Ft(OT(h),OT(f),r),0),(ki.test(f)||ki.test(h))&&(n[u]+="%")):n[u]=f}(e.rotate||t.rotate)&&(n.rotate=Ft(e.rotate||0,t.rotate||0,r))}function MT(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const c4=vk(0,.5,Lx),h4=vk(.5,.95,Tr);function vk(n,e,t){return r=>r<n?0:r>e?1:t(Bl(n,e,r))}function LT(n,e){n.min=e.min,n.max=e.max}function Mr(n,e){LT(n.x,e.x),LT(n.y,e.y)}function VT(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function jT(n,e,t,r,i){return n-=e,n=uf(n,1/t,r),i!==void 0&&(n=uf(n,1/i,r)),n}function d4(n,e=0,t=1,r=.5,i,o=n,l=n){if(ki.test(e)&&(e=parseFloat(e),e=Ft(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=Ft(o.min,o.max,r);n===o&&(u-=e),n.min=jT(n.min,e,t,u,i),n.max=jT(n.max,e,t,u,i)}function FT(n,e,[t,r,i],o,l){d4(n,e[t],e[r],e[i],e.scale,o,l)}const f4=["x","scaleX","originX"],p4=["y","scaleY","originY"];function UT(n,e,t,r){FT(n.x,e,f4,t?t.x:void 0,r?r.x:void 0),FT(n.y,e,p4,t?t.y:void 0,r?r.y:void 0)}function $T(n){return n.translate===0&&n.scale===1}function _k(n){return $T(n.x)&&$T(n.y)}function BT(n,e){return n.min===e.min&&n.max===e.max}function m4(n,e){return BT(n.x,e.x)&&BT(n.y,e.y)}function zT(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function wk(n,e){return zT(n.x,e.x)&&zT(n.y,e.y)}function qT(n){return Sr(n.x)/Sr(n.y)}function WT(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class g4{constructor(){this.members=[]}add(e){pv(this.members,e),e.scheduleRender()}remove(e){if(mv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function y4(n,e,t){let r="";const i=n.x.translate/e.x,o=n.y.translate/e.y,l=(t==null?void 0:t.z)||0;if((i||o||l)&&(r=`translate3d(${i}px, ${o}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:f,rotate:m,rotateX:y,rotateY:v,skewX:T,skewY:k}=t;f&&(r=`perspective(${f}px) ${r}`),m&&(r+=`rotate(${m}deg) `),y&&(r+=`rotateX(${y}deg) `),v&&(r+=`rotateY(${v}deg) `),T&&(r+=`skewX(${T}deg) `),k&&(r+=`skewY(${k}deg) `)}const u=n.x.scale*e.x,h=n.y.scale*e.y;return(u!==1||h!==1)&&(r+=`scale(${u}, ${h})`),r||"none"}const oa={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},nc=typeof window<"u"&&window.MotionDebug!==void 0,sg=["","X","Y","Z"],v4={visibility:"hidden"},HT=1e3;let _4=0;function og(n,e,t,r){const{latestValues:i}=e;i[n]&&(t[n]=i[n],e.setStaticValue(n,0),r&&(r[n]=0))}function Ek(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=Px(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:i,layoutId:o}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Rt,!(i||o))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&Ek(r)}function Tk({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},u=e==null?void 0:e()){this.id=_4++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,nc&&(oa.totalNodes=oa.resolvedTargetDeltas=oa.recalculatedProjection=0),this.nodes.forEach(T4),this.nodes.forEach(I4),this.nodes.forEach(A4),this.nodes.forEach(S4),nc&&window.MotionDebug.record(oa)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new o4)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new gv),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const h=this.eventHandlers.get(l);h&&h.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,u=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=i4(l),this.instance=l;const{layoutId:h,layout:f,visualElement:m}=this.options;if(m&&!m.current&&m.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),u&&(f||h)&&(this.isLayoutDirty=!0),n){let y;const v=()=>this.root.updateBlockedByResize=!1;n(l,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=a4(v,250),Vd.hasAnimatedSinceResize&&(Vd.hasAnimatedSinceResize=!1,this.nodes.forEach(KT))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&m&&(h||f)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeTargetChanged:T,layout:k})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=this.options.transition||m.getDefaultTransition()||O4,{onLayoutAnimationStart:P,onLayoutAnimationComplete:q}=m.getProps(),B=!this.targetLayout||!wk(this.targetLayout,k)||T,U=!v&&T;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||U||v&&(B||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(y,U);const J={...cv(A,"layout"),onPlay:P,onComplete:q};(m.shouldReduceMotion||this.options.layoutRoot)&&(J.delay=0,J.type=!1),this.startAnimation(J)}else v||KT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=k})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,go(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(P4),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Ek(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const y=this.path[m];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(GT);return}this.isUpdating||this.nodes.forEach(x4),this.isUpdating=!1,this.nodes.forEach(k4),this.nodes.forEach(w4),this.nodes.forEach(E4),this.clearAllSnapshots();const u=Ii.now();Tn.delta=fs(0,1e3/60,u-Tn.timestamp),Tn.timestamp=u,Tn.isProcessing=!0,Jm.update.process(Tn),Jm.preRender.process(Tn),Jm.render.process(Tn),Tn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ev.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(b4),this.sharedNodes.forEach(R4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Rt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Rt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Gt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u){const h=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!_k(this.projectionDelta),h=this.getTransformTemplate(),f=h?h(this.latestValues,""):void 0,m=f!==this.prevTransformTemplateValue;l&&(u||sa(this.latestValues)||m)&&(i(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return l&&(h=this.removeTransform(h)),N4(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:u}=this.options;if(!u)return Gt();const h=u.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(M4))){const{scroll:m}=this.root;m&&(Dl(h.x,m.offset.x),Dl(h.y,m.offset.y))}return h}removeElementScroll(l){var u;const h=Gt();if(Mr(h,l),!((u=this.scroll)===null||u===void 0)&&u.wasRoot)return h;for(let f=0;f<this.path.length;f++){const m=this.path[f],{scroll:y,options:v}=m;m!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&Mr(h,l),Dl(h.x,y.offset.x),Dl(h.y,y.offset.y))}return h}applyTransform(l,u=!1){const h=Gt();Mr(h,l);for(let f=0;f<this.path.length;f++){const m=this.path[f];!u&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Ol(h,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),sa(m.latestValues)&&Ol(h,m.latestValues)}return sa(this.latestValues)&&Ol(h,this.latestValues),h}removeTransform(l){const u=Gt();Mr(u,l);for(let h=0;h<this.path.length;h++){const f=this.path[h];if(!f.instance||!sa(f.latestValues))continue;ny(f.latestValues)&&f.updateSnapshot();const m=Gt(),y=f.measurePageBox();Mr(m,y),UT(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,m)}return sa(this.latestValues)&&UT(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Tn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var u;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(l||f&&this.isSharedProjectionDirty||this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!(!this.layout||!(y||v))){if(this.resolvedRelativeTargetAt=Tn.timestamp,!this.targetDelta&&!this.relativeTarget){const T=this.getClosestProjectingParent();T&&T.layout&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Gt(),this.relativeTargetOrigin=Gt(),mc(this.relativeTargetOrigin,this.layout.layoutBox,T.layout.layoutBox),Mr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Gt(),this.targetWithTransforms=Gt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),jj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Mr(this.target,this.layout.layoutBox),fk(this.target,this.targetDelta)):Mr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const T=this.getClosestProjectingParent();T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Gt(),this.relativeTargetOrigin=Gt(),mc(this.relativeTargetOrigin,this.target,T.target),Mr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}nc&&oa.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||ny(this.parent.latestValues)||dk(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const u=this.getLead(),h=!!this.resumingFrom||this!==u;let f=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Tn.timestamp&&(f=!1),f)return;const{layout:m,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||y))return;Mr(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,T=this.treeScale.y;Gj(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Gt());const{target:k}=u;if(!k){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(VT(this.prevProjectionDelta.x,this.projectionDelta.x),VT(this.prevProjectionDelta.y,this.projectionDelta.y)),pc(this.projectionDelta,this.layoutCorrected,k,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==T||!WT(this.projectionDelta.x,this.prevProjectionDelta.x)||!WT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",k)),nc&&oa.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var u;if((u=this.options.visualElement)===null||u===void 0||u.scheduleRender(),l){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Cl(),this.projectionDelta=Cl(),this.projectionDeltaWithTransform=Cl()}setAnimationOrigin(l,u=!1){const h=this.snapshot,f=h?h.latestValues:{},m={...this.latestValues},y=Cl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const v=Gt(),T=h?h.source:void 0,k=this.layout?this.layout.source:void 0,A=T!==k,P=this.getStack(),q=!P||P.members.length<=1,B=!!(A&&!q&&this.options.crossfade===!0&&!this.path.some(D4));this.animationProgress=0;let U;this.mixTargetDelta=J=>{const Z=J/1e3;QT(y.x,l.x,Z),QT(y.y,l.y,Z),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(mc(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),C4(this.relativeTarget,this.relativeTargetOrigin,v,Z),U&&m4(this.relativeTarget,U)&&(this.isProjectionDirty=!1),U||(U=Gt()),Mr(U,this.relativeTarget)),A&&(this.animationValues=m,u4(m,f,this.latestValues,Z,B,q)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(go(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Rt.update(()=>{Vd.hasAnimatedSinceResize=!0,this.currentAnimation=r4(0,HT,{...l,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(HT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:h,layout:f,latestValues:m}=l;if(!(!u||!h||!f)){if(this!==l&&this.layout&&f&&Sk(this.options.animationType,this.layout.layoutBox,f.layoutBox)){h=this.target||Gt();const y=Sr(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+y;const v=Sr(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+v}Mr(u,h),Ol(u,m),pc(this.projectionDeltaWithTransform,this.layoutCorrected,u,m)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new g4),this.sharedNodes.get(l).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:u}=this.options;return u?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:u}=this.options;return u?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:h}={}){const f=this.getStack();f&&f.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(u=!0),!u)return;const f={};h.z&&og("z",l,f,this.animationValues);for(let m=0;m<sg.length;m++)og(`rotate${sg[m]}`,l,f,this.animationValues),og(`skew${sg[m]}`,l,f,this.animationValues);l.render();for(const m in f)l.setStaticValue(m,f[m]),this.animationValues&&(this.animationValues[m]=f[m]);l.scheduleRender()}getProjectionStyles(l){var u,h;if(!this.instance||this.isSVG)return;if(!this.isVisible)return v4;const f={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=Md(l==null?void 0:l.pointerEvents)||"",f.transform=m?m(this.latestValues,""):"none",f;const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){const A={};return this.options.layoutId&&(A.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,A.pointerEvents=Md(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!sa(this.latestValues)&&(A.transform=m?m({},""):"none",this.hasProjected=!1),A}const v=y.animationValues||y.latestValues;this.applyTransformsToTarget(),f.transform=y4(this.projectionDeltaWithTransform,this.treeScale,v),m&&(f.transform=m(v,f.transform));const{x:T,y:k}=this.projectionDelta;f.transformOrigin=`${T.origin*100}% ${k.origin*100}% 0`,y.animationValues?f.opacity=y===this?(h=(u=v.opacity)!==null&&u!==void 0?u:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:f.opacity=y===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const A in rf){if(v[A]===void 0)continue;const{correct:P,applyTo:q}=rf[A],B=f.transform==="none"?v[A]:P(v[A],y);if(q){const U=q.length;for(let J=0;J<U;J++)f[q[J]]=B}else f[A]=B}return this.options.layoutId&&(f.pointerEvents=y===this?Md(l==null?void 0:l.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)===null||u===void 0?void 0:u.stop()}),this.root.nodes.forEach(GT),this.root.sharedNodes.clear()}}}function w4(n){n.updateLayout()}function E4(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=n.layout,{animationType:o}=n.options,l=t.source!==n.layout.source;o==="size"?Lr(y=>{const v=l?t.measuredBox[y]:t.layoutBox[y],T=Sr(v);v.min=r[y].min,v.max=v.min+T}):Sk(o,t.layoutBox,r)&&Lr(y=>{const v=l?t.measuredBox[y]:t.layoutBox[y],T=Sr(r[y]);v.max=v.min+T,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[y].max=n.relativeTarget[y].min+T)});const u=Cl();pc(u,r,t.layoutBox);const h=Cl();l?pc(h,n.applyTransform(i,!0),t.measuredBox):pc(h,r,t.layoutBox);const f=!_k(u);let m=!1;if(!n.resumeFrom){const y=n.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:T}=y;if(v&&T){const k=Gt();mc(k,t.layoutBox,v.layoutBox);const A=Gt();mc(A,r,T.layoutBox),wk(k,A)||(m=!0),y.options.layoutRoot&&(n.relativeTarget=A,n.relativeTargetOrigin=k,n.relativeParent=y)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:h,layoutDelta:u,hasLayoutChanged:f,hasRelativeTargetChanged:m})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function T4(n){nc&&oa.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function S4(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function b4(n){n.clearSnapshot()}function GT(n){n.clearMeasurements()}function x4(n){n.isLayoutDirty=!1}function k4(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function KT(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function I4(n){n.resolveTargetDelta()}function A4(n){n.calcProjection()}function P4(n){n.resetSkewAndRotation()}function R4(n){n.removeLeadSnapshot()}function QT(n,e,t){n.translate=Ft(e.translate,0,t),n.scale=Ft(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function JT(n,e,t,r){n.min=Ft(e.min,t.min,r),n.max=Ft(e.max,t.max,r)}function C4(n,e,t,r){JT(n.x,e.x,t.x,r),JT(n.y,e.y,t.y,r)}function D4(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const O4={duration:.45,ease:[.4,0,.1,1]},XT=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),YT=XT("applewebkit/")&&!XT("chrome/")?Math.round:Tr;function ZT(n){n.min=YT(n.min),n.max=YT(n.max)}function N4(n){ZT(n.x),ZT(n.y)}function Sk(n,e,t){return n==="position"||n==="preserve-aspect"&&!Vj(qT(e),qT(t),.2)}function M4(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const L4=Tk({attachResizeListener:(n,e)=>Pc(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ag={current:void 0},bk=Tk({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!ag.current){const n=new L4({});n.mount(window),n.setOptions({layoutScroll:!0}),ag.current=n}return ag.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),V4={pan:{Feature:Zj},drag:{Feature:Yj,ProjectionNode:bk,MeasureLayout:gk}};function e1(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const i="onHover"+t,o=r[i];o&&Rt.postRender(()=>o(e,Gc(e)))}class j4 extends Ao{mount(){const{current:e}=this.node;e&&(this.unmount=VL(e,t=>(e1(this.node,t,"Start"),r=>e1(this.node,r,"End"))))}unmount(){}}class F4 extends Ao{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Hc(Pc(this.node.current,"focus",()=>this.onFocus()),Pc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function t1(n,e,t){const{props:r}=n;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const i="onTap"+(t==="End"?"":t),o=r[i];o&&Rt.postRender(()=>o(e,Gc(e)))}class U4 extends Ao{mount(){const{current:e}=this.node;e&&(this.unmount=$L(e,t=>(t1(this.node,t,"Start"),(r,{success:i})=>t1(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const iy=new WeakMap,lg=new WeakMap,$4=n=>{const e=iy.get(n.target);e&&e(n)},B4=n=>{n.forEach($4)};function z4({root:n,...e}){const t=n||document;lg.has(t)||lg.set(t,{});const r=lg.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(B4,{root:n,...e})),r[i]}function q4(n,e,t){const r=z4(e);return iy.set(n,t),r.observe(n),()=>{iy.delete(n),r.unobserve(n)}}const W4={some:0,all:1};class H4 extends Ao{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:i="some",once:o}=e,l={root:t?t.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:W4[i]},u=h=>{const{isIntersecting:f}=h;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:m,onViewportLeave:y}=this.node.getProps(),v=f?m:y;v&&v(h)};return q4(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(G4(e,t))&&this.startObserver()}unmount(){}}function G4({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const K4={inView:{Feature:H4},tap:{Feature:U4},focus:{Feature:F4},hover:{Feature:j4}},Q4={layout:{ProjectionNode:bk,MeasureLayout:gk}},sy={current:null},xk={current:!1};function J4(){if(xk.current=!0,!!Ky)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>sy.current=n.matches;n.addListener(e),e()}else sy.current=!1}const X4=[...Jx,Nn,yo],Y4=n=>X4.find(Qx(n)),n1=new WeakMap;function Z4(n,e,t){for(const r in e){const i=e[r],o=t[r];if(Vn(i))n.addValue(r,i);else if(Vn(o))n.addValue(r,Ic(i,{owner:n}));else if(o!==i)if(n.hasValue(r)){const l=n.getValue(r);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=n.getStaticValue(r);n.addValue(r,Ic(l!==void 0?l:i,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const r1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class eF{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Tv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=Ii.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,Rt.render(this.render,!1,!0))};const{latestValues:h,renderState:f,onUpdate:m}=l;this.onUpdate=m,this.latestValues=h,this.baseTarget={...h},this.initialValues=t.initial?{...h}:{},this.renderState=f,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=u,this.blockInitialAnimation=!!o,this.isControllingVariants=Ff(t),this.isVariantNode=ix(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(t,{},this);for(const T in v){const k=v[T];h[T]!==void 0&&Vn(k)&&k.set(h[T],!1)}}mount(e){this.current=e,n1.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),xk.current||J4(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:sy.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){n1.delete(this.current),this.projection&&this.projection.unmount(),go(this.notifyUpdate),go(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Pa.has(e),i=t.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Rt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=t.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),o(),l&&l(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in zl){const t=zl[e];if(!t)continue;const{isEnabled:r,Feature:i}=t;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Gt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<r1.length;r++){const i=r1[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,l=e[o];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=Z4(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=Ic(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(Gx(i)||jx(i))?i=parseFloat(i):!Y4(i)&&yo.test(t)&&(i=qx(e,t)),this.setBaseTarget(e,Vn(i)?i.get():i)),Vn(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const l=nv(this.props,r,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);l&&(i=l[e])}if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Vn(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new gv),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class kk extends eF{constructor(){super(...arguments),this.KeyframeResolver=Xx}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Vn(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function tF(n){return window.getComputedStyle(n)}class nF extends kk{constructor(){super(...arguments),this.type="html",this.renderInstance=fx}readValueFromInstance(e,t){if(Pa.has(t)){const r=Ev(t);return r&&r.default||0}else{const r=tF(e),i=(cx(t)?r.getPropertyValue(t):r[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return pk(e,t)}build(e,t,r){sv(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return uv(e,t,r)}}class rF extends kk{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Gt}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Pa.has(t)){const r=Ev(t);return r&&r.default||0}return t=px.has(t)?t:Zy(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return yx(e,t,r)}build(e,t,r){ov(e,t,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,r,i){mx(e,t,r,i)}mount(e){this.isSVGTag=lv(e.tagName),super.mount(e)}}const iF=(n,e)=>tv(n)?new rF(e):new nF(e,{allowProjection:n!==D.Fragment}),sF=RL({...Aj,...K4,...V4,...Q4},iF),ya=WM(sF),i1=({isDocked:n,isCollapsed:e=!1,setIsCollapsed:t,onClose:r})=>{const i=jr(),{userProfile:o}=Of(),[l,u]=D.useState([]);D.useEffect(()=>{if(e){u([]);return}const v=i.pathname,T=h.find(k=>k.items.some(A=>v===A.path||v.startsWith(A.path)&&A.path!=="/"));T&&u(k=>k.includes(T.name)?k:[...k,T.name])},[i.pathname,e]);const h=[{name:"Overview",icon:R.jsx(VE,{size:20}),items:[{name:"Dashboard",path:"/",icon:R.jsx(RN,{size:18})},{name:"Insights",path:"/insights",icon:R.jsx(DN,{size:18})},{name:"Reports",path:"/reports",icon:R.jsx(VE,{size:18})},{name:"Status Overview",path:"/status-overview",icon:R.jsx(KN,{size:18})},{name:"Due Summary",path:"/due-summary",icon:R.jsx(vN,{size:18})}]},{name:"Operations",icon:R.jsx(Rb,{size:20}),items:[{name:"Orders",path:"/orders",icon:R.jsx(kN,{size:18})},{name:"Expenses",path:"/expenses",icon:R.jsx(Vg,{size:18})},{name:"Materials",path:"/materials",icon:R.jsx(Ug,{size:18})},{name:"Products",path:"/products",icon:R.jsx(aN,{size:18})},{name:"Invoices",path:"/invoices",icon:R.jsx(bN,{size:18})}]},{name:"Management",icon:R.jsx(Nd,{size:20}),items:[{name:"Customers",path:"/customers",icon:R.jsx(TN,{size:18})},{name:"Staff",path:"/staff",icon:R.jsx(Nd,{size:18})},{name:"Payments",path:"/payments",icon:R.jsx(Vg,{size:18})},{name:"Users",path:"/users",icon:R.jsx(Nd,{size:18}),requiredRole:"Owner"},{name:"Stock",path:"/stock",icon:R.jsx(Ug,{size:18})},{name:"Settings",path:"/settings",icon:R.jsx(Mf,{size:18})}]},{name:"Communication",icon:R.jsx(Fg,{size:20}),items:[{name:"WhatsApp",path:"/whatsapp",icon:R.jsx(Fg,{size:18})},{name:"Team Chat",path:"/team-chat",icon:R.jsx(UN,{size:18})},{name:"AI Agent",path:"/ai-agent",icon:R.jsx(HN,{size:18})}]}],f=v=>{if(e&&t){t(!1),u([v]);return}u(T=>T.includes(v)?T.filter(k=>k!==v):[...T,v])},m=()=>{n||r()},y=e?"w-16":"w-64";return R.jsxs("aside",{className:`h-full ${y} flex flex-col bg-card border-r border-border transition-all duration-300`,children:[R.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-border flex-shrink-0",children:[R.jsx("h1",{className:`text-xl font-bold transition-opacity duration-300 ${e?"opacity-0 w-0 overflow-hidden":"opacity-100"}`,children:"Classic Offset"}),R.jsxs("div",{className:"flex items-center",children:[n&&t&&R.jsx("button",{onClick:()=>t(!e),className:"p-2 rounded-lg hover:bg-muted transition-colors","aria-label":e?"Expand sidebar":"Collapse sidebar",children:e?R.jsx(gN,{size:20}):R.jsx(pN,{size:20})}),!n&&R.jsx("button",{onClick:r,className:"p-2 rounded-lg hover:bg-muted transition-colors lg:hidden","aria-label":"Close sidebar",children:R.jsx(ZN,{size:20})})]})]}),R.jsx("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2 custom-scrollbar",children:h.map(v=>{const T=v.items.filter(k=>!k.requiredRole||(o==null?void 0:o.role)===k.requiredRole||(o==null?void 0:o.role)==="Owner");return T.length===0?null:R.jsxs("div",{className:"space-y-1",children:[R.jsxs("button",{onClick:()=>f(v.name),className:`w-full flex items-center px-3 py-2 text-sm font-semibold text-muted-foreground hover:bg-muted hover:text-foreground rounded-lg transition-colors ${l.includes(v.name)&&!e?"bg-muted/50":""}`,children:[R.jsx("span",{className:"flex items-center justify-center",children:v.icon}),!e&&R.jsxs(R.Fragment,{children:[R.jsx("span",{className:"ml-3 flex-1 text-left",children:v.name}),R.jsx(dN,{size:16,className:`transform transition-transform duration-200 ${l.includes(v.name)?"rotate-180":""}`})]})]}),R.jsx(Qy,{children:(l.includes(v.name)||e)&&R.jsx(ya.div,{initial:e?{}:{height:0,opacity:0},animate:e?{}:{height:"auto",opacity:1},exit:e?{}:{height:0,opacity:0},transition:{duration:.2},className:`space-y-1 overflow-hidden ${e?"":"pl-4 border-l-2 border-border ml-3"}`,children:T.map(k=>R.jsxs(t2,{to:k.path,onClick:m,className:({isActive:A})=>Jb("flex items-center px-3 py-2 my-1 rounded-lg text-sm transition-colors duration-200",A?"bg-primary/10 text-primary font-semibold":"text-muted-foreground hover:bg-muted hover:text-foreground",e&&"justify-center"),title:e?k.name:void 0,children:[R.jsx("span",{className:"flex items-center justify-center",children:k.icon}),!e&&R.jsx("span",{className:"ml-3",children:k.name})]},k.path))})})]},v.name)})}),!e&&R.jsxs("div",{className:"p-4 text-xs text-muted-foreground border-t border-border",children:[R.jsx("p",{children:"Classic Offset v1.0.0"}),R.jsx("p",{children:"© 2025 All rights reserved"})]})]})},kv=(n,e)=>{D.useEffect(()=>{const t=r=>{const i=n.current;!i||i.contains(r.target)||e(r)};return document.addEventListener("mousedown",t),document.addEventListener("touchstart",t),()=>{document.removeEventListener("mousedown",t),document.removeEventListener("touchstart",t)}},[n,e])},oF=()=>{const[n,e]=D.useState(!1),[t,r]=D.useState({}),i=eu(),{theme:o}=Df(),l=D.useRef(null);kv(l,()=>{e(!1)}),D.useEffect(()=>{(async()=>{const{data:{user:m}}=await as.auth.getUser();if(m){const{data:y}=await as.from("users").select("name, email, role").eq("id",m.id).maybeSingle();y&&r(y)}})()},[]);const u=async()=>{e(!1);const{error:f}=await as.auth.signOut();f?alert("Logout failed: "+f.message):i("/login")},h=()=>t!=null&&t.name?t.name.split(" ").map(f=>f[0]).join("").toUpperCase().substring(0,2):"CO";return R.jsxs("div",{className:"relative",ref:l,children:[R.jsx("button",{onClick:()=>e(!n),className:"h-9 w-9 rounded-full bg-primary text-primary-foreground text-sm font-bold flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 focus:ring-offset-background transition-all","aria-label":"Open user menu",children:h()}),R.jsx(Qy,{children:n&&R.jsxs(ya.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},transition:{duration:.15},className:"absolute right-0 mt-2 w-64 bg-card border border-border rounded-lg shadow-lg z-50 overflow-hidden",children:[R.jsxs("div",{className:"px-4 py-3 border-b border-border",children:[R.jsx("p",{className:"text-sm font-semibold text-foreground",children:(t==null?void 0:t.name)||"Logged In"}),R.jsx("p",{className:"text-xs text-muted-foreground",children:t==null?void 0:t.email}),R.jsxs("p",{className:"text-xs text-muted-foreground italic",children:["Role: ",(t==null?void 0:t.role)||"Unknown"]})]}),R.jsxs("div",{className:"py-1",children:[R.jsxs(Ul,{to:"/settings",className:"flex items-center gap-2 px-4 py-2 text-sm text-foreground hover:bg-accent transition-colors",onClick:()=>e(!1),children:[R.jsx(Mf,{size:16,className:"text-muted-foreground"}),"Settings"]}),R.jsxs(Ul,{to:"/help",className:"flex items-center gap-2 px-4 py-2 text-sm text-foreground hover:bg-accent transition-colors",onClick:()=>e(!1),children:[R.jsx(wN,{size:16,className:"text-muted-foreground"}),"Help & Support"]}),R.jsxs("button",{onClick:u,className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-destructive hover:bg-destructive/10 transition-colors text-left",children:[R.jsx(MN,{size:16}),"Logout"]})]})]})})]})},aF=({isOpen:n,onClose:e})=>{const[t,r]=wg.useState(""),[i,o]=wg.useState(""),l=()=>{if(!t||!i){alert("📱 Please enter both phone number and message");return}const u=`https://wa.me/${t.replace("+","")}?text=${encodeURIComponent(i)}`;window.open(u,"_blank")};return n?R.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 backdrop-blur-sm flex items-center justify-center z-50",children:R.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md shadow-lg space-y-4",children:[R.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"📲 Send WhatsApp Message"}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium",children:"Phone Number (+91...)"}),R.jsx("input",{type:"text",className:"w-full border px-3 py-2 rounded mt-1",placeholder:"+91xxxxxxxxxx",value:t,onChange:u=>r(u.target.value)})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium",children:"Message"}),R.jsx("textarea",{className:"w-full border px-3 py-2 rounded mt-1",rows:4,placeholder:"Type your message...",value:i,onChange:u=>o(u.target.value)})]}),R.jsxs("div",{className:"flex justify-end gap-3",children:[R.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-300 text-gray-700 rounded",children:"Cancel"}),R.jsx("button",{onClick:l,className:"px-4 py-2 bg-green-600 text-white rounded",children:"Send on WhatsApp"})]})]})}):null},lF=()=>{};var s1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},uF=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=n[t++],l=n[t++],u=n[t++],h=((i&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const o=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},Ak={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],l=i+1<n.length,u=l?n[i+1]:0,h=i+2<n.length,f=h?n[i+2]:0,m=o>>2,y=(o&3)<<4|u>>4;let v=(u&15)<<2|f>>6,T=f&63;h||(T=64,l||(v=64)),r.push(t[m],t[y],t[v],t[T])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Ik(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):uF(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],u=i<n.length?t[n.charAt(i)]:0;++i;const f=i<n.length?t[n.charAt(i)]:64;++i;const y=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||u==null||f==null||y==null)throw new cF;const v=o<<2|u>>4;if(r.push(v),f!==64){const T=u<<4&240|f>>2;if(r.push(T),y!==64){const k=f<<6&192|y;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class cF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hF=function(n){const e=Ik(n);return Ak.encodeByteArray(e,!0)},cf=function(n){return hF(n).replace(/\./g,"")},Pk=function(n){try{return Ak.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fF=()=>dF().__FIREBASE_DEFAULTS__,pF=()=>{if(typeof process>"u"||typeof s1>"u")return;const n=s1.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},mF=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Pk(n[1]);return e&&JSON.parse(e)},Bf=()=>{try{return lF()||fF()||pF()||mF()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Rk=n=>{var e,t;return(t=(e=Bf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},gF=n=>{const e=Rk(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Ck=()=>{var n;return(n=Bf())===null||n===void 0?void 0:n.config},Dk=n=>{var e;return(e=Bf())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ok(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vF(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[cf(JSON.stringify(t)),cf(JSON.stringify(l)),""].join(".")}const gc={};function _F(){const n={prod:[],emulator:[]};for(const e of Object.keys(gc))gc[e]?n.emulator.push(e):n.prod.push(e);return n}function wF(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let o1=!1;function Nk(n,e){if(typeof window>"u"||typeof document>"u"||!ou(window.location.host)||gc[n]===e||gc[n]||o1)return;gc[n]=e;function t(v){return`__firebase__banner__${v}`}const r="__firebase__banner",o=_F().prod.length>0;function l(){const v=document.getElementById(r);v&&v.remove()}function u(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function h(v,T){v.setAttribute("width","24"),v.setAttribute("id",T),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function f(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{o1=!0,l()},v}function m(v,T){v.setAttribute("id",T),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function y(){const v=wF(r),T=t("text"),k=document.getElementById(T)||document.createElement("span"),A=t("learnmore"),P=document.getElementById(A)||document.createElement("a"),q=t("preprendIcon"),B=document.getElementById(q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const U=v.element;u(U),m(P,A);const J=f();h(B,q),U.append(B,k,P,J),document.body.appendChild(U)}o?(k.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function EF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jn())}function TF(){var n;const e=(n=Bf())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function SF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bF(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function xF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kF(){const n=jn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function IF(){return!TF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function AF(){try{return typeof indexedDB=="object"}catch{return!1}}function PF(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RF="FirebaseError";class _s extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=RF,Object.setPrototypeOf(this,_s.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kc.prototype.create)}}class Kc{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?CF(o,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new _s(i,u,r)}}function CF(n,e){return n.replace(DF,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const DF=/\{\$([^}]+)}/g;function OF(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ta(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],l=e[i];if(a1(o)&&a1(l)){if(!Ta(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function a1(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function NF(n,e){const t=new MF(n,e);return t.subscribe.bind(t)}class MF{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");LF(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=ug),i.error===void 0&&(i.error=ug),i.complete===void 0&&(i.complete=ug);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function LF(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function ug(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(n){return n&&n._delegate?n._delegate:n}class Sa{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new yF;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FF(e))try{this.getOrInitializeService({instanceIdentifier:aa})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=aa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=aa){return this.instances.has(e)}getOptions(e=aa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&l.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jF(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=aa){return this.component?this.component.multipleInstances?e:aa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jF(n){return n===aa?void 0:n}function FF(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new VF(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(it||(it={}));const $F={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},BF=it.INFO,zF={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},qF=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=zF[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Iv{constructor(e){this.name=e,this._logLevel=BF,this._logHandler=qF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in it))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$F[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...e),this._logHandler(this,it.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...e),this._logHandler(this,it.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,it.INFO,...e),this._logHandler(this,it.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,it.WARN,...e),this._logHandler(this,it.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...e),this._logHandler(this,it.ERROR,...e)}}const WF=(n,e)=>e.some(t=>n instanceof t);let l1,u1;function HF(){return l1||(l1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GF(){return u1||(u1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Mk=new WeakMap,oy=new WeakMap,Lk=new WeakMap,cg=new WeakMap,Av=new WeakMap;function KF(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{t(uo(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&Mk.set(t,n)}).catch(()=>{}),Av.set(e,n),e}function QF(n){if(oy.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});oy.set(n,e)}let ay={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return oy.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Lk.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return uo(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function JF(n){ay=n(ay)}function XF(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(hg(this),e,...t);return Lk.set(r,e.sort?e.sort():[e]),uo(r)}:GF().includes(n)?function(...e){return n.apply(hg(this),e),uo(Mk.get(this))}:function(...e){return uo(n.apply(hg(this),e))}}function YF(n){return typeof n=="function"?XF(n):(n instanceof IDBTransaction&&QF(n),WF(n,HF())?new Proxy(n,ay):n)}function uo(n){if(n instanceof IDBRequest)return KF(n);if(cg.has(n))return cg.get(n);const e=YF(n);return e!==n&&(cg.set(n,e),Av.set(e,n)),e}const hg=n=>Av.get(n);function ZF(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(n,e),u=uo(l);return r&&l.addEventListener("upgradeneeded",h=>{r(uo(l.result),h.oldVersion,h.newVersion,uo(l.transaction),h)}),t&&l.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),u.then(h=>{o&&h.addEventListener("close",()=>o()),i&&h.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const eU=["get","getKey","getAll","getAllKeys","count"],tU=["put","add","delete","clear"],dg=new Map;function c1(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(dg.get(e))return dg.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=tU.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||eU.includes(t)))return;const o=async function(l,...u){const h=this.transaction(l,i?"readwrite":"readonly");let f=h.store;return r&&(f=f.index(u.shift())),(await Promise.all([f[t](...u),i&&h.done]))[0]};return dg.set(e,o),o}JF(n=>({...n,get:(e,t,r)=>c1(e,t)||n.get(e,t,r),has:(e,t)=>!!c1(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(rU(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function rU(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ly="@firebase/app",h1="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps=new Iv("@firebase/app"),iU="@firebase/app-compat",sU="@firebase/analytics-compat",oU="@firebase/analytics",aU="@firebase/app-check-compat",lU="@firebase/app-check",uU="@firebase/auth",cU="@firebase/auth-compat",hU="@firebase/database",dU="@firebase/data-connect",fU="@firebase/database-compat",pU="@firebase/functions",mU="@firebase/functions-compat",gU="@firebase/installations",yU="@firebase/installations-compat",vU="@firebase/messaging",_U="@firebase/messaging-compat",wU="@firebase/performance",EU="@firebase/performance-compat",TU="@firebase/remote-config",SU="@firebase/remote-config-compat",bU="@firebase/storage",xU="@firebase/storage-compat",kU="@firebase/firestore",IU="@firebase/ai",AU="@firebase/firestore-compat",PU="firebase",RU="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uy="[DEFAULT]",CU={[ly]:"fire-core",[iU]:"fire-core-compat",[oU]:"fire-analytics",[sU]:"fire-analytics-compat",[lU]:"fire-app-check",[aU]:"fire-app-check-compat",[uU]:"fire-auth",[cU]:"fire-auth-compat",[hU]:"fire-rtdb",[dU]:"fire-data-connect",[fU]:"fire-rtdb-compat",[pU]:"fire-fn",[mU]:"fire-fn-compat",[gU]:"fire-iid",[yU]:"fire-iid-compat",[vU]:"fire-fcm",[_U]:"fire-fcm-compat",[wU]:"fire-perf",[EU]:"fire-perf-compat",[TU]:"fire-rc",[SU]:"fire-rc-compat",[bU]:"fire-gcs",[xU]:"fire-gcs-compat",[kU]:"fire-fst",[AU]:"fire-fst-compat",[IU]:"fire-vertex","fire-js":"fire-js",[PU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rc=new Map,DU=new Map,cy=new Map;function d1(n,e){try{n.container.addComponent(e)}catch(t){ps.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Wl(n){const e=n.name;if(cy.has(e))return ps.debug(`There were multiple attempts to register component ${e}.`),!1;cy.set(e,n);for(const t of Rc.values())d1(t,n);for(const t of DU.values())d1(t,n);return!0}function Pv(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function si(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},co=new Kc("app","Firebase",OU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Sa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw co.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au=RU;function Vk(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:uy,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw co.create("bad-app-name",{appName:String(i)});if(t||(t=Ck()),!t)throw co.create("no-options");const o=Rc.get(i);if(o){if(Ta(t,o.options)&&Ta(r,o.config))return o;throw co.create("duplicate-app",{appName:i})}const l=new UF(i);for(const h of cy.values())l.addComponent(h);const u=new NU(t,r,l);return Rc.set(i,u),u}function Rv(n=uy){const e=Rc.get(n);if(!e&&n===uy&&Ck())return Vk();if(!e)throw co.create("no-app",{appName:n});return e}function MU(){return Array.from(Rc.values())}function ho(n,e,t){var r;let i=(r=CU[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const u=[`Unable to register library "${i}" with version "${e}":`];o&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ps.warn(u.join(" "));return}Wl(new Sa(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LU="firebase-heartbeat-database",VU=1,Cc="firebase-heartbeat-store";let fg=null;function jk(){return fg||(fg=ZF(LU,VU,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Cc)}catch(t){console.warn(t)}}}}).catch(n=>{throw co.create("idb-open",{originalErrorMessage:n.message})})),fg}async function jU(n){try{const t=(await jk()).transaction(Cc),r=await t.objectStore(Cc).get(Fk(n));return await t.done,r}catch(e){if(e instanceof _s)ps.warn(e.message);else{const t=co.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ps.warn(t.message)}}}async function f1(n,e){try{const r=(await jk()).transaction(Cc,"readwrite");await r.objectStore(Cc).put(e,Fk(n)),await r.done}catch(t){if(t instanceof _s)ps.warn(t.message);else{const r=co.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ps.warn(r.message)}}}function Fk(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FU=1024,UU=30;class $U{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new zU(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=p1();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>UU){const l=qU(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ps.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=p1(),{heartbeatsToSend:r,unsentEntries:i}=BU(this._heartbeatsCache.heartbeats),o=cf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ps.warn(t),""}}}function p1(){return new Date().toISOString().substring(0,10)}function BU(n,e=FU){const t=[];let r=n.slice();for(const i of n){const o=t.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),m1(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),m1(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class zU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AF()?PF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await jU(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return f1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return f1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function m1(n){return cf(JSON.stringify({version:2,heartbeats:n})).length}function qU(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WU(n){Wl(new Sa("platform-logger",e=>new nU(e),"PRIVATE")),Wl(new Sa("heartbeat",e=>new $U(e),"PRIVATE")),ho(ly,h1,n),ho(ly,h1,"esm2017"),ho("fire-js","")}WU("");var HU="firebase",GU="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ho(HU,GU,"app");var g1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fo,Uk;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,b){function C(){}C.prototype=b.prototype,x.D=b.prototype,x.prototype=new C,x.prototype.constructor=x,x.C=function(O,j,$){for(var M=Array(arguments.length-2),He=2;He<arguments.length;He++)M[He-2]=arguments[He];return b.prototype[j].apply(O,M)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(x,b,C){C||(C=0);var O=Array(16);if(typeof b=="string")for(var j=0;16>j;++j)O[j]=b.charCodeAt(C++)|b.charCodeAt(C++)<<8|b.charCodeAt(C++)<<16|b.charCodeAt(C++)<<24;else for(j=0;16>j;++j)O[j]=b[C++]|b[C++]<<8|b[C++]<<16|b[C++]<<24;b=x.g[0],C=x.g[1],j=x.g[2];var $=x.g[3],M=b+($^C&(j^$))+O[0]+3614090360&4294967295;b=C+(M<<7&4294967295|M>>>25),M=$+(j^b&(C^j))+O[1]+3905402710&4294967295,$=b+(M<<12&4294967295|M>>>20),M=j+(C^$&(b^C))+O[2]+606105819&4294967295,j=$+(M<<17&4294967295|M>>>15),M=C+(b^j&($^b))+O[3]+3250441966&4294967295,C=j+(M<<22&4294967295|M>>>10),M=b+($^C&(j^$))+O[4]+4118548399&4294967295,b=C+(M<<7&4294967295|M>>>25),M=$+(j^b&(C^j))+O[5]+1200080426&4294967295,$=b+(M<<12&4294967295|M>>>20),M=j+(C^$&(b^C))+O[6]+2821735955&4294967295,j=$+(M<<17&4294967295|M>>>15),M=C+(b^j&($^b))+O[7]+4249261313&4294967295,C=j+(M<<22&4294967295|M>>>10),M=b+($^C&(j^$))+O[8]+1770035416&4294967295,b=C+(M<<7&4294967295|M>>>25),M=$+(j^b&(C^j))+O[9]+2336552879&4294967295,$=b+(M<<12&4294967295|M>>>20),M=j+(C^$&(b^C))+O[10]+4294925233&4294967295,j=$+(M<<17&4294967295|M>>>15),M=C+(b^j&($^b))+O[11]+2304563134&4294967295,C=j+(M<<22&4294967295|M>>>10),M=b+($^C&(j^$))+O[12]+1804603682&4294967295,b=C+(M<<7&4294967295|M>>>25),M=$+(j^b&(C^j))+O[13]+4254626195&4294967295,$=b+(M<<12&4294967295|M>>>20),M=j+(C^$&(b^C))+O[14]+2792965006&4294967295,j=$+(M<<17&4294967295|M>>>15),M=C+(b^j&($^b))+O[15]+1236535329&4294967295,C=j+(M<<22&4294967295|M>>>10),M=b+(j^$&(C^j))+O[1]+4129170786&4294967295,b=C+(M<<5&4294967295|M>>>27),M=$+(C^j&(b^C))+O[6]+3225465664&4294967295,$=b+(M<<9&4294967295|M>>>23),M=j+(b^C&($^b))+O[11]+643717713&4294967295,j=$+(M<<14&4294967295|M>>>18),M=C+($^b&(j^$))+O[0]+3921069994&4294967295,C=j+(M<<20&4294967295|M>>>12),M=b+(j^$&(C^j))+O[5]+3593408605&4294967295,b=C+(M<<5&4294967295|M>>>27),M=$+(C^j&(b^C))+O[10]+38016083&4294967295,$=b+(M<<9&4294967295|M>>>23),M=j+(b^C&($^b))+O[15]+3634488961&4294967295,j=$+(M<<14&4294967295|M>>>18),M=C+($^b&(j^$))+O[4]+3889429448&4294967295,C=j+(M<<20&4294967295|M>>>12),M=b+(j^$&(C^j))+O[9]+568446438&4294967295,b=C+(M<<5&4294967295|M>>>27),M=$+(C^j&(b^C))+O[14]+3275163606&4294967295,$=b+(M<<9&4294967295|M>>>23),M=j+(b^C&($^b))+O[3]+4107603335&4294967295,j=$+(M<<14&4294967295|M>>>18),M=C+($^b&(j^$))+O[8]+1163531501&4294967295,C=j+(M<<20&4294967295|M>>>12),M=b+(j^$&(C^j))+O[13]+2850285829&4294967295,b=C+(M<<5&4294967295|M>>>27),M=$+(C^j&(b^C))+O[2]+4243563512&4294967295,$=b+(M<<9&4294967295|M>>>23),M=j+(b^C&($^b))+O[7]+1735328473&4294967295,j=$+(M<<14&4294967295|M>>>18),M=C+($^b&(j^$))+O[12]+2368359562&4294967295,C=j+(M<<20&4294967295|M>>>12),M=b+(C^j^$)+O[5]+4294588738&4294967295,b=C+(M<<4&4294967295|M>>>28),M=$+(b^C^j)+O[8]+2272392833&4294967295,$=b+(M<<11&4294967295|M>>>21),M=j+($^b^C)+O[11]+1839030562&4294967295,j=$+(M<<16&4294967295|M>>>16),M=C+(j^$^b)+O[14]+4259657740&4294967295,C=j+(M<<23&4294967295|M>>>9),M=b+(C^j^$)+O[1]+2763975236&4294967295,b=C+(M<<4&4294967295|M>>>28),M=$+(b^C^j)+O[4]+1272893353&4294967295,$=b+(M<<11&4294967295|M>>>21),M=j+($^b^C)+O[7]+4139469664&4294967295,j=$+(M<<16&4294967295|M>>>16),M=C+(j^$^b)+O[10]+3200236656&4294967295,C=j+(M<<23&4294967295|M>>>9),M=b+(C^j^$)+O[13]+681279174&4294967295,b=C+(M<<4&4294967295|M>>>28),M=$+(b^C^j)+O[0]+3936430074&4294967295,$=b+(M<<11&4294967295|M>>>21),M=j+($^b^C)+O[3]+3572445317&4294967295,j=$+(M<<16&4294967295|M>>>16),M=C+(j^$^b)+O[6]+76029189&4294967295,C=j+(M<<23&4294967295|M>>>9),M=b+(C^j^$)+O[9]+3654602809&4294967295,b=C+(M<<4&4294967295|M>>>28),M=$+(b^C^j)+O[12]+3873151461&4294967295,$=b+(M<<11&4294967295|M>>>21),M=j+($^b^C)+O[15]+530742520&4294967295,j=$+(M<<16&4294967295|M>>>16),M=C+(j^$^b)+O[2]+3299628645&4294967295,C=j+(M<<23&4294967295|M>>>9),M=b+(j^(C|~$))+O[0]+4096336452&4294967295,b=C+(M<<6&4294967295|M>>>26),M=$+(C^(b|~j))+O[7]+1126891415&4294967295,$=b+(M<<10&4294967295|M>>>22),M=j+(b^($|~C))+O[14]+2878612391&4294967295,j=$+(M<<15&4294967295|M>>>17),M=C+($^(j|~b))+O[5]+4237533241&4294967295,C=j+(M<<21&4294967295|M>>>11),M=b+(j^(C|~$))+O[12]+1700485571&4294967295,b=C+(M<<6&4294967295|M>>>26),M=$+(C^(b|~j))+O[3]+2399980690&4294967295,$=b+(M<<10&4294967295|M>>>22),M=j+(b^($|~C))+O[10]+4293915773&4294967295,j=$+(M<<15&4294967295|M>>>17),M=C+($^(j|~b))+O[1]+2240044497&4294967295,C=j+(M<<21&4294967295|M>>>11),M=b+(j^(C|~$))+O[8]+1873313359&4294967295,b=C+(M<<6&4294967295|M>>>26),M=$+(C^(b|~j))+O[15]+4264355552&4294967295,$=b+(M<<10&4294967295|M>>>22),M=j+(b^($|~C))+O[6]+2734768916&4294967295,j=$+(M<<15&4294967295|M>>>17),M=C+($^(j|~b))+O[13]+1309151649&4294967295,C=j+(M<<21&4294967295|M>>>11),M=b+(j^(C|~$))+O[4]+4149444226&4294967295,b=C+(M<<6&4294967295|M>>>26),M=$+(C^(b|~j))+O[11]+3174756917&4294967295,$=b+(M<<10&4294967295|M>>>22),M=j+(b^($|~C))+O[2]+718787259&4294967295,j=$+(M<<15&4294967295|M>>>17),M=C+($^(j|~b))+O[9]+3951481745&4294967295,x.g[0]=x.g[0]+b&4294967295,x.g[1]=x.g[1]+(j+(M<<21&4294967295|M>>>11))&4294967295,x.g[2]=x.g[2]+j&4294967295,x.g[3]=x.g[3]+$&4294967295}r.prototype.u=function(x,b){b===void 0&&(b=x.length);for(var C=b-this.blockSize,O=this.B,j=this.h,$=0;$<b;){if(j==0)for(;$<=C;)i(this,x,$),$+=this.blockSize;if(typeof x=="string"){for(;$<b;)if(O[j++]=x.charCodeAt($++),j==this.blockSize){i(this,O),j=0;break}}else for(;$<b;)if(O[j++]=x[$++],j==this.blockSize){i(this,O),j=0;break}}this.h=j,this.o+=b},r.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var b=1;b<x.length-8;++b)x[b]=0;var C=8*this.o;for(b=x.length-8;b<x.length;++b)x[b]=C&255,C/=256;for(this.u(x),x=Array(16),b=C=0;4>b;++b)for(var O=0;32>O;O+=8)x[C++]=this.g[b]>>>O&255;return x};function o(x,b){var C=u;return Object.prototype.hasOwnProperty.call(C,x)?C[x]:C[x]=b(x)}function l(x,b){this.h=b;for(var C=[],O=!0,j=x.length-1;0<=j;j--){var $=x[j]|0;O&&$==b||(C[j]=$,O=!1)}this.g=C}var u={};function h(x){return-128<=x&&128>x?o(x,function(b){return new l([b|0],0>b?-1:0)}):new l([x|0],0>x?-1:0)}function f(x){if(isNaN(x)||!isFinite(x))return y;if(0>x)return P(f(-x));for(var b=[],C=1,O=0;x>=C;O++)b[O]=x/C|0,C*=4294967296;return new l(b,0)}function m(x,b){if(x.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(x.charAt(0)=="-")return P(m(x.substring(1),b));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=f(Math.pow(b,8)),O=y,j=0;j<x.length;j+=8){var $=Math.min(8,x.length-j),M=parseInt(x.substring(j,j+$),b);8>$?($=f(Math.pow(b,$)),O=O.j($).add(f(M))):(O=O.j(C),O=O.add(f(M)))}return O}var y=h(0),v=h(1),T=h(16777216);n=l.prototype,n.m=function(){if(A(this))return-P(this).m();for(var x=0,b=1,C=0;C<this.g.length;C++){var O=this.i(C);x+=(0<=O?O:4294967296+O)*b,b*=4294967296}return x},n.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(k(this))return"0";if(A(this))return"-"+P(this).toString(x);for(var b=f(Math.pow(x,6)),C=this,O="";;){var j=J(C,b).g;C=q(C,j.j(b));var $=((0<C.g.length?C.g[0]:C.h)>>>0).toString(x);if(C=j,k(C))return $+O;for(;6>$.length;)$="0"+$;O=$+O}},n.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function k(x){if(x.h!=0)return!1;for(var b=0;b<x.g.length;b++)if(x.g[b]!=0)return!1;return!0}function A(x){return x.h==-1}n.l=function(x){return x=q(this,x),A(x)?-1:k(x)?0:1};function P(x){for(var b=x.g.length,C=[],O=0;O<b;O++)C[O]=~x.g[O];return new l(C,~x.h).add(v)}n.abs=function(){return A(this)?P(this):this},n.add=function(x){for(var b=Math.max(this.g.length,x.g.length),C=[],O=0,j=0;j<=b;j++){var $=O+(this.i(j)&65535)+(x.i(j)&65535),M=($>>>16)+(this.i(j)>>>16)+(x.i(j)>>>16);O=M>>>16,$&=65535,M&=65535,C[j]=M<<16|$}return new l(C,C[C.length-1]&-2147483648?-1:0)};function q(x,b){return x.add(P(b))}n.j=function(x){if(k(this)||k(x))return y;if(A(this))return A(x)?P(this).j(P(x)):P(P(this).j(x));if(A(x))return P(this.j(P(x)));if(0>this.l(T)&&0>x.l(T))return f(this.m()*x.m());for(var b=this.g.length+x.g.length,C=[],O=0;O<2*b;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(var j=0;j<x.g.length;j++){var $=this.i(O)>>>16,M=this.i(O)&65535,He=x.i(j)>>>16,lt=x.i(j)&65535;C[2*O+2*j]+=M*lt,B(C,2*O+2*j),C[2*O+2*j+1]+=$*lt,B(C,2*O+2*j+1),C[2*O+2*j+1]+=M*He,B(C,2*O+2*j+1),C[2*O+2*j+2]+=$*He,B(C,2*O+2*j+2)}for(O=0;O<b;O++)C[O]=C[2*O+1]<<16|C[2*O];for(O=b;O<2*b;O++)C[O]=0;return new l(C,0)};function B(x,b){for(;(x[b]&65535)!=x[b];)x[b+1]+=x[b]>>>16,x[b]&=65535,b++}function U(x,b){this.g=x,this.h=b}function J(x,b){if(k(b))throw Error("division by zero");if(k(x))return new U(y,y);if(A(x))return b=J(P(x),b),new U(P(b.g),P(b.h));if(A(b))return b=J(x,P(b)),new U(P(b.g),b.h);if(30<x.g.length){if(A(x)||A(b))throw Error("slowDivide_ only works with positive integers.");for(var C=v,O=b;0>=O.l(x);)C=Z(C),O=Z(O);var j=ne(C,1),$=ne(O,1);for(O=ne(O,2),C=ne(C,2);!k(O);){var M=$.add(O);0>=M.l(x)&&(j=j.add(C),$=M),O=ne(O,1),C=ne(C,1)}return b=q(x,j.j(b)),new U(j,b)}for(j=y;0<=x.l(b);){for(C=Math.max(1,Math.floor(x.m()/b.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),$=f(C),M=$.j(b);A(M)||0<M.l(x);)C-=O,$=f(C),M=$.j(b);k($)&&($=v),j=j.add($),x=q(x,M)}return new U(j,x)}n.A=function(x){return J(this,x).h},n.and=function(x){for(var b=Math.max(this.g.length,x.g.length),C=[],O=0;O<b;O++)C[O]=this.i(O)&x.i(O);return new l(C,this.h&x.h)},n.or=function(x){for(var b=Math.max(this.g.length,x.g.length),C=[],O=0;O<b;O++)C[O]=this.i(O)|x.i(O);return new l(C,this.h|x.h)},n.xor=function(x){for(var b=Math.max(this.g.length,x.g.length),C=[],O=0;O<b;O++)C[O]=this.i(O)^x.i(O);return new l(C,this.h^x.h)};function Z(x){for(var b=x.g.length+1,C=[],O=0;O<b;O++)C[O]=x.i(O)<<1|x.i(O-1)>>>31;return new l(C,x.h)}function ne(x,b){var C=b>>5;b%=32;for(var O=x.g.length-C,j=[],$=0;$<O;$++)j[$]=0<b?x.i($+C)>>>b|x.i($+C+1)<<32-b:x.i($+C);return new l(j,x.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Uk=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=m,fo=l}).apply(typeof g1<"u"?g1:typeof self<"u"?self:typeof window<"u"?window:{});var kd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $k,rc,Bk,jd,hy,zk,qk,Wk;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,_,E){return d==Array.prototype||d==Object.prototype||(d[_]=E.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof kd=="object"&&kd];for(var _=0;_<d.length;++_){var E=d[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=t(this);function i(d,_){if(_)e:{var E=r;d=d.split(".");for(var I=0;I<d.length-1;I++){var H=d[I];if(!(H in E))break e;E=E[H]}d=d[d.length-1],I=E[d],_=_(I),_!=I&&_!=null&&e(E,d,{configurable:!0,writable:!0,value:_})}}function o(d,_){d instanceof String&&(d+="");var E=0,I=!1,H={next:function(){if(!I&&E<d.length){var ee=E++;return{value:_(ee,d[ee]),done:!1}}return I=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}i("Array.prototype.values",function(d){return d||function(){return o(this,function(_,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function h(d){var _=typeof d;return _=_!="object"?_:d?Array.isArray(d)?"array":_:"null",_=="array"||_=="object"&&typeof d.length=="number"}function f(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function m(d,_,E){return d.call.apply(d.bind,arguments)}function y(d,_,E){if(!d)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,I),d.apply(_,H)}}return function(){return d.apply(_,arguments)}}function v(d,_,E){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:y,v.apply(null,arguments)}function T(d,_){var E=Array.prototype.slice.call(arguments,1);return function(){var I=E.slice();return I.push.apply(I,arguments),d.apply(this,I)}}function k(d,_){function E(){}E.prototype=_.prototype,d.aa=_.prototype,d.prototype=new E,d.prototype.constructor=d,d.Qb=function(I,H,ee){for(var ce=Array(arguments.length-2),vt=2;vt<arguments.length;vt++)ce[vt-2]=arguments[vt];return _.prototype[H].apply(I,ce)}}function A(d){const _=d.length;if(0<_){const E=Array(_);for(let I=0;I<_;I++)E[I]=d[I];return E}return[]}function P(d,_){for(let E=1;E<arguments.length;E++){const I=arguments[E];if(h(I)){const H=d.length||0,ee=I.length||0;d.length=H+ee;for(let ce=0;ce<ee;ce++)d[H+ce]=I[ce]}else d.push(I)}}class q{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function B(d){return/^[\s\xa0]*$/.test(d)}function U(){var d=u.navigator;return d&&(d=d.userAgent)?d:""}function J(d){return J[" "](d),d}J[" "]=function(){};var Z=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function ne(d,_,E){for(const I in d)_.call(E,d[I],I,d)}function x(d,_){for(const E in d)_.call(void 0,d[E],E,d)}function b(d){const _={};for(const E in d)_[E]=d[E];return _}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(d,_){let E,I;for(let H=1;H<arguments.length;H++){I=arguments[H];for(E in I)d[E]=I[E];for(let ee=0;ee<C.length;ee++)E=C[ee],Object.prototype.hasOwnProperty.call(I,E)&&(d[E]=I[E])}}function j(d){var _=1;d=d.split(":");const E=[];for(;0<_&&d.length;)E.push(d.shift()),_--;return d.length&&E.push(d.join(":")),E}function $(d){u.setTimeout(()=>{throw d},0)}function M(){var d=Se;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class He{constructor(){this.h=this.g=null}add(_,E){const I=lt.get();I.set(_,E),this.h?this.h.next=I:this.g=I,this.h=I}}var lt=new q(()=>new dt,d=>d.reset());class dt{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Ce,Q=!1,Se=new He,L=()=>{const d=u.Promise.resolve(void 0);Ce=()=>{d.then(re)}};var re=()=>{for(var d;d=M();){try{d.h.call(d.g)}catch(E){$(E)}var _=lt;_.j(d),100>_.h&&(_.h++,d.next=_.g,_.g=d)}Q=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var Ae=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};u.addEventListener("test",E,_),u.removeEventListener("test",E,_)}catch{}return d}();function Ve(d,_){if(fe.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var E=this.type=d.type,I=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget){if(Z){e:{try{J(_.nodeName);var H=!0;break e}catch{}H=!1}H||(_=null)}}else E=="mouseover"?_=d.fromElement:E=="mouseout"&&(_=d.toElement);this.relatedTarget=_,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:qe[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Ve.aa.h.call(this)}}k(Ve,fe);var qe={2:"touch",3:"pen",4:"mouse"};Ve.prototype.h=function(){Ve.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Re="closure_listenable_"+(1e6*Math.random()|0),Qe=0;function Nt(d,_,E,I,H){this.listener=d,this.proxy=null,this.src=_,this.type=E,this.capture=!!I,this.ha=H,this.key=++Qe,this.da=this.fa=!1}function ur(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Un(d){this.src=d,this.g={},this.h=0}Un.prototype.add=function(d,_,E,I,H){var ee=d.toString();d=this.g[ee],d||(d=this.g[ee]=[],this.h++);var ce=$n(d,_,I,H);return-1<ce?(_=d[ce],E||(_.fa=!1)):(_=new Nt(_,this.src,ee,!!I,H),_.fa=E,d.push(_)),_};function wt(d,_){var E=_.type;if(E in d.g){var I=d.g[E],H=Array.prototype.indexOf.call(I,_,void 0),ee;(ee=0<=H)&&Array.prototype.splice.call(I,H,1),ee&&(ur(_),d.g[E].length==0&&(delete d.g[E],d.h--))}}function $n(d,_,E,I){for(var H=0;H<d.length;++H){var ee=d[H];if(!ee.da&&ee.listener==_&&ee.capture==!!E&&ee.ha==I)return H}return-1}var ui="closure_lm_"+(1e6*Math.random()|0),Es={};function cr(d,_,E,I,H){if(Array.isArray(_)){for(var ee=0;ee<_.length;ee++)cr(d,_[ee],E,I,H);return null}return E=$r(E),d&&d[Re]?d.K(_,E,f(I)?!!I.capture:!1,H):Co(d,_,E,!1,I,H)}function Co(d,_,E,I,H,ee){if(!_)throw Error("Invalid event type");var ce=f(H)?!!H.capture:!!H,vt=Ts(d);if(vt||(d[ui]=vt=new Un(d)),E=vt.add(_,E,I,ce,ee),E.proxy)return E;if(I=Da(),E.proxy=I,I.src=d,I.listener=E,d.addEventListener)Ae||(H=ce),H===void 0&&(H=!1),d.addEventListener(_.toString(),I,H);else if(d.attachEvent)d.attachEvent(Ur(_.toString()),I);else if(d.addListener&&d.removeListener)d.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Da(){function d(E){return _.call(d.src,d.listener,E)}const _=Do;return d}function Vi(d,_,E,I,H){if(Array.isArray(_))for(var ee=0;ee<_.length;ee++)Vi(d,_[ee],E,I,H);else I=f(I)?!!I.capture:!!I,E=$r(E),d&&d[Re]?(d=d.i,_=String(_).toString(),_ in d.g&&(ee=d.g[_],E=$n(ee,E,I,H),-1<E&&(ur(ee[E]),Array.prototype.splice.call(ee,E,1),ee.length==0&&(delete d.g[_],d.h--)))):d&&(d=Ts(d))&&(_=d.g[_.toString()],d=-1,_&&(d=$n(_,E,I,H)),(E=-1<d?_[d]:null)&&Fr(E))}function Fr(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[Re])wt(_.i,d);else{var E=d.type,I=d.proxy;_.removeEventListener?_.removeEventListener(E,I,d.capture):_.detachEvent?_.detachEvent(Ur(E),I):_.addListener&&_.removeListener&&_.removeListener(I),(E=Ts(_))?(wt(E,d),E.h==0&&(E.src=null,_[ui]=null)):ur(d)}}}function Ur(d){return d in Es?Es[d]:Es[d]="on"+d}function Do(d,_){if(d.da)d=!0;else{_=new Ve(_,this);var E=d.listener,I=d.ha||d.src;d.fa&&Fr(d),d=E.call(I,_)}return d}function Ts(d){return d=d[ui],d instanceof Un?d:null}var Gn="__closure_events_fn_"+(1e9*Math.random()>>>0);function $r(d){return typeof d=="function"?d:(d[Gn]||(d[Gn]=function(_){return d.handleEvent(_)}),d[Gn])}function $t(){de.call(this),this.i=new Un(this),this.M=this,this.F=null}k($t,de),$t.prototype[Re]=!0,$t.prototype.removeEventListener=function(d,_,E,I){Vi(this,d,_,E,I)};function Mt(d,_){var E,I=d.F;if(I)for(E=[];I;I=I.F)E.push(I);if(d=d.M,I=_.type||_,typeof _=="string")_=new fe(_,d);else if(_ instanceof fe)_.target=_.target||d;else{var H=_;_=new fe(I,d),O(_,H)}if(H=!0,E)for(var ee=E.length-1;0<=ee;ee--){var ce=_.g=E[ee];H=un(ce,I,!0,_)&&H}if(ce=_.g=d,H=un(ce,I,!0,_)&&H,H=un(ce,I,!1,_)&&H,E)for(ee=0;ee<E.length;ee++)ce=_.g=E[ee],H=un(ce,I,!1,_)&&H}$t.prototype.N=function(){if($t.aa.N.call(this),this.i){var d=this.i,_;for(_ in d.g){for(var E=d.g[_],I=0;I<E.length;I++)ur(E[I]);delete d.g[_],d.h--}}this.F=null},$t.prototype.K=function(d,_,E,I){return this.i.add(String(d),_,!1,E,I)},$t.prototype.L=function(d,_,E,I){return this.i.add(String(d),_,!0,E,I)};function un(d,_,E,I){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();for(var H=!0,ee=0;ee<_.length;++ee){var ce=_[ee];if(ce&&!ce.da&&ce.capture==E){var vt=ce.listener,rn=ce.ha||ce.src;ce.fa&&wt(d.i,ce),H=vt.call(rn,I)!==!1&&H}}return H&&!I.defaultPrevented}function Bn(d,_,E){if(typeof d=="function")E&&(d=v(d,E));else if(d&&typeof d.handleEvent=="function")d=v(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:u.setTimeout(d,_||0)}function Br(d){d.g=Bn(()=>{d.g=null,d.i&&(d.i=!1,Br(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class br extends de{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Br(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ji(d){de.call(this),this.h=d,this.g={}}k(ji,de);var Kn=[];function Ss(d){ne(d.g,function(_,E){this.g.hasOwnProperty(E)&&Fr(_)},d),d.g={}}ji.prototype.N=function(){ji.aa.N.call(this),Ss(this)},ji.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bs=u.JSON.stringify,xs=u.JSON.parse,Oo=class{stringify(d){return u.JSON.stringify(d,void 0)}parse(d){return u.JSON.parse(d,void 0)}};function ci(){}ci.prototype.h=null;function zr(d){return d.h||(d.h=d.i())}function Fi(){}var kn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qn(){fe.call(this,"d")}k(Qn,fe);function ks(){fe.call(this,"c")}k(ks,fe);var hr={},No=null;function hi(){return No=No||new $t}hr.La="serverreachability";function di(d){fe.call(this,hr.La,d)}k(di,fe);function Jn(d){const _=hi();Mt(_,new di(_))}hr.STAT_EVENT="statevent";function Mo(d,_){fe.call(this,hr.STAT_EVENT,d),this.stat=_}k(Mo,fe);function Lt(d){const _=hi();Mt(_,new Mo(_,d))}hr.Ma="timingevent";function V(d,_){fe.call(this,hr.Ma,d),this.size=_}k(V,fe);function W(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){d()},_)}function X(){this.g=!0}X.prototype.xa=function(){this.g=!1};function se(d,_,E,I,H,ee){d.info(function(){if(d.g)if(ee)for(var ce="",vt=ee.split("&"),rn=0;rn<vt.length;rn++){var ut=vt[rn].split("=");if(1<ut.length){var cn=ut[0];ut=ut[1];var Jt=cn.split("_");ce=2<=Jt.length&&Jt[1]=="type"?ce+(cn+"="+ut+"&"):ce+(cn+"=redacted&")}}else ce=null;else ce=ee;return"XMLHTTP REQ ("+I+") [attempt "+H+"]: "+_+`
`+E+`
`+ce})}function he(d,_,E,I,H,ee,ce){d.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+H+"]: "+_+`
`+E+`
`+ee+" "+ce})}function we(d,_,E,I){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+Ee(d,E)+(I?" "+I:"")})}function Oe(d,_){d.info(function(){return"TIMEOUT: "+_})}X.prototype.info=function(){};function Ee(d,_){if(!d.g)return _;if(!_)return null;try{var E=JSON.parse(_);if(E){for(d=0;d<E.length;d++)if(Array.isArray(E[d])){var I=E[d];if(!(2>I.length)){var H=I[1];if(Array.isArray(H)&&!(1>H.length)){var ee=H[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(var ce=1;ce<H.length;ce++)H[ce]=""}}}}return bs(E)}catch{return _}}var _e={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ge={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ye;function je(){}k(je,ci),je.prototype.g=function(){return new XMLHttpRequest},je.prototype.i=function(){return{}},ye=new je;function Be(d,_,E,I){this.j=d,this.i=_,this.l=E,this.R=I||1,this.U=new ji(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Bt}function Bt(){this.i=null,this.g="",this.h=!1}var ft={},Ye={};function yt(d,_,E){d.L=1,d.v=Cs(pr(_)),d.m=E,d.P=!0,xr(d,null)}function xr(d,_){d.F=Date.now(),Ze(d),d.A=pr(d.v);var E=d.A,I=d.R;Array.isArray(I)||(I=[String(I)]),Os(E.i,"t",I),d.C=0,E=d.j.J,d.h=new Bt,d.g=gh(d.j,E?_:null,!d.m),0<d.O&&(d.M=new br(v(d.Y,d,d.g),d.O)),_=d.U,E=d.g,I=d.ca;var H="readystatechange";Array.isArray(H)||(H&&(Kn[0]=H.toString()),H=Kn);for(var ee=0;ee<H.length;ee++){var ce=cr(E,H[ee],I||_.handleEvent,!1,_.h||_);if(!ce)break;_.g[ce.key]=ce}_=d.H?b(d.H):{},d.m?(d.u||(d.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,_)):(d.u="GET",d.g.ea(d.A,d.u,null,_)),Jn(),se(d.i,d.u,d.A,d.l,d.R,d.m)}Be.prototype.ca=function(d){d=d.target;const _=this.M;_&&Yn(d)==3?_.j():this.Y(d)},Be.prototype.Y=function(d){try{if(d==this.g)e:{const Jt=Yn(this.g);var _=this.g.Ba();const Ar=this.g.Z();if(!(3>Jt)&&(Jt!=3||this.g&&(this.h.h||this.g.oa()||yu(this.g)))){this.J||Jt!=4||_==7||(_==8||0>=Ar?Jn(3):Jn(2)),fr(this);var E=this.g.Z();this.X=E;t:if(fi(this)){var I=yu(this.g);d="";var H=I.length,ee=Yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yn(this),In(this);var ce="";break t}this.h.i=new u.TextDecoder}for(_=0;_<H;_++)this.h.h=!0,d+=this.h.i.decode(I[_],{stream:!(ee&&_==H-1)});I.length=0,this.h.g+=d,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=E==200,he(this.i,this.u,this.A,this.l,this.R,Jt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var vt,rn=this.g;if((vt=rn.g?rn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(vt)){var ut=vt;break t}}ut=null}if(E=ut)we(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pi(this,E);else{this.o=!1,this.s=3,Lt(12),yn(this),In(this);break e}}if(this.P){E=!0;let gr;for(;!this.J&&this.C<ce.length;)if(gr=dr(this,ce),gr==Ye){Jt==4&&(this.s=4,Lt(14),E=!1),we(this.i,this.l,null,"[Incomplete Response]");break}else if(gr==ft){this.s=4,Lt(15),we(this.i,this.l,ce,"[Invalid Chunk]"),E=!1;break}else we(this.i,this.l,gr,null),pi(this,gr);if(fi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Jt!=4||ce.length!=0||this.h.h||(this.s=1,Lt(16),E=!1),this.o=this.o&&E,!E)we(this.i,this.l,ce,"[Invalid Chunked Response]"),yn(this),In(this);else if(0<ce.length&&!this.W){this.W=!0;var cn=this.j;cn.g==this&&cn.ba&&!cn.M&&(cn.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),_u(cn),cn.M=!0,Lt(11))}}else we(this.i,this.l,ce,null),pi(this,ce);Jt==4&&yn(this),this.o&&!this.J&&(Jt==4?qa(this.j,this):(this.o=!1,Ze(this)))}else Fa(this.g),E==400&&0<ce.indexOf("Unknown SID")?(this.s=3,Lt(12)):(this.s=0,Lt(13)),yn(this),In(this)}}}catch{}finally{}};function fi(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function dr(d,_){var E=d.C,I=_.indexOf(`
`,E);return I==-1?Ye:(E=Number(_.substring(E,I)),isNaN(E)?ft:(I+=1,I+E>_.length?Ye:(_=_.slice(I,I+E),d.C=I+E,_)))}Be.prototype.cancel=function(){this.J=!0,yn(this)};function Ze(d){d.S=Date.now()+d.I,Is(d,d.I)}function Is(d,_){if(d.B!=null)throw Error("WatchDog timer not null");d.B=W(v(d.ba,d),_)}function fr(d){d.B&&(u.clearTimeout(d.B),d.B=null)}Be.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Oe(this.i,this.A),this.L!=2&&(Jn(),Lt(17)),yn(this),this.s=2,In(this)):Is(this,this.S-d)};function In(d){d.j.G==0||d.J||qa(d.j,d)}function yn(d){fr(d);var _=d.M;_&&typeof _.ma=="function"&&_.ma(),d.M=null,Ss(d.U),d.g&&(_=d.g,d.g=null,_.abort(),_.ma())}function pi(d,_){try{var E=d.j;if(E.G!=0&&(E.g==d||rt(E.h,d))){if(!d.K&&rt(E.h,d)&&E.G==3){try{var I=E.Da.g.parse(_)}catch{I=null}if(Array.isArray(I)&&I.length==3){var H=I;if(H[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<d.F)za(E),Kr(E);else break e;Ba(E),Lt(18)}}else E.za=H[1],0<E.za-E.T&&37500>H[2]&&E.F&&E.v==0&&!E.C&&(E.C=W(v(E.Za,E),6e3));if(1>=mi(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else qi(E,11)}else if((d.K||E.g==d)&&za(E),!B(_))for(H=E.Da.g.parse(_),_=0;_<H.length;_++){let ut=H[_];if(E.T=ut[0],ut=ut[1],E.G==2)if(ut[0]=="c"){E.K=ut[1],E.ia=ut[2];const cn=ut[3];cn!=null&&(E.la=cn,E.j.info("VER="+E.la));const Jt=ut[4];Jt!=null&&(E.Aa=Jt,E.j.info("SVER="+E.Aa));const Ar=ut[5];Ar!=null&&typeof Ar=="number"&&0<Ar&&(I=1.5*Ar,E.L=I,E.j.info("backChannelRequestTimeoutMs_="+I)),I=E;const gr=d.g;if(gr){const Bo=gr.g?gr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bo){var ee=I.h;ee.g||Bo.indexOf("spdy")==-1&&Bo.indexOf("quic")==-1&&Bo.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(kr(ee,ee.h),ee.h=null))}if(I.D){const Ha=gr.g?gr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ha&&(I.ya=Ha,Et(I.I,I.D,Ha))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-d.F,E.j.info("Handshake RTT: "+E.R+"ms")),I=E;var ce=d;if(I.qa=mh(I,I.J?I.ia:null,I.W),ce.K){Lo(I.h,ce);var vt=ce,rn=I.L;rn&&(vt.I=rn),vt.B&&(fr(vt),Ze(vt)),I.g=ce}else $o(I);0<E.i.length&&_i(E)}else ut[0]!="stop"&&ut[0]!="close"||qi(E,7);else E.G==3&&(ut[0]=="stop"||ut[0]=="close"?ut[0]=="stop"?qi(E,7):_n(E):ut[0]!="noop"&&E.l&&E.l.ta(ut),E.v=0)}}Jn(4)}catch{}}var et=class{constructor(d,_){this.g=d,this.map=_}};function mt(d){this.l=d||10,u.PerformanceNavigationTiming?(d=u.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qt(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function mi(d){return d.h?1:d.g?d.g.size:0}function rt(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function kr(d,_){d.g?d.g.add(_):d.h=_}function Lo(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}mt.prototype.cancel=function(){if(this.i=Oa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Oa(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const E of d.g.values())_=_.concat(E.D);return _}return A(d.i)}function Na(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(h(d)){for(var _=[],E=d.length,I=0;I<E;I++)_.push(d[I]);return _}_=[],E=0;for(I in d)_[E++]=d[I];return _}function Ma(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(h(d)||typeof d=="string"){var _=[];d=d.length;for(var E=0;E<d;E++)_.push(E);return _}_=[],E=0;for(const I in d)_[E++]=I;return _}}}function As(d,_){if(d.forEach&&typeof d.forEach=="function")d.forEach(_,void 0);else if(h(d)||typeof d=="string")Array.prototype.forEach.call(d,_,void 0);else for(var E=Ma(d),I=Na(d),H=I.length,ee=0;ee<H;ee++)_.call(void 0,I[ee],E&&E[ee],d)}var Vo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cp(d,_){if(d){d=d.split("&");for(var E=0;E<d.length;E++){var I=d[E].indexOf("="),H=null;if(0<=I){var ee=d[E].substring(0,I);H=d[E].substring(I+1)}else ee=d[E];_(ee,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Ui(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Ui){this.h=d.h,jo(this,d.j),this.o=d.o,this.g=d.g,Ps(this,d.s),this.l=d.l;var _=d.i,E=new gi;E.i=_.i,_.g&&(E.g=new Map(_.g),E.h=_.h),Rs(this,E),this.m=d.m}else d&&(_=String(d).match(Vo))?(this.h=!1,jo(this,_[1]||"",!0),this.o=ot(_[2]||""),this.g=ot(_[3]||"",!0),Ps(this,_[4]),this.l=ot(_[5]||"",!0),Rs(this,_[6]||"",!0),this.m=ot(_[7]||"")):(this.h=!1,this.i=new gi(null,this.h))}Ui.prototype.toString=function(){var d=[],_=this.j;_&&d.push(Ds(_,La,!0),":");var E=this.g;return(E||_=="file")&&(d.push("//"),(_=this.o)&&d.push(Ds(_,La,!0),"@"),d.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&d.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(Ds(E,E.charAt(0)=="/"?ah:oh,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",Ds(E,pu)),d.join("")};function pr(d){return new Ui(d)}function jo(d,_,E){d.j=E?ot(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function Ps(d,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);d.s=_}else d.s=null}function Rs(d,_,E){_ instanceof gi?(d.i=_,yi(d.i,d.h)):(E||(_=Ds(_,lh)),d.i=new gi(_,d.h))}function Et(d,_,E){d.i.set(_,E)}function Cs(d){return Et(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function ot(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Ds(d,_,E){return typeof d=="string"?(d=encodeURI(d).replace(_,sh),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function sh(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var La=/[#\/\?@]/g,oh=/[#\?:]/g,ah=/[#\?]/g,lh=/[#\?@]/g,pu=/#/g;function gi(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function vn(d){d.g||(d.g=new Map,d.h=0,d.i&&cp(d.i,function(_,E){d.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}n=gi.prototype,n.add=function(d,_){vn(this),this.i=null,d=Ir(this,d);var E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(_),this.h+=1,this};function qr(d,_){vn(d),_=Ir(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function Wr(d,_){return vn(d),_=Ir(d,_),d.g.has(_)}n.forEach=function(d,_){vn(this),this.g.forEach(function(E,I){E.forEach(function(H){d.call(_,H,I,this)},this)},this)},n.na=function(){vn(this);const d=Array.from(this.g.values()),_=Array.from(this.g.keys()),E=[];for(let I=0;I<_.length;I++){const H=d[I];for(let ee=0;ee<H.length;ee++)E.push(_[I])}return E},n.V=function(d){vn(this);let _=[];if(typeof d=="string")Wr(this,d)&&(_=_.concat(this.g.get(Ir(this,d))));else{d=Array.from(this.g.values());for(let E=0;E<d.length;E++)_=_.concat(d[E])}return _},n.set=function(d,_){return vn(this),this.i=null,d=Ir(this,d),Wr(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},n.get=function(d,_){return d?(d=this.V(d),0<d.length?String(d[0]):_):_};function Os(d,_,E){qr(d,_),0<E.length&&(d.i=null,d.g.set(Ir(d,_),A(E)),d.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(var E=0;E<_.length;E++){var I=_[E];const ee=encodeURIComponent(String(I)),ce=this.V(I);for(I=0;I<ce.length;I++){var H=ee;ce[I]!==""&&(H+="="+encodeURIComponent(String(ce[I]))),d.push(H)}}return this.i=d.join("&")};function Ir(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function yi(d,_){_&&!d.j&&(vn(d),d.i=null,d.g.forEach(function(E,I){var H=I.toLowerCase();I!=H&&(qr(this,I),Os(this,H,E))},d)),d.j=_}function hp(d,_){const E=new X;if(u.Image){const I=new Image;I.onload=T(Xn,E,"TestLoadImage: loaded",!0,_,I),I.onerror=T(Xn,E,"TestLoadImage: error",!1,_,I),I.onabort=T(Xn,E,"TestLoadImage: abort",!1,_,I),I.ontimeout=T(Xn,E,"TestLoadImage: timeout",!1,_,I),u.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=d}else _(!1)}function uh(d,_){const E=new X,I=new AbortController,H=setTimeout(()=>{I.abort(),Xn(E,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:I.signal}).then(ee=>{clearTimeout(H),ee.ok?Xn(E,"TestPingServer: ok",!0,_):Xn(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(H),Xn(E,"TestPingServer: error",!1,_)})}function Xn(d,_,E,I,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),I(E)}catch{}}function dp(){this.g=new Oo}function ch(d,_,E){const I=E||"";try{As(d,function(H,ee){let ce=H;f(H)&&(ce=bs(H)),_.push(I+ee+"="+encodeURIComponent(ce))})}catch(H){throw _.push(I+"type="+encodeURIComponent("_badmap")),H}}function $i(d){this.l=d.Ub||null,this.j=d.eb||!1}k($i,ci),$i.prototype.g=function(){return new Fo(this.l,this.j)},$i.prototype.i=function(d){return function(){return d}}({});function Fo(d,_){$t.call(this),this.D=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(Fo,$t),n=Fo.prototype,n.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=_,this.readyState=1,Gr(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(_.body=d),(this.D||u).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hr(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Gr(this)),this.g&&(this.readyState=3,Gr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;hh(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function hh(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?Hr(this):Gr(this),this.readyState==3&&hh(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,Hr(this))},n.Qa=function(d){this.g&&(this.response=d,Hr(this))},n.ga=function(){this.g&&Hr(this)};function Hr(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Gr(d)}n.setRequestHeader=function(d,_){this.u.append(d,_)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=_.next();return d.join(`\r
`)};function Gr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Fo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Bi(d){let _="";return ne(d,function(E,I){_+=I,_+=":",_+=E,_+=`\r
`}),_}function Ns(d,_,E){e:{for(I in E){var I=!1;break e}I=!0}I||(E=Bi(E),typeof d=="string"?E!=null&&encodeURIComponent(String(E)):Et(d,_,E))}function Ct(d){$t.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(Ct,$t);var fp=/^https?$/i,mu=["POST","PUT"];n=Ct.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,_,E,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ye.g(),this.v=this.o?zr(this.o):zr(ye),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(ee){Uo(this,ee);return}if(d=E||"",E=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var H in I)E.set(H,I[H]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const ee of I.keys())E.set(ee,I.get(ee));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(E.keys()).find(ee=>ee.toLowerCase()=="content-type"),H=u.FormData&&d instanceof u.FormData,!(0<=Array.prototype.indexOf.call(mu,_,void 0))||I||H||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,ce]of E)this.g.setRequestHeader(ee,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ja(this),this.u=!0,this.g.send(d),this.u=!1}catch(ee){Uo(this,ee)}};function Uo(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.m=5,Va(d),mr(d)}function Va(d){d.A||(d.A=!0,Mt(d,"complete"),Mt(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Mt(this,"complete"),Mt(this,"abort"),mr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mr(this,!0)),Ct.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?gu(this):this.bb())},n.bb=function(){gu(this)};function gu(d){if(d.h&&typeof l<"u"&&(!d.v[1]||Yn(d)!=4||d.Z()!=2)){if(d.u&&Yn(d)==4)Bn(d.Ea,0,d);else if(Mt(d,"readystatechange"),Yn(d)==4){d.h=!1;try{const ce=d.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var I;if(I=ce===0){var H=String(d.D).match(Vo)[1]||null;!H&&u.self&&u.self.location&&(H=u.self.location.protocol.slice(0,-1)),I=!fp.test(H?H.toLowerCase():"")}E=I}if(E)Mt(d,"complete"),Mt(d,"success");else{d.m=6;try{var ee=2<Yn(d)?d.g.statusText:""}catch{ee=""}d.l=ee+" ["+d.Z()+"]",Va(d)}}finally{mr(d)}}}}function mr(d,_){if(d.g){ja(d);const E=d.g,I=d.v[0]?()=>{}:null;d.g=null,d.v=null,_||Mt(d,"ready");try{E.onreadystatechange=I}catch{}}}function ja(d){d.I&&(u.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function Yn(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<Yn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),xs(_)}};function yu(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Fa(d){const _={};d=(d.g&&2<=Yn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<d.length;I++){if(B(d[I]))continue;var E=j(d[I]);const H=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const ee=_[H]||[];_[H]=ee,ee.push(E)}x(_,function(I){return I.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function vi(d,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||_}function vu(d){this.Aa=0,this.i=[],this.j=new X,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=vi("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=vi("baseRetryDelayMs",5e3,d),this.cb=vi("retryDelaySeedMs",1e4,d),this.Wa=vi("forwardChannelMaxRetries",2,d),this.wa=vi("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new mt(d&&d.concurrentRequestLimit),this.Da=new dp,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=vu.prototype,n.la=8,n.G=1,n.connect=function(d,_,E,I){Lt(0),this.W=d,this.H=_||{},E&&I!==void 0&&(this.H.OSID=E,this.H.OAID=I),this.F=this.X,this.I=mh(this,null,this.W),_i(this)};function _n(d){if(Ua(d),d.G==3){var _=d.U++,E=pr(d.I);if(Et(E,"SID",d.K),Et(E,"RID",_),Et(E,"TYPE","terminate"),zi(d,E),_=new Be(d,d.j,_),_.L=2,_.v=Cs(pr(E)),E=!1,u.navigator&&u.navigator.sendBeacon)try{E=u.navigator.sendBeacon(_.v.toString(),"")}catch{}!E&&u.Image&&(new Image().src=_.v,E=!0),E||(_.g=gh(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Ze(_)}ph(d)}function Kr(d){d.g&&(_u(d),d.g.cancel(),d.g=null)}function Ua(d){Kr(d),d.u&&(u.clearTimeout(d.u),d.u=null),za(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&u.clearTimeout(d.s),d.s=null)}function _i(d){if(!Qt(d.h)&&!d.s){d.s=!0;var _=d.Ga;Ce||L(),Q||(Ce(),Q=!0),Se.add(_,d),d.B=0}}function pp(d,_){return mi(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=_.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=W(v(d.Ga,d,_),fh(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const H=new Be(this,this.j,d);let ee=this.o;if(this.S&&(ee?(ee=b(ee),O(ee,this.S)):ee=this.S),this.m!==null||this.O||(H.H=ee,ee=null),this.P)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var I=this.i[E];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(_+=I,4096<_){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=Ms(this,H,_),E=pr(this.I),Et(E,"RID",d),Et(E,"CVER",22),this.D&&Et(E,"X-HTTP-Session-Id",this.D),zi(this,E),ee&&(this.O?_="headers="+encodeURIComponent(String(Bi(ee)))+"&"+_:this.m&&Ns(E,this.m,ee)),kr(this.h,H),this.Ua&&Et(E,"TYPE","init"),this.P?(Et(E,"$req",_),Et(E,"SID","null"),H.T=!0,yt(H,E,null)):yt(H,E,_),this.G=2}}else this.G==3&&(d?$a(this,d):this.i.length==0||Qt(this.h)||$a(this))};function $a(d,_){var E;_?E=_.l:E=d.U++;const I=pr(d.I);Et(I,"SID",d.K),Et(I,"RID",E),Et(I,"AID",d.T),zi(d,I),d.m&&d.o&&Ns(I,d.m,d.o),E=new Be(d,d.j,E,d.B+1),d.m===null&&(E.H=d.o),_&&(d.i=_.D.concat(d.i)),_=Ms(d,E,1e3),E.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),kr(d.h,E),yt(E,I,_)}function zi(d,_){d.H&&ne(d.H,function(E,I){Et(_,I,E)}),d.l&&As({},function(E,I){Et(_,I,E)})}function Ms(d,_,E){E=Math.min(d.i.length,E);var I=d.l?v(d.l.Na,d.l,d):null;e:{var H=d.i;let ee=-1;for(;;){const ce=["count="+E];ee==-1?0<E?(ee=H[0].g,ce.push("ofs="+ee)):ee=0:ce.push("ofs="+ee);let vt=!0;for(let rn=0;rn<E;rn++){let ut=H[rn].g;const cn=H[rn].map;if(ut-=ee,0>ut)ee=Math.max(0,H[rn].g-100),vt=!1;else try{ch(cn,ce,"req"+ut+"_")}catch{I&&I(cn)}}if(vt){I=ce.join("&");break e}}}return d=d.i.splice(0,E),_.D=d,I}function $o(d){if(!d.g&&!d.u){d.Y=1;var _=d.Fa;Ce||L(),Q||(Ce(),Q=!0),Se.add(_,d),d.v=0}}function Ba(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=W(v(d.Fa,d),fh(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,dh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=W(v(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Lt(10),Kr(this),dh(this))};function _u(d){d.A!=null&&(u.clearTimeout(d.A),d.A=null)}function dh(d){d.g=new Be(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var _=pr(d.qa);Et(_,"RID","rpc"),Et(_,"SID",d.K),Et(_,"AID",d.T),Et(_,"CI",d.F?"0":"1"),!d.F&&d.ja&&Et(_,"TO",d.ja),Et(_,"TYPE","xmlhttp"),zi(d,_),d.m&&d.o&&Ns(_,d.m,d.o),d.L&&(d.g.I=d.L);var E=d.g;d=d.ia,E.L=1,E.v=Cs(pr(_)),E.m=null,E.P=!0,xr(E,d)}n.Za=function(){this.C!=null&&(this.C=null,Kr(this),Ba(this),Lt(19))};function za(d){d.C!=null&&(u.clearTimeout(d.C),d.C=null)}function qa(d,_){var E=null;if(d.g==_){za(d),_u(d),d.g=null;var I=2}else if(rt(d.h,_))E=_.D,Lo(d.h,_),I=1;else return;if(d.G!=0){if(_.o)if(I==1){E=_.m?_.m.length:0,_=Date.now()-_.F;var H=d.B;I=hi(),Mt(I,new V(I,E)),_i(d)}else $o(d);else if(H=_.s,H==3||H==0&&0<_.X||!(I==1&&pp(d,_)||I==2&&Ba(d)))switch(E&&0<E.length&&(_=d.h,_.i=_.i.concat(E)),H){case 1:qi(d,5);break;case 4:qi(d,10);break;case 3:qi(d,6);break;default:qi(d,2)}}}function fh(d,_){let E=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(E*=2),E*_}function qi(d,_){if(d.j.info("Error code "+_),_==2){var E=v(d.fb,d),I=d.Xa;const H=!I;I=new Ui(I||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||jo(I,"https"),Cs(I),H?hp(I.toString(),E):uh(I.toString(),E)}else Lt(2);d.G=0,d.l&&d.l.sa(_),ph(d),Ua(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Lt(2)):(this.j.info("Failed to ping google.com"),Lt(1))};function ph(d){if(d.G=0,d.ka=[],d.l){const _=Oa(d.h);(_.length!=0||d.i.length!=0)&&(P(d.ka,_),P(d.ka,d.i),d.h.i.length=0,A(d.i),d.i.length=0),d.l.ra()}}function mh(d,_,E){var I=E instanceof Ui?pr(E):new Ui(E);if(I.g!="")_&&(I.g=_+"."+I.g),Ps(I,I.s);else{var H=u.location;I=H.protocol,_=_?_+"."+H.hostname:H.hostname,H=+H.port;var ee=new Ui(null);I&&jo(ee,I),_&&(ee.g=_),H&&Ps(ee,H),E&&(ee.l=E),I=ee}return E=d.D,_=d.ya,E&&_&&Et(I,E,_),Et(I,"VER",d.la),zi(d,I),I}function gh(d,_,E){if(_&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Ca&&!d.pa?new Ct(new $i({eb:E})):new Ct(d.pa),_.Ha(d.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function wu(){}n=wu.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Wa(){}Wa.prototype.g=function(d,_){return new zn(d,_)};function zn(d,_){$t.call(this),this.g=new vu(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(d?d["X-WebChannel-Client-Profile"]=_.va:d={"X-WebChannel-Client-Profile":_.va}),this.g.S=d,(d=_&&_.Sb)&&!B(d)&&(this.g.m=d),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!B(_)&&(this.g.D=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new wi(this)}k(zn,$t),zn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zn.prototype.close=function(){_n(this.g)},zn.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.u&&(E={},E.__data__=bs(d),d=E);_.i.push(new et(_.Ya++,d)),_.G==3&&_i(_)},zn.prototype.N=function(){this.g.l=null,delete this.j,_n(this.g),delete this.g,zn.aa.N.call(this)};function yh(d){Qn.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(const E in _){d=E;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}k(yh,Qn);function vh(){ks.call(this),this.status=1}k(vh,ks);function wi(d){this.g=d}k(wi,wu),wi.prototype.ua=function(){Mt(this.g,"a")},wi.prototype.ta=function(d){Mt(this.g,new yh(d))},wi.prototype.sa=function(d){Mt(this.g,new vh)},wi.prototype.ra=function(){Mt(this.g,"b")},Wa.prototype.createWebChannel=Wa.prototype.g,zn.prototype.send=zn.prototype.o,zn.prototype.open=zn.prototype.m,zn.prototype.close=zn.prototype.close,Wk=function(){return new Wa},qk=function(){return hi()},zk=hr,hy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_e.NO_ERROR=0,_e.TIMEOUT=8,_e.HTTP_ERROR=6,jd=_e,ge.COMPLETE="complete",Bk=ge,Fi.EventType=kn,kn.OPEN="a",kn.CLOSE="b",kn.ERROR="c",kn.MESSAGE="d",$t.prototype.listen=$t.prototype.K,rc=Fi,Ct.prototype.listenOnce=Ct.prototype.L,Ct.prototype.getLastError=Ct.prototype.Ka,Ct.prototype.getLastErrorCode=Ct.prototype.Ba,Ct.prototype.getStatus=Ct.prototype.Z,Ct.prototype.getResponseJson=Ct.prototype.Oa,Ct.prototype.getResponseText=Ct.prototype.oa,Ct.prototype.send=Ct.prototype.ea,Ct.prototype.setWithCredentials=Ct.prototype.Ha,$k=Ct}).apply(typeof kd<"u"?kd:typeof self<"u"?self:typeof window<"u"?window:{});const y1="@firebase/firestore",v1="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mn.UNAUTHENTICATED=new Mn(null),Mn.GOOGLE_CREDENTIALS=new Mn("google-credentials-uid"),Mn.FIRST_PARTY=new Mn("first-party-uid"),Mn.MOCK_USER=new Mn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lu="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba=new Iv("@firebase/firestore");function xl(){return ba.logLevel}function ve(n,...e){if(ba.logLevel<=it.DEBUG){const t=e.map(Cv);ba.debug(`Firestore (${lu}): ${n}`,...t)}}function ms(n,...e){if(ba.logLevel<=it.ERROR){const t=e.map(Cv);ba.error(`Firestore (${lu}): ${n}`,...t)}}function vo(n,...e){if(ba.logLevel<=it.WARN){const t=e.map(Cv);ba.warn(`Firestore (${lu}): ${n}`,...t)}}function Cv(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,Hk(n,r,t)}function Hk(n,e,t){let r=`FIRESTORE (${lu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw ms(r),new Error(r)}function gt(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||Hk(e,i,r)}function We(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends _s{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class KU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Mn.UNAUTHENTICATED))}shutdown(){}}class QU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class JU{constructor(e){this.t=e,this.currentUser=Mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){gt(this.o===void 0,42304);let r=this.i;const i=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let o=new po;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new po,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const h=o;e.enqueueRetryable(async()=>{await h.promise,await i(this.currentUser)})},u=h=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>u(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new po)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(gt(typeof r.accessToken=="string",31837,{l:r}),new Gk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return gt(e===null||typeof e=="string",2055,{h:e}),new Mn(e)}}class XU{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Mn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class YU{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new XU(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Mn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZU{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,si(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){gt(this.o===void 0,3512);const r=o=>{o.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,ve("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new _1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(gt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new _1(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e3(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=e3(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}}function Xe(n,e){return n<e?-1:n>e?1:0}function dy(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return Xe(r,i);{const o=Kk(),l=t3(o.encode(w1(n,t)),o.encode(w1(e,t)));return l!==0?l:Xe(r,i)}}t+=r>65535?2:1}return Xe(n.length,e.length)}function w1(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function t3(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Xe(n[t],e[t]);return Xe(n.length,e.length)}function Hl(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1="__name__";class xi{constructor(e,t,r){t===void 0?t=0:t>e.length&&Fe(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Fe(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return xi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof xi?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=xi.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return Xe(e.length,t.length)}static compareSegments(e,t){const r=xi.isNumericId(e),i=xi.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?xi.extractNumericId(e).compare(xi.extractNumericId(t)):dy(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fo.fromString(e.substring(4,e.length-2))}}class xt extends xi{construct(e,t,r){return new xt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new xt(t)}static emptyPath(){return new xt([])}}const n3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bn extends xi{construct(e,t,r){return new bn(e,t,r)}static isValidIdentifier(e){return n3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===E1}static keyField(){return new bn([E1])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(r.length===0)throw new pe(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new pe(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new pe(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(o(),i++)}if(o(),l)throw new pe(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bn(t)}static emptyPath(){return new bn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.path=e}static fromPath(e){return new De(xt.fromString(e))}static fromName(e){return new De(xt.fromString(e).popFirst(5))}static empty(){return new De(xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return xt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new xt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qk(n,e,t){if(!t)throw new pe(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function r3(n,e,t,r){if(e===!0&&r===!0)throw new pe(te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function T1(n){if(!De.isDocumentKey(n))throw new pe(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function S1(n){if(De.isDocumentKey(n))throw new pe(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Jk(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function zf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Fe(12329,{type:typeof n})}function cs(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new pe(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=zf(n);throw new pe(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(n,e){const t={typeString:n};return e&&(t.value=e),t}function Jc(n,e){if(!Jk(n))throw new pe(te.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const l=n[r];if(i&&typeof l!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&l!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new pe(te.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1=-62135596800,x1=1e6;class Pt{static now(){return Pt.fromMillis(Date.now())}static fromDate(e){return Pt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*x1);return new Pt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new pe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new pe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<b1)throw new pe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/x1}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Pt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Jc(e,Pt._jsonSchema))return new Pt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-b1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Pt._jsonSchemaVersion="firestore/timestamp/1.0",Pt._jsonSchema={type:tn("string",Pt._jsonSchemaVersion),seconds:tn("number"),nanoseconds:tn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{static fromTimestamp(e){return new ze(e)}static min(){return new ze(new Pt(0,0))}static max(){return new ze(new Pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc=-1;function i3(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ze.fromTimestamp(r===1e9?new Pt(t+1,0):new Pt(t,r));return new _o(i,De.empty(),e)}function s3(n){return new _o(n.readTime,n.key,Dc)}class _o{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new _o(ze.min(),De.empty(),Dc)}static max(){return new _o(ze.max(),De.empty(),Dc)}}function o3(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=De.comparator(n.documentKey,e.documentKey),t!==0?t:Xe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class l3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uu(n){if(n.code!==te.FAILED_PRECONDITION||n.message!==a3)throw n;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Fe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ie((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ie?t:ie.resolve(t)}catch(t){return ie.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.reject(t)}static resolve(e){return new ie((t,r)=>{t(e)})}static reject(e){return new ie((t,r)=>{r(e)})}static waitFor(e){return new ie((t,r)=>{let i=0,o=0,l=!1;e.forEach(u=>{++i,u.next(()=>{++o,l&&o===i&&t()},h=>r(h))}),l=!0,o===i&&t()})}static or(e){let t=ie.resolve(!1);for(const r of e)t=t.next(i=>i?ie.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new ie((r,i)=>{const o=e.length,l=new Array(o);let u=0;for(let h=0;h<o;h++){const f=h;t(e[f]).next(m=>{l[f]=m,++u,u===o&&r(l)},m=>i(m))}})}static doWhile(e,t){return new ie((r,i)=>{const o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}}function u3(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function cu(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this._e(r),this.ae=r=>t.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}qf.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov=-1;function Wf(n){return n==null}function hf(n){return n===0&&1/n==-1/0}function c3(n){return typeof n=="number"&&Number.isInteger(n)&&!hf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk="";function h3(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=k1(e)),e=d3(n.get(t),e);return k1(e)}function d3(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="";break;case Xk:t+="";break;default:t+=o}}return t}function k1(n){return n+Xk+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Po(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Yk(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,t){this.comparator=e,this.root=t||Sn.EMPTY}insert(e,t){return new Ut(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Sn.BLACK,null,null))}remove(e){return new Ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Sn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Id(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Id(this.root,e,this.comparator,!1)}getReverseIterator(){return new Id(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Id(this.root,e,this.comparator,!0)}}class Id{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Sn{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??Sn.RED,this.left=i??Sn.EMPTY,this.right=o??Sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new Sn(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Sn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Fe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Fe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Fe(27949);return e+(this.isRed()?0:1)}}Sn.EMPTY=null,Sn.RED=!0,Sn.BLACK=!1;Sn.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe(57766)}get value(){throw Fe(16141)}get color(){throw Fe(16727)}get left(){throw Fe(29726)}get right(){throw Fe(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Sn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.comparator=e,this.data=new Ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new A1(this.data.getIterator())}getIteratorFrom(e){return new A1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof ln)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ln(this.comparator);return t.data=e,t}}class A1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e){this.fields=e,e.sort(bn.comparator)}static empty(){return new Er([])}unionWith(e){let t=new ln(bn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Er(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Hl(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Zk("Invalid base64 string: "+o):o}}(e);return new xn(t)}static fromUint8Array(e){const t=function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o}(e);return new xn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xn.EMPTY_BYTE_STRING=new xn("");const f3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wo(n){if(gt(!!n,39018),typeof n=="string"){let e=0;const t=f3.exec(n);if(gt(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Kt(n.seconds),nanos:Kt(n.nanos)}}function Kt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Eo(n){return typeof n=="string"?xn.fromBase64String(n):xn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI="server_timestamp",tI="__type__",nI="__previous_value__",rI="__local_write_time__";function Nv(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[tI])===null||t===void 0?void 0:t.stringValue)===eI}function Hf(n){const e=n.mapValue.fields[nI];return Nv(e)?Hf(e):e}function Oc(n){const e=wo(n.mapValue.fields[rI].timestampValue);return new Pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(e,t,r,i,o,l,u,h,f,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=f,this.isUsingEmulator=m}}const df="(default)";class Nc{constructor(e,t){this.projectId=e,this.database=t||df}static empty(){return new Nc("","")}get isDefaultDatabase(){return this.database===df}isEqual(e){return e instanceof Nc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI="__type__",m3="__max__",Ad={mapValue:{}},sI="__vector__",ff="value";function To(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Nv(n)?4:y3(n)?9007199254740991:g3(n)?10:11:Fe(28295,{value:n})}function Ni(n,e){if(n===e)return!0;const t=To(n);if(t!==To(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Oc(n).isEqual(Oc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=wo(i.timestampValue),u=wo(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Eo(i.bytesValue).isEqual(Eo(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Kt(i.geoPointValue.latitude)===Kt(o.geoPointValue.latitude)&&Kt(i.geoPointValue.longitude)===Kt(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Kt(i.integerValue)===Kt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=Kt(i.doubleValue),u=Kt(o.doubleValue);return l===u?hf(l)===hf(u):isNaN(l)&&isNaN(u)}return!1}(n,e);case 9:return Hl(n.arrayValue.values||[],e.arrayValue.values||[],Ni);case 10:case 11:return function(i,o){const l=i.mapValue.fields||{},u=o.mapValue.fields||{};if(I1(l)!==I1(u))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(u[h]===void 0||!Ni(l[h],u[h])))return!1;return!0}(n,e);default:return Fe(52216,{left:n})}}function Mc(n,e){return(n.values||[]).find(t=>Ni(t,e))!==void 0}function Gl(n,e){if(n===e)return 0;const t=To(n),r=To(e);if(t!==r)return Xe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Xe(n.booleanValue,e.booleanValue);case 2:return function(o,l){const u=Kt(o.integerValue||o.doubleValue),h=Kt(l.integerValue||l.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,e);case 3:return P1(n.timestampValue,e.timestampValue);case 4:return P1(Oc(n),Oc(e));case 5:return dy(n.stringValue,e.stringValue);case 6:return function(o,l){const u=Eo(o),h=Eo(l);return u.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const u=o.split("/"),h=l.split("/");for(let f=0;f<u.length&&f<h.length;f++){const m=Xe(u[f],h[f]);if(m!==0)return m}return Xe(u.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const u=Xe(Kt(o.latitude),Kt(l.latitude));return u!==0?u:Xe(Kt(o.longitude),Kt(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return R1(n.arrayValue,e.arrayValue);case 10:return function(o,l){var u,h,f,m;const y=o.fields||{},v=l.fields||{},T=(u=y[ff])===null||u===void 0?void 0:u.arrayValue,k=(h=v[ff])===null||h===void 0?void 0:h.arrayValue,A=Xe(((f=T==null?void 0:T.values)===null||f===void 0?void 0:f.length)||0,((m=k==null?void 0:k.values)===null||m===void 0?void 0:m.length)||0);return A!==0?A:R1(T,k)}(n.mapValue,e.mapValue);case 11:return function(o,l){if(o===Ad.mapValue&&l===Ad.mapValue)return 0;if(o===Ad.mapValue)return 1;if(l===Ad.mapValue)return-1;const u=o.fields||{},h=Object.keys(u),f=l.fields||{},m=Object.keys(f);h.sort(),m.sort();for(let y=0;y<h.length&&y<m.length;++y){const v=dy(h[y],m[y]);if(v!==0)return v;const T=Gl(u[h[y]],f[m[y]]);if(T!==0)return T}return Xe(h.length,m.length)}(n.mapValue,e.mapValue);default:throw Fe(23264,{le:t})}}function P1(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Xe(n,e);const t=wo(n),r=wo(e),i=Xe(t.seconds,r.seconds);return i!==0?i:Xe(t.nanos,r.nanos)}function R1(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const o=Gl(t[i],r[i]);if(o)return o}return Xe(t.length,r.length)}function Kl(n){return fy(n)}function fy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=wo(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Eo(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return De.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=fy(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const l of r)o?o=!1:i+=",",i+=`${l}:${fy(t.fields[l])}`;return i+"}"}(n.mapValue):Fe(61005,{value:n})}function Fd(n){switch(To(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Hf(n);return e?16+Fd(e):16;case 5:return 2*n.stringValue.length;case 6:return Eo(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Fd(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Po(r.fields,(o,l)=>{i+=o.length+Fd(l)}),i}(n.mapValue);default:throw Fe(13486,{value:n})}}function C1(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function py(n){return!!n&&"integerValue"in n}function Mv(n){return!!n&&"arrayValue"in n}function D1(n){return!!n&&"nullValue"in n}function O1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ud(n){return!!n&&"mapValue"in n}function g3(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[iI])===null||t===void 0?void 0:t.stringValue)===sI}function yc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Po(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=yc(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=yc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function y3(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===m3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this.value=e}static empty(){return new lr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Ud(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=yc(t)}setAll(e){let t=bn.emptyPath(),r={},i=[];e.forEach((l,u)=>{if(!t.isImmediateParentOf(u)){const h=this.getFieldsMap(t);this.applyChanges(h,r,i),r={},i=[],t=u.popLast()}l?r[u.lastSegment()]=yc(l):i.push(u.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());Ud(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ni(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Ud(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Po(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new lr(yc(this.value))}}function oI(n){const e=[];return Po(n.fields,(t,r)=>{const i=new bn([t]);if(Ud(r)){const o=oI(r.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)}),new Er(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e,t,r,i,o,l,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Ln(e,0,ze.min(),ze.min(),ze.min(),lr.empty(),0)}static newFoundDocument(e,t,r,i){return new Ln(e,1,t,ze.min(),r,i,0)}static newNoDocument(e,t){return new Ln(e,2,t,ze.min(),ze.min(),lr.empty(),0)}static newUnknownDocument(e,t){return new Ln(e,3,t,ze.min(),ze.min(),lr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=lr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=lr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,t){this.position=e,this.inclusive=t}}function N1(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],l=n.position[i];if(o.field.isKeyField()?r=De.comparator(De.fromName(l.referenceValue),t.key):r=Gl(l,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function M1(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ni(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,t="asc"){this.field=e,this.dir=t}}function v3(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{}class en extends aI{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new w3(e,t,r):t==="array-contains"?new S3(e,r):t==="in"?new b3(e,r):t==="not-in"?new x3(e,r):t==="array-contains-any"?new k3(e,r):new en(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new E3(e,r):new T3(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Gl(t,this.value)):t!==null&&To(this.value)===To(t)&&this.matchesComparison(Gl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Fe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class li extends aI{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new li(e,t)}matches(e){return lI(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function lI(n){return n.op==="and"}function uI(n){return _3(n)&&lI(n)}function _3(n){for(const e of n.filters)if(e instanceof li)return!1;return!0}function my(n){if(n instanceof en)return n.field.canonicalString()+n.op.toString()+Kl(n.value);if(uI(n))return n.filters.map(e=>my(e)).join(",");{const e=n.filters.map(t=>my(t)).join(",");return`${n.op}(${e})`}}function cI(n,e){return n instanceof en?function(r,i){return i instanceof en&&r.op===i.op&&r.field.isEqual(i.field)&&Ni(r.value,i.value)}(n,e):n instanceof li?function(r,i){return i instanceof li&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,l,u)=>o&&cI(l,i.filters[u]),!0):!1}(n,e):void Fe(19439)}function hI(n){return n instanceof en?function(t){return`${t.field.canonicalString()} ${t.op} ${Kl(t.value)}`}(n):n instanceof li?function(t){return t.op.toString()+" {"+t.getFilters().map(hI).join(" ,")+"}"}(n):"Filter"}class w3 extends en{constructor(e,t,r){super(e,t,r),this.key=De.fromName(r.referenceValue)}matches(e){const t=De.comparator(e.key,this.key);return this.matchesComparison(t)}}class E3 extends en{constructor(e,t){super(e,"in",t),this.keys=dI("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class T3 extends en{constructor(e,t){super(e,"not-in",t),this.keys=dI("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function dI(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>De.fromName(r.referenceValue))}class S3 extends en{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Mv(t)&&Mc(t.arrayValue,this.value)}}class b3 extends en{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Mc(this.value.arrayValue,t)}}class x3 extends en{constructor(e,t){super(e,"not-in",t)}matches(e){if(Mc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Mc(this.value.arrayValue,t)}}class k3 extends en{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Mv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Mc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(e,t=null,r=[],i=[],o=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=l,this.endAt=u,this.Pe=null}}function L1(n,e=null,t=[],r=[],i=null,o=null,l=null){return new I3(n,e,t,r,i,o,l)}function Lv(n){const e=We(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>my(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Wf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Kl(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Kl(r)).join(",")),e.Pe=t}return e.Pe}function Vv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!v3(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!cI(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!M1(n.startAt,e.startAt)&&M1(n.endAt,e.endAt)}function gy(n){return De.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,t=null,r=[],i=[],o=null,l="F",u=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=h,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function A3(n,e,t,r,i,o,l,u){return new hu(n,e,t,r,i,o,l,u)}function jv(n){return new hu(n)}function V1(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function fI(n){return n.collectionGroup!==null}function vc(n){const e=We(n);if(e.Te===null){e.Te=[];const t=new Set;for(const o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new ln(bn.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(f=>{f.isInequality()&&(u=u.add(f.field))})}),u})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Lc(o,r))}),t.has(bn.keyField().canonicalString())||e.Te.push(new Lc(bn.keyField(),r))}return e.Te}function Ai(n){const e=We(n);return e.Ie||(e.Ie=P3(e,vc(n))),e.Ie}function P3(n,e){if(n.limitType==="F")return L1(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Lc(i.field,o)});const t=n.endAt?new pf(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new pf(n.startAt.position,n.startAt.inclusive):null;return L1(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function yy(n,e){const t=n.filters.concat([e]);return new hu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function mf(n,e,t){return new hu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Gf(n,e){return Vv(Ai(n),Ai(e))&&n.limitType===e.limitType}function pI(n){return`${Lv(Ai(n))}|lt:${n.limitType}`}function kl(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>hI(i)).join(", ")}]`),Wf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Kl(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Kl(i)).join(",")),`Target(${r})`}(Ai(n))}; limitType=${n.limitType})`}function Kf(n,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):De.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(const o of vc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(l,u,h){const f=N1(l,u,h);return l.inclusive?f<=0:f<0}(r.startAt,vc(r),i)||r.endAt&&!function(l,u,h){const f=N1(l,u,h);return l.inclusive?f>=0:f>0}(r.endAt,vc(r),i))}(n,e)}function R3(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function mI(n){return(e,t)=>{let r=!1;for(const i of vc(n)){const o=C3(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function C3(n,e,t){const r=n.field.isKeyField()?De.comparator(e.key,t.key):function(o,l,u){const h=l.data.field(o),f=u.data.field(o);return h!==null&&f!==null?Gl(h,f):Fe(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Fe(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Po(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return Yk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3=new Ut(De.comparator);function gs(){return D3}const gI=new Ut(De.comparator);function ic(...n){let e=gI;for(const t of n)e=e.insert(t.key,t);return e}function yI(n){let e=gI;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function pa(){return _c()}function vI(){return _c()}function _c(){return new Ra(n=>n.toString(),(n,e)=>n.isEqual(e))}const O3=new Ut(De.comparator),N3=new ln(De.comparator);function st(...n){let e=N3;for(const t of n)e=e.add(t);return e}const M3=new ln(Xe);function L3(){return M3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hf(e)?"-0":e}}function _I(n){return{integerValue:""+n}}function V3(n,e){return c3(e)?_I(e):Fv(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(){this._=void 0}}function j3(n,e,t){return n instanceof Vc?function(i,o){const l={fields:{[tI]:{stringValue:eI},[rI]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Nv(o)&&(o=Hf(o)),o&&(l.fields[nI]=o),{mapValue:l}}(t,e):n instanceof jc?EI(n,e):n instanceof Fc?TI(n,e):function(i,o){const l=wI(i,o),u=j1(l)+j1(i.Ee);return py(l)&&py(i.Ee)?_I(u):Fv(i.serializer,u)}(n,e)}function F3(n,e,t){return n instanceof jc?EI(n,e):n instanceof Fc?TI(n,e):t}function wI(n,e){return n instanceof gf?function(r){return py(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Vc extends Qf{}class jc extends Qf{constructor(e){super(),this.elements=e}}function EI(n,e){const t=SI(e);for(const r of n.elements)t.some(i=>Ni(i,r))||t.push(r);return{arrayValue:{values:t}}}class Fc extends Qf{constructor(e){super(),this.elements=e}}function TI(n,e){let t=SI(e);for(const r of n.elements)t=t.filter(i=>!Ni(i,r));return{arrayValue:{values:t}}}class gf extends Qf{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function j1(n){return Kt(n.integerValue||n.doubleValue)}function SI(n){return Mv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(e,t){this.field=e,this.transform=t}}function $3(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof jc&&i instanceof jc||r instanceof Fc&&i instanceof Fc?Hl(r.elements,i.elements,Ni):r instanceof gf&&i instanceof gf?Ni(r.Ee,i.Ee):r instanceof Vc&&i instanceof Vc}(n.transform,e.transform)}class B3{constructor(e,t){this.version=e,this.transformResults=t}}class Pi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Pi}static exists(e){return new Pi(void 0,e)}static updateTime(e){return new Pi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $d(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Jf{}function bI(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new kI(n.key,Pi.none()):new Xc(n.key,n.data,Pi.none());{const t=n.data,r=lr.empty();let i=new ln(bn.comparator);for(let o of e.fields)if(!i.has(o)){let l=t.field(o);l===null&&o.length>1&&(o=o.popLast(),l=t.field(o)),l===null?r.delete(o):r.set(o,l),i=i.add(o)}return new Ro(n.key,r,new Er(i.toArray()),Pi.none())}}function z3(n,e,t){n instanceof Xc?function(i,o,l){const u=i.value.clone(),h=U1(i.fieldTransforms,o,l.transformResults);u.setAll(h),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,e,t):n instanceof Ro?function(i,o,l){if(!$d(i.precondition,o))return void o.convertToUnknownDocument(l.version);const u=U1(i.fieldTransforms,o,l.transformResults),h=o.data;h.setAll(xI(i)),h.setAll(u),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function wc(n,e,t,r){return n instanceof Xc?function(o,l,u,h){if(!$d(o.precondition,l))return u;const f=o.value.clone(),m=$1(o.fieldTransforms,h,l);return f.setAll(m),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ro?function(o,l,u,h){if(!$d(o.precondition,l))return u;const f=$1(o.fieldTransforms,h,l),m=l.data;return m.setAll(xI(o)),m.setAll(f),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(y=>y.field))}(n,e,t,r):function(o,l,u){return $d(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(n,e,t)}function q3(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=wI(r.transform,i||null);o!=null&&(t===null&&(t=lr.empty()),t.set(r.field,o))}return t||null}function F1(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Hl(r,i,(o,l)=>$3(o,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Xc extends Jf{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ro extends Jf{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function xI(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function U1(n,e,t){const r=new Map;gt(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){const o=n[i],l=o.transform,u=e.data.field(o.field);r.set(o.field,F3(l,u,t[i]))}return r}function $1(n,e,t){const r=new Map;for(const i of n){const o=i.transform,l=t.data.field(i.field);r.set(i.field,j3(o,l,e))}return r}class kI extends Jf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class W3 extends Jf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&z3(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=wc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=wc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=vI();return this.mutations.forEach(i=>{const o=e.get(i.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=t.has(i.key)?null:u;const h=bI(l,u);h!==null&&r.set(i.key,h),l.isValidDocument()||l.convertToNoDocument(ze.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),st())}isEqual(e){return this.batchId===e.batchId&&Hl(this.mutations,e.mutations,(t,r)=>F1(t,r))&&Hl(this.baseMutations,e.baseMutations,(t,r)=>F1(t,r))}}class Uv{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){gt(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return O3}();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,r[l].version);return new Uv(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt,ct;function Q3(n){switch(n){case te.OK:return Fe(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Fe(15467,{code:n})}}function II(n){if(n===void 0)return ms("GRPC error has no .code"),te.UNKNOWN;switch(n){case Yt.OK:return te.OK;case Yt.CANCELLED:return te.CANCELLED;case Yt.UNKNOWN:return te.UNKNOWN;case Yt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Yt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Yt.INTERNAL:return te.INTERNAL;case Yt.UNAVAILABLE:return te.UNAVAILABLE;case Yt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Yt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Yt.NOT_FOUND:return te.NOT_FOUND;case Yt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Yt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Yt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Yt.ABORTED:return te.ABORTED;case Yt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Yt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Yt.DATA_LOSS:return te.DATA_LOSS;default:return Fe(39323,{code:n})}}(ct=Yt||(Yt={}))[ct.OK=0]="OK",ct[ct.CANCELLED=1]="CANCELLED",ct[ct.UNKNOWN=2]="UNKNOWN",ct[ct.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ct[ct.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ct[ct.NOT_FOUND=5]="NOT_FOUND",ct[ct.ALREADY_EXISTS=6]="ALREADY_EXISTS",ct[ct.PERMISSION_DENIED=7]="PERMISSION_DENIED",ct[ct.UNAUTHENTICATED=16]="UNAUTHENTICATED",ct[ct.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ct[ct.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ct[ct.ABORTED=10]="ABORTED",ct[ct.OUT_OF_RANGE=11]="OUT_OF_RANGE",ct[ct.UNIMPLEMENTED=12]="UNIMPLEMENTED",ct[ct.INTERNAL=13]="INTERNAL",ct[ct.UNAVAILABLE=14]="UNAVAILABLE",ct[ct.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J3=new fo([4294967295,4294967295],0);function B1(n){const e=Kk().encode(n),t=new Uk;return t.update(e),new Uint8Array(t.digest())}function z1(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new fo([t,r],0),new fo([i,o],0)]}class $v{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new sc(`Invalid padding: ${t}`);if(r<0)throw new sc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new sc(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new sc(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=fo.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(fo.fromNumber(r)));return i.compare(J3)===1&&(i=new fo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=B1(e),[r,i]=z1(t);for(let o=0;o<this.hashCount;o++){const l=this.pe(r,i,o);if(!this.ye(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new $v(o,i,t);return r.forEach(u=>l.insert(u)),l}insert(e){if(this.fe===0)return;const t=B1(e),[r,i]=z1(t);for(let o=0;o<this.hashCount;o++){const l=this.pe(r,i,o);this.we(l)}}we(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class sc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Yc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Xf(ze.min(),i,new Ut(Xe),gs(),st())}}class Yc{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Yc(r,t,st(),st(),st())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}}class AI{constructor(e,t){this.targetId=e,this.De=t}}class PI{constructor(e,t,r=xn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class q1{constructor(){this.ve=0,this.Ce=W1(),this.Fe=xn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=st(),t=st(),r=st();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Fe(38017,{changeType:o})}}),new Yc(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=W1()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,gt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class X3{constructor(e){this.We=e,this.Ge=new Map,this.ze=gs(),this.je=Pd(),this.Je=Pd(),this.He=new Ut(Xe)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:Fe(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){const t=e.targetId,r=e.De.count,i=this.st(t);if(i){const o=i.target;if(gy(o))if(r===0){const l=new De(o.path);this.Xe(t,l,Ln.newNoDocument(l,ze.min()))}else gt(r===1,20013,{expectedCount:r});else{const l=this.ot(t);if(l!==r){const u=this._t(e),h=u?this.ut(u,e,l):1;if(h!==0){this.rt(t);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,f)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let l,u;try{l=Eo(r).toUint8Array()}catch(h){if(h instanceof Zk)return vo("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new $v(l,i,o)}catch(h){return vo(h instanceof sc?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.fe===0?null:u}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){const r=this.We.getRemoteKeysForTarget(t);let i=0;return r.forEach(o=>{const l=this.We.lt(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.Xe(t,o,null),i++)}),i}Pt(e){const t=new Map;this.Ge.forEach((o,l)=>{const u=this.st(l);if(u){if(o.current&&gy(u.target)){const h=new De(u.target.path);this.Tt(h).has(l)||this.It(l,h)||this.Xe(l,h,Ln.newNoDocument(h,e))}o.Ne&&(t.set(l,o.Le()),o.ke())}});let r=st();this.Je.forEach((o,l)=>{let u=!0;l.forEachWhile(h=>{const f=this.st(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(o))}),this.ze.forEach((o,l)=>l.setReadTime(e));const i=new Xf(e,t,this.He,this.ze,r);return this.ze=gs(),this.je=Pd(),this.Je=Pd(),this.He=new Ut(Xe),i}Ze(e,t){if(!this.nt(e))return;const r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;const i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new q1,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new ln(Xe),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new ln(Xe),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||ve("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new q1),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function Pd(){return new Ut(De.comparator)}function W1(){return new Ut(De.comparator)}const Y3={asc:"ASCENDING",desc:"DESCENDING"},Z3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},e6={and:"AND",or:"OR"};class t6{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function vy(n,e){return n.useProto3Json||Wf(e)?e:{value:e}}function yf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function RI(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function n6(n,e){return yf(n,e.toTimestamp())}function Ri(n){return gt(!!n,49232),ze.fromTimestamp(function(t){const r=wo(t);return new Pt(r.seconds,r.nanos)}(n))}function Bv(n,e){return _y(n,e).canonicalString()}function _y(n,e){const t=function(i){return new xt(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function CI(n){const e=xt.fromString(n);return gt(LI(e),10190,{key:e.toString()}),e}function wy(n,e){return Bv(n.databaseId,e.path)}function pg(n,e){const t=CI(e);if(t.get(1)!==n.databaseId.projectId)throw new pe(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new pe(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new De(OI(t))}function DI(n,e){return Bv(n.databaseId,e)}function r6(n){const e=CI(n);return e.length===4?xt.emptyPath():OI(e)}function Ey(n){return new xt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function OI(n){return gt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function H1(n,e,t){return{name:wy(n,e),fields:t.value.mapValue.fields}}function i6(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Fe(39313,{state:f})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(f,m){return f.useProto3Json?(gt(m===void 0||typeof m=="string",58123),xn.fromBase64String(m||"")):(gt(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),xn.fromUint8Array(m||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(f){const m=f.code===void 0?te.UNKNOWN:II(f.code);return new pe(m,f.message||"")}(l);t=new PI(r,i,o,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=pg(n,r.document.name),o=Ri(r.document.updateTime),l=r.document.createTime?Ri(r.document.createTime):ze.min(),u=new lr({mapValue:{fields:r.document.fields}}),h=Ln.newFoundDocument(i,o,l,u),f=r.targetIds||[],m=r.removedTargetIds||[];t=new Bd(f,m,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=pg(n,r.document),o=r.readTime?Ri(r.readTime):ze.min(),l=Ln.newNoDocument(i,o),u=r.removedTargetIds||[];t=new Bd([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=pg(n,r.document),o=r.removedTargetIds||[];t=new Bd([],o,i,null)}else{if(!("filter"in e))return Fe(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,l=new K3(i,o),u=r.targetId;t=new AI(u,l)}}return t}function s6(n,e){let t;if(e instanceof Xc)t={update:H1(n,e.key,e.value)};else if(e instanceof kI)t={delete:wy(n,e.key)};else if(e instanceof Ro)t={update:H1(n,e.key,e.data),updateMask:p6(e.fieldMask)};else{if(!(e instanceof W3))return Fe(16599,{Rt:e.type});t={verify:wy(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const u=l.transform;if(u instanceof Vc)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof jc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Fc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof gf)return{fieldPath:l.field.canonicalString(),increment:u.Ee};throw Fe(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:n6(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Fe(27497)}(n,e.precondition)),t}function o6(n,e){return n&&n.length>0?(gt(e!==void 0,14353),n.map(t=>function(i,o){let l=i.updateTime?Ri(i.updateTime):Ri(o);return l.isEqual(ze.min())&&(l=Ri(o)),new B3(l,i.transformResults||[])}(t,e))):[]}function a6(n,e){return{documents:[DI(n,e.path)]}}function l6(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=DI(n,i);const o=function(f){if(f.length!==0)return MI(li.create(f,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const l=function(f){if(f.length!==0)return f.map(m=>function(v){return{field:Il(v.field),direction:h6(v.dir)}}(m))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=vy(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{Vt:t,parent:i}}function u6(n){let e=r6(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){gt(r===1,65062);const m=t.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let o=[];t.where&&(o=function(y){const v=NI(y);return v instanceof li&&uI(v)?v.getFilters():[v]}(t.where));let l=[];t.orderBy&&(l=function(y){return y.map(v=>function(k){return new Lc(Al(k.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(v))}(t.orderBy));let u=null;t.limit&&(u=function(y){let v;return v=typeof y=="object"?y.value:y,Wf(v)?null:v}(t.limit));let h=null;t.startAt&&(h=function(y){const v=!!y.before,T=y.values||[];return new pf(T,v)}(t.startAt));let f=null;return t.endAt&&(f=function(y){const v=!y.before,T=y.values||[];return new pf(T,v)}(t.endAt)),A3(e,i,l,o,u,"F",h,f)}function c6(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fe(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function NI(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Al(t.unaryFilter.field);return en.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Al(t.unaryFilter.field);return en.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Al(t.unaryFilter.field);return en.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Al(t.unaryFilter.field);return en.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Fe(61313);default:return Fe(60726)}}(n):n.fieldFilter!==void 0?function(t){return en.create(Al(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Fe(58110);default:return Fe(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return li.create(t.compositeFilter.filters.map(r=>NI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Fe(1026)}}(t.compositeFilter.op))}(n):Fe(30097,{filter:n})}function h6(n){return Y3[n]}function d6(n){return Z3[n]}function f6(n){return e6[n]}function Il(n){return{fieldPath:n.canonicalString()}}function Al(n){return bn.fromServerFormat(n.fieldPath)}function MI(n){return n instanceof en?function(t){if(t.op==="=="){if(O1(t.value))return{unaryFilter:{field:Il(t.field),op:"IS_NAN"}};if(D1(t.value))return{unaryFilter:{field:Il(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(O1(t.value))return{unaryFilter:{field:Il(t.field),op:"IS_NOT_NAN"}};if(D1(t.value))return{unaryFilter:{field:Il(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Il(t.field),op:d6(t.op),value:t.value}}}(n):n instanceof li?function(t){const r=t.getFilters().map(i=>MI(i));return r.length===1?r[0]:{compositeFilter:{op:f6(t.op),filters:r}}}(n):Fe(54877,{filter:n})}function p6(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function LI(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,t,r,i,o=ze.min(),l=ze.min(),u=xn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new lo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new lo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new lo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new lo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(e){this.gt=e}}function g6(n){const e=u6({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?mf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(){this.Dn=new v6}addToCollectionParentIndex(e,t){return this.Dn.add(t),ie.resolve()}getCollectionParents(e,t){return ie.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return ie.resolve()}deleteFieldIndex(e,t){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,t){return ie.resolve()}getDocumentsMatchingTarget(e,t){return ie.resolve(null)}getIndexType(e,t){return ie.resolve(0)}getFieldIndexes(e,t){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,t){return ie.resolve(_o.min())}getMinOffsetFromCollectionGroup(e,t){return ie.resolve(_o.min())}updateCollectionGroup(e,t,r){return ie.resolve()}updateIndexEntries(e,t){return ie.resolve()}}class v6{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new ln(xt.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ln(xt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},VI=41943040;class ar{static withCacheSize(e){return new ar(e,ar.DEFAULT_COLLECTION_PERCENTILE,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ar.DEFAULT_COLLECTION_PERCENTILE=10,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ar.DEFAULT=new ar(VI,ar.DEFAULT_COLLECTION_PERCENTILE,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ar.DISABLED=new ar(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Ql(0)}static ur(){return new Ql(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1="LruGarbageCollector",_6=1048576;function Q1([n,e],[t,r]){const i=Xe(n,t);return i===0?Xe(e,r):i}class w6{constructor(e){this.Tr=e,this.buffer=new ln(Q1),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Q1(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class E6{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){ve(K1,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){cu(t)?ve(K1,"Ignoring IndexedDB error during garbage collection: ",t):await uu(t)}await this.Rr(3e5)})}}class T6{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ie.resolve(qf.ue);const r=new w6(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(G1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),G1):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,l,u,h,f;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),i=this.params.maximumSequenceNumbersToCollect):i=y,l=Date.now(),this.nthSequenceNumber(e,i))).next(y=>(r=y,u=Date.now(),this.removeTargets(e,r,t))).next(y=>(o=y,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(y=>(f=Date.now(),xl()<=it.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${o} targets in `+(h-u)+`ms
	Removed ${y} documents in `+(f-h)+`ms
Total Duration: ${f-m}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:y})))}}function S6(n,e){return new T6(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(){this.changes=new Ra(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ln.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ie.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&wc(r.mutation,i,Er.empty(),Pt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,st()).next(()=>r))}getLocalViewOfDocuments(e,t,r=st()){const i=pa();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let l=ic();return o.forEach((u,h)=>{l=l.insert(u,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=pa();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,st()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((l,u)=>{t.set(l,u)})})}computeViews(e,t,r,i){let o=gs();const l=_c(),u=function(){return _c()}();return t.forEach((h,f)=>{const m=r.get(f.key);i.has(f.key)&&(m===void 0||m.mutation instanceof Ro)?o=o.insert(f.key,f):m!==void 0?(l.set(f.key,m.mutation.getFieldMask()),wc(m.mutation,f,m.mutation.getFieldMask(),Pt.now())):l.set(f.key,Er.empty())}),this.recalculateAndSaveOverlays(e,o).next(h=>(h.forEach((f,m)=>l.set(f,m)),t.forEach((f,m)=>{var y;return u.set(f,new x6(m,(y=l.get(f))!==null&&y!==void 0?y:null))}),u))}recalculateAndSaveOverlays(e,t){const r=_c();let i=new Ut((l,u)=>l-u),o=st();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const u of l)u.keys().forEach(h=>{const f=t.get(h);if(f===null)return;let m=r.get(h)||Er.empty();m=u.applyToLocalView(f,m),r.set(h,m);const y=(i.get(u.batchId)||st()).add(h);i=i.insert(u.batchId,y)})}).next(()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),f=h.key,m=h.value,y=vI();m.forEach(v=>{if(!o.has(v)){const T=bI(t.get(v),r.get(v));T!==null&&y.set(v,T),o=o.add(v)}}),l.push(this.documentOverlayCache.saveOverlays(e,f,y))}return ie.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(l){return De.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):fI(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):ie.resolve(pa());let u=Dc,h=o;return l.next(f=>ie.forEach(f,(m,y)=>(u<y.largestBatchId&&(u=y.largestBatchId),o.get(m)?ie.resolve():this.remoteDocumentCache.getEntry(e,m).next(v=>{h=h.insert(m,v)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,h,f,st())).next(m=>({batchId:u,changes:yI(m)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new De(t)).next(r=>{let i=ic();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let l=ic();return this.indexManager.getCollectionParents(e,o).next(u=>ie.forEach(u,h=>{const f=function(y,v){return new hu(v,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(t,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(m=>{m.forEach((y,v)=>{l=l.insert(y,v)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(l=>{o.forEach((h,f)=>{const m=f.getKey();l.get(m)===null&&(l=l.insert(m,Ln.newInvalidDocument(m)))});let u=ic();return l.forEach((h,f)=>{const m=o.get(h);m!==void 0&&wc(m.mutation,f,Er.empty(),Pt.now()),Kf(t,f)&&(u=u.insert(h,f))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return ie.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Ri(i.createTime)}}(t)),ie.resolve()}getNamedQuery(e,t){return ie.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(i){return{name:i.name,query:g6(i.bundledQuery),readTime:Ri(i.readTime)}}(t)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(){this.overlays=new Ut(De.comparator),this.kr=new Map}getOverlay(e,t){return ie.resolve(this.overlays.get(t))}getOverlays(e,t){const r=pa();return ie.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),ie.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),ie.resolve()}getOverlaysForCollection(e,t,r){const i=pa(),o=t.length+1,l=new De(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const h=u.getNext().value,f=h.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===o&&h.largestBatchId>r&&i.set(h.getKey(),h)}return ie.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Ut((f,m)=>f-m);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>r){let m=o.get(f.largestBatchId);m===null&&(m=pa(),o=o.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const u=pa(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((f,m)=>u.set(f,m)),!(u.size()>=i)););return ie.resolve(u)}wt(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new G3(t,r));let o=this.kr.get(t);o===void 0&&(o=st(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(){this.sessionToken=xn.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(){this.qr=new ln(gn.Qr),this.$r=new ln(gn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const r=new gn(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new gn(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){const t=new De(new xt([])),r=new gn(t,e),i=new gn(t,e+1),o=[];return this.$r.forEachInRange([r,i],l=>{this.Wr(l),o.push(l.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new De(new xt([])),r=new gn(t,e),i=new gn(t,e+1);let o=st();return this.$r.forEachInRange([r,i],l=>{o=o.add(l.key)}),o}containsKey(e){const t=new gn(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class gn{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return De.comparator(e.key,t.key)||Xe(e.Hr,t.Hr)}static Ur(e,t){return Xe(e.Hr,t.Hr)||De.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new ln(gn.Qr)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new H3(o,t,r,i);this.mutationQueue.push(l);for(const u of i)this.Yr=this.Yr.add(new gn(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return ie.resolve(l)}lookupMutationBatch(e,t){return ie.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Xr(r),o=i<0?0:i;return ie.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Ov:this.er-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new gn(t,0),i=new gn(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],l=>{const u=this.Zr(l.Hr);o.push(u)}),ie.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ln(Xe);return t.forEach(i=>{const o=new gn(i,0),l=new gn(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,l],u=>{r=r.add(u.Hr)})}),ie.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;De.isDocumentKey(o)||(o=o.child(""));const l=new gn(new De(o),0);let u=new ln(Xe);return this.Yr.forEachWhile(h=>{const f=h.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(u=u.add(h.Hr)),!0)},l),ie.resolve(this.ei(u))}ei(e){const t=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){gt(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return ie.forEach(t.mutations,i=>{const o=new gn(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){const r=new gn(t,0),i=this.Yr.firstAfterOrEqual(r);return ie.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(e){this.ni=e,this.docs=function(){return new Ut(De.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,l=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ie.resolve(r?r.document.mutableCopy():Ln.newInvalidDocument(t))}getEntries(e,t){let r=gs();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Ln.newInvalidDocument(i))}),ie.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=gs();const l=t.path,u=new De(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:f,value:{document:m}}=h.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||o3(s3(m),r)<=0||(i.has(m.key)||Kf(t,m))&&(o=o.insert(m.key,m.mutableCopy()))}return ie.resolve(o)}getAllFromCollectionGroup(e,t,r,i){Fe(9500)}ri(e,t){return ie.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new D6(this)}getSize(e){return ie.resolve(this.size)}}class D6 extends b6{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),ie.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(e){this.persistence=e,this.ii=new Ra(t=>Lv(t),Vv),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this.si=0,this.oi=new zv,this.targetCount=0,this._i=Ql.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),ie.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new Ql(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,ie.resolve()}updateTargetData(e,t){return this.hr(t),ie.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.ii.forEach((l,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.ii.delete(l),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),ie.waitFor(o).next(()=>i)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,t){const r=this.ii.get(t)||null;return ie.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),ie.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(l=>{o.push(i.markPotentiallyOrphaned(e,l))}),ie.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),ie.resolve()}getMatchingKeysForTargetId(e,t){const r=this.oi.Jr(t);return ie.resolve(r)}containsKey(e,t){return ie.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e,t){this.ai={},this.overlays={},this.ui=new qf(0),this.ci=!1,this.ci=!0,this.li=new P6,this.referenceDelegate=e(this),this.hi=new O6(this),this.indexManager=new y6,this.remoteDocumentCache=function(i){return new C6(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new m6(t),this.Ti=new I6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new A6,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new R6(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){ve("MemoryPersistence","Starting transaction:",e);const i=new N6(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return ie.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}}class N6 extends l3{constructor(e){super(),this.currentSequenceNumber=e}}class qv{constructor(e){this.persistence=e,this.Ai=new zv,this.Ri=null}static Vi(e){return new qv(e)}get mi(){if(this.Ri)return this.Ri;throw Fe(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),ie.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),ie.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.mi,r=>{const i=De.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,ze.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return ie.or([()=>ie.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class vf{constructor(e,t){this.persistence=e,this.gi=new Ra(r=>h3(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=S6(this,t)}static Vi(e,t){return new vf(e,t)}Ii(){}di(e){return ie.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return ie.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?ie.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,l=>this.Sr(e,l,t).next(u=>{u||(r++,o.removeEntry(l,ze.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),ie.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),ie.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),ie.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Fd(e.data.value)),t}Sr(e,t,r){return ie.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.gi.get(t);return ie.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=st(),i=st();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Wv(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return IF()?8:u3(jn())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.ps(e,t).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new M6;return this.ws(e,t,l).next(u=>{if(o.result=u,this.Rs)return this.Ss(e,t,l,u.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(xl()<=it.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",kl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ie.resolve()):(xl()<=it.DEBUG&&ve("QueryEngine","Query:",kl(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(xl()<=it.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",kl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ai(t))):ie.resolve())}ps(e,t){if(V1(t))return ie.resolve(null);let r=Ai(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=mf(t,null,"F"),r=Ai(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const l=st(...o);return this.gs.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,r).next(h=>{const f=this.bs(t,u);return this.Ds(t,f,l,h.readTime)?this.ps(e,mf(t,null,"F")):this.vs(e,f,t,h)}))})))}ys(e,t,r,i){return V1(t)||i.isEqual(ze.min())?ie.resolve(null):this.gs.getDocuments(e,r).next(o=>{const l=this.bs(t,o);return this.Ds(t,l,r,i)?ie.resolve(null):(xl()<=it.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),kl(t)),this.vs(e,l,t,i3(i,Dc)).next(u=>u))})}bs(e,t){let r=new ln(mI(e));return t.forEach((i,o)=>{Kf(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return xl()<=it.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",kl(t)),this.gs.getDocumentsMatchingQuery(e,t,_o.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv="LocalStore",V6=3e8;class j6{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new Ut(Xe),this.Ms=new Ra(o=>Lv(o),Vv),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new k6(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function F6(n,e,t,r){return new j6(n,e,t,r)}async function FI(n,e){const t=We(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const l=[],u=[];let h=st();for(const f of i){l.push(f.batchId);for(const m of f.mutations)h=h.add(m.key)}for(const f of o){u.push(f.batchId);for(const m of f.mutations)h=h.add(m.key)}return t.localDocuments.getDocuments(r,h).next(f=>({Bs:f,removedBatchIds:l,addedBatchIds:u}))})})}function U6(n,e){const t=We(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return function(u,h,f,m){const y=f.batch,v=y.keys();let T=ie.resolve();return v.forEach(k=>{T=T.next(()=>m.getEntry(h,k)).next(A=>{const P=f.docVersions.get(k);gt(P!==null,48541),A.version.compareTo(P)<0&&(y.applyToRemoteDocument(A,f),A.isValidDocument()&&(A.setReadTime(f.commitVersion),m.addEntry(A)))})}),T.next(()=>u.mutationQueue.removeMutationBatch(h,y))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let h=st();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(h=h.add(u.batch.mutations[f].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function UI(n){const e=We(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function $6(n,e){const t=We(n),r=e.snapshotVersion;let i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;const u=[];e.targetChanges.forEach((m,y)=>{const v=i.get(y);if(!v)return;u.push(t.hi.removeMatchingKeys(o,m.removedDocuments,y).next(()=>t.hi.addMatchingKeys(o,m.addedDocuments,y)));let T=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(y)!==null?T=T.withResumeToken(xn.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):m.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(m.resumeToken,r)),i=i.insert(y,T),function(A,P,q){return A.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=V6?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0}(v,T,m)&&u.push(t.hi.updateTargetData(o,T))});let h=gs(),f=st();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(o,m))}),u.push(B6(o,l,e.documentUpdates).next(m=>{h=m.Ls,f=m.ks})),!r.isEqual(ze.min())){const m=t.hi.getLastRemoteSnapshotVersion(o).next(y=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));u.push(m)}return ie.waitFor(u).next(()=>l.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,h,f)).next(()=>h)}).then(o=>(t.Fs=i,o))}function B6(n,e,t){let r=st(),i=st();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let l=gs();return t.forEach((u,h)=>{const f=o.get(u);h.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(u)),h.isNoDocument()&&h.version.isEqual(ze.min())?(e.removeEntry(u,h.readTime),l=l.insert(u,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),l=l.insert(u,h)):ve(Hv,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",h.version)}),{Ls:l,ks:i}})}function z6(n,e){const t=We(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Ov),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function q6(n,e){const t=We(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,ie.resolve(i)):t.hi.allocateTargetId(r).next(l=>(i=new lo(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}async function Ty(n,e,t){const r=We(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!cu(l))throw l;ve(Hv,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function J1(n,e,t){const r=We(n);let i=ze.min(),o=st();return r.persistence.runTransaction("Execute query","readwrite",l=>function(h,f,m){const y=We(h),v=y.Ms.get(m);return v!==void 0?ie.resolve(y.Fs.get(v)):y.hi.getTargetData(f,m)}(r,l,Ai(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(l,u.targetId).next(h=>{o=h})}).next(()=>r.Cs.getDocumentsMatchingQuery(l,e,t?i:ze.min(),t?o:st())).next(u=>(W6(r,R3(e),u),{documents:u,qs:o})))}function W6(n,e,t){let r=n.xs.get(e)||ze.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}class X1{constructor(){this.activeTargetIds=L3()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class H6{constructor(){this.Fo=new X1,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new X1,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1="ConnectivityMonitor";class Z1{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ve(Y1,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){ve(Y1,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rd=null;function Sy(){return Rd===null?Rd=function(){return 268435456+Math.round(2147483648*Math.random())}():Rd++,"0x"+Rd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg="RestConnection",K6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Q6{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===df?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){const l=Sy(),u=this.Go(e,t.toUriEncodedString());ve(mg,`Sending RPC '${e}' ${l}:`,u,r);const h={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(h,i,o);const{host:f}=new URL(u),m=ou(f);return this.jo(e,u,h,r,m).then(y=>(ve(mg,`Received RPC '${e}' ${l}: `,y),y),y=>{throw vo(mg,`RPC '${e}' ${l} failed with error: `,y,"url: ",u,"request:",r),y})}Jo(e,t,r,i,o,l){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+lu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){const r=K6[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dn="WebChannelConnection";class X6 extends Q6{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){const l=Sy();return new Promise((u,h)=>{const f=new $k;f.setWithCredentials(!0),f.listenOnce(Bk.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case jd.NO_ERROR:const y=f.getResponseJson();ve(Dn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),u(y);break;case jd.TIMEOUT:ve(Dn,`RPC '${e}' ${l} timed out`),h(new pe(te.DEADLINE_EXCEEDED,"Request time out"));break;case jd.HTTP_ERROR:const v=f.getStatus();if(ve(Dn,`RPC '${e}' ${l} failed with status:`,v,"response text:",f.getResponseText()),v>0){let T=f.getResponseJson();Array.isArray(T)&&(T=T[0]);const k=T==null?void 0:T.error;if(k&&k.status&&k.message){const A=function(q){const B=q.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(B)>=0?B:te.UNKNOWN}(k.status);h(new pe(A,k.message))}else h(new pe(te.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new pe(te.UNAVAILABLE,"Connection failed."));break;default:Fe(9055,{c_:e,streamId:l,l_:f.getLastErrorCode(),h_:f.getLastError()})}}finally{ve(Dn,`RPC '${e}' ${l} completed.`)}});const m=JSON.stringify(i);ve(Dn,`RPC '${e}' ${l} sending request:`,i),f.send(t,"POST",m,r,15)})}P_(e,t,r){const i=Sy(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=Wk(),u=qk(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.zo(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const m=o.join("");ve(Dn,`Creating RPC '${e}' stream ${i}: ${m}`,h);const y=l.createWebChannel(m,h);this.T_(y);let v=!1,T=!1;const k=new J6({Ho:P=>{T?ve(Dn,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(v||(ve(Dn,`Opening RPC '${e}' stream ${i} transport.`),y.open(),v=!0),ve(Dn,`RPC '${e}' stream ${i} sending:`,P),y.send(P))},Yo:()=>y.close()}),A=(P,q,B)=>{P.listen(q,U=>{try{B(U)}catch(J){setTimeout(()=>{throw J},0)}})};return A(y,rc.EventType.OPEN,()=>{T||(ve(Dn,`RPC '${e}' stream ${i} transport opened.`),k.s_())}),A(y,rc.EventType.CLOSE,()=>{T||(T=!0,ve(Dn,`RPC '${e}' stream ${i} transport closed`),k.__(),this.I_(y))}),A(y,rc.EventType.ERROR,P=>{T||(T=!0,vo(Dn,`RPC '${e}' stream ${i} transport errored. Name:`,P.name,"Message:",P.message),k.__(new pe(te.UNAVAILABLE,"The operation could not be completed")))}),A(y,rc.EventType.MESSAGE,P=>{var q;if(!T){const B=P.data[0];gt(!!B,16349);const U=B,J=(U==null?void 0:U.error)||((q=U[0])===null||q===void 0?void 0:q.error);if(J){ve(Dn,`RPC '${e}' stream ${i} received error:`,J);const Z=J.status;let ne=function(C){const O=Yt[C];if(O!==void 0)return II(O)}(Z),x=J.message;ne===void 0&&(ne=te.INTERNAL,x="Unknown error status: "+Z+" with message "+J.message),T=!0,k.__(new pe(ne,x)),y.close()}else ve(Dn,`RPC '${e}' stream ${i} received:`,B),k.a_(B)}}),A(u,zk.STAT_EVENT,P=>{P.stat===hy.PROXY?ve(Dn,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===hy.NOPROXY&&ve(Dn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{k.o_()},0),k}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function gg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yf(n){return new t6(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&ve("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS="PersistentStream";class BI{constructor(e,t,r,i,o,l,u,h){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new $I(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(ms(t.toString()),ms("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{const i=new pe(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){const r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return ve(eS,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(ve(eS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Y6 extends BI{constructor(e,t,r,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=i6(this.serializer,e),r=function(o){if(!("targetChange"in o))return ze.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?ze.min():l.readTime?Ri(l.readTime):ze.min()}(e);return this.listener.J_(t,r)}H_(e){const t={};t.database=Ey(this.serializer),t.addTarget=function(o,l){let u;const h=l.target;if(u=gy(h)?{documents:a6(o,h)}:{query:l6(o,h).Vt},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=RI(o,l.resumeToken);const f=vy(o,l.expectedCount);f!==null&&(u.expectedCount=f)}else if(l.snapshotVersion.compareTo(ze.min())>0){u.readTime=yf(o,l.snapshotVersion.toTimestamp());const f=vy(o,l.expectedCount);f!==null&&(u.expectedCount=f)}return u}(this.serializer,e);const r=c6(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){const t={};t.database=Ey(this.serializer),t.removeTarget=e,this.k_(t)}}class Z6 extends BI{constructor(e,t,r,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return gt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,gt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){gt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=o6(e.writeResults,e.commitTime),r=Ri(e.commitTime);return this.listener.ta(r,t)}na(){const e={};e.database=Ey(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>s6(this.serializer,r))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{}class t5 extends e5{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new pe(te.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Wo(e,_y(t,r),i,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new pe(te.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Jo(e,_y(t,r),i,l,u,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new pe(te.UNKNOWN,l.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class n5{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(ms(t),this._a=!1):ve("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa="RemoteStore";class r5{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(l=>{r.enqueueAndForget(async()=>{Ca(this)&&(ve(xa,"Restarting streams for network reachability change."),await async function(h){const f=We(h);f.Ia.add(4),await Zc(f),f.Aa.set("Unknown"),f.Ia.delete(4),await Zf(f)}(this))})}),this.Aa=new n5(r,i)}}async function Zf(n){if(Ca(n))for(const e of n.da)await e(!0)}async function Zc(n){for(const e of n.da)await e(!1)}function zI(n,e){const t=We(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),Jv(t)?Qv(t):du(t).x_()&&Kv(t,e))}function Gv(n,e){const t=We(n),r=du(t);t.Ta.delete(e),r.x_()&&qI(t,e),t.Ta.size===0&&(r.x_()?r.B_():Ca(t)&&t.Aa.set("Unknown"))}function Kv(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ze.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}du(n).H_(e)}function qI(n,e){n.Ra.$e(e),du(n).Y_(e)}function Qv(n){n.Ra=new X3({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),du(n).start(),n.Aa.aa()}function Jv(n){return Ca(n)&&!du(n).M_()&&n.Ta.size>0}function Ca(n){return We(n).Ia.size===0}function WI(n){n.Ra=void 0}async function i5(n){n.Aa.set("Online")}async function s5(n){n.Ta.forEach((e,t)=>{Kv(n,e)})}async function o5(n,e){WI(n),Jv(n)?(n.Aa.la(e),Qv(n)):n.Aa.set("Unknown")}async function a5(n,e,t){if(n.Aa.set("Online"),e instanceof PI&&e.state===2&&e.cause)try{await async function(i,o){const l=o.cause;for(const u of o.targetIds)i.Ta.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.Ta.delete(u),i.Ra.removeTarget(u))}(n,e)}catch(r){ve(xa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await _f(n,r)}else if(e instanceof Bd?n.Ra.Ye(e):e instanceof AI?n.Ra.it(e):n.Ra.et(e),!t.isEqual(ze.min()))try{const r=await UI(n.localStore);t.compareTo(r)>=0&&await function(o,l){const u=o.Ra.Pt(l);return u.targetChanges.forEach((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const m=o.Ta.get(f);m&&o.Ta.set(f,m.withResumeToken(h.resumeToken,l))}}),u.targetMismatches.forEach((h,f)=>{const m=o.Ta.get(h);if(!m)return;o.Ta.set(h,m.withResumeToken(xn.EMPTY_BYTE_STRING,m.snapshotVersion)),qI(o,h);const y=new lo(m.target,h,f,m.sequenceNumber);Kv(o,y)}),o.remoteSyncer.applyRemoteEvent(u)}(n,t)}catch(r){ve(xa,"Failed to raise snapshot:",r),await _f(n,r)}}async function _f(n,e,t){if(!cu(e))throw e;n.Ia.add(1),await Zc(n),n.Aa.set("Offline"),t||(t=()=>UI(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ve(xa,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await Zf(n)})}function HI(n,e){return e().catch(t=>_f(n,t,e))}async function ep(n){const e=We(n),t=So(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Ov;for(;l5(e);)try{const i=await z6(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,u5(e,i)}catch(i){await _f(e,i)}GI(e)&&KI(e)}function l5(n){return Ca(n)&&n.Pa.length<10}function u5(n,e){n.Pa.push(e);const t=So(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function GI(n){return Ca(n)&&!So(n).M_()&&n.Pa.length>0}function KI(n){So(n).start()}async function c5(n){So(n).na()}async function h5(n){const e=So(n);for(const t of n.Pa)e.X_(t.mutations)}async function d5(n,e,t){const r=n.Pa.shift(),i=Uv.from(r,e,t);await HI(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await ep(n)}async function f5(n,e){e&&So(n).Z_&&await async function(r,i){if(function(l){return Q3(l)&&l!==te.ABORTED}(i.code)){const o=r.Pa.shift();So(r).N_(),await HI(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await ep(r)}}(n,e),GI(n)&&KI(n)}async function tS(n,e){const t=We(n);t.asyncQueue.verifyOperationInProgress(),ve(xa,"RemoteStore received new credentials");const r=Ca(t);t.Ia.add(3),await Zc(t),r&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await Zf(t)}async function p5(n,e){const t=We(n);e?(t.Ia.delete(2),await Zf(t)):e||(t.Ia.add(2),await Zc(t),t.Aa.set("Unknown"))}function du(n){return n.Va||(n.Va=function(t,r,i){const o=We(t);return o.ia(),new Y6(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Zo:i5.bind(null,n),e_:s5.bind(null,n),n_:o5.bind(null,n),J_:a5.bind(null,n)}),n.da.push(async e=>{e?(n.Va.N_(),Jv(n)?Qv(n):n.Aa.set("Unknown")):(await n.Va.stop(),WI(n))})),n.Va}function So(n){return n.ma||(n.ma=function(t,r,i){const o=We(t);return o.ia(),new Z6(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:c5.bind(null,n),n_:f5.bind(null,n),ea:h5.bind(null,n),ta:d5.bind(null,n)}),n.da.push(async e=>{e?(n.ma.N_(),await ep(n)):(await n.ma.stop(),n.Pa.length>0&&(ve(xa,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))})),n.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new po,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const l=Date.now()+r,u=new Xv(e,t,l,i,o);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yv(n,e){if(ms("AsyncQueue",`${e}: ${n}`),cu(n))return new pe(te.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{static emptySet(e){return new Nl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||De.comparator(t.key,r.key):(t,r)=>De.comparator(t.key,r.key),this.keyedMap=ic(),this.sortedSet=new Ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Nl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Nl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(){this.fa=new Ut(De.comparator)}track(e){const t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Fe(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}}class Jl{constructor(e,t,r,i,o,l,u,h,f){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,t,r,i,o){const l=[];return t.forEach(u=>{l.push({type:0,doc:u})}),new Jl(e,t,Nl.emptySet(t),l,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class g5{constructor(){this.queries=rS(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){const i=We(t),o=i.queries;i.queries=rS(),o.forEach((l,u)=>{for(const h of u.wa)h.onError(r)})})(this,new pe(te.ABORTED,"Firestore shutting down"))}}function rS(){return new Ra(n=>pI(n),Gf)}async function QI(n,e){const t=We(n);let r=3;const i=e.query;let o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new m5,r=e.ba()?0:1);try{switch(r){case 0:o.ya=await t.onListen(i,!0);break;case 1:o.ya=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const u=Yv(l,`Initialization of query '${kl(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&Zv(t)}async function JI(n,e){const t=We(n),r=e.query;let i=3;const o=t.queries.get(r);if(o){const l=o.wa.indexOf(e);l>=0&&(o.wa.splice(l,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function y5(n,e){const t=We(n);let r=!1;for(const i of e){const o=i.query,l=t.queries.get(o);if(l){for(const u of l.wa)u.Ca(i)&&(r=!0);l.ya=i}}r&&Zv(t)}function v5(n,e,t){const r=We(n),i=r.queries.get(e);if(i)for(const o of i.wa)o.onError(t);r.queries.delete(e)}function Zv(n){n.Da.forEach(e=>{e.next()})}var by,iS;(iS=by||(by={})).Fa="default",iS.Cache="cache";class XI{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Jl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Jl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==by.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e){this.key=e}}class ZI{constructor(e){this.key=e}}class _5{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=st(),this.mutatedKeys=st(),this.Xa=mI(e),this.eu=new Nl(this.Xa)}get tu(){return this.Ha}nu(e,t){const r=t?t.ru:new nS,i=t?t.eu:this.eu;let o=t?t.mutatedKeys:this.mutatedKeys,l=i,u=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,y)=>{const v=i.get(m),T=Kf(this.query,y)?y:null,k=!!v&&this.mutatedKeys.has(v.key),A=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let P=!1;v&&T?v.data.isEqual(T.data)?k!==A&&(r.track({type:3,doc:T}),P=!0):this.iu(v,T)||(r.track({type:2,doc:T}),P=!0,(h&&this.Xa(T,h)>0||f&&this.Xa(T,f)<0)&&(u=!0)):!v&&T?(r.track({type:0,doc:T}),P=!0):v&&!T&&(r.track({type:1,doc:v}),P=!0,(h||f)&&(u=!0)),P&&(T?(l=l.add(T),o=A?o.add(m):o.delete(m)):(l=l.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),o=o.delete(m.key),r.track({type:1,doc:m})}return{eu:l,ru:r,Ds:u,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const l=e.ru.pa();l.sort((m,y)=>function(T,k){const A=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fe(20277,{At:P})}};return A(T)-A(k)}(m.type,y.type)||this.Xa(m.doc,y.doc)),this.su(r),i=i!=null&&i;const u=t&&!i?this.ou():[],h=this.Za.size===0&&this.current&&!i?1:0,f=h!==this.Ya;return this.Ya=h,l.length!==0||f?{snapshot:new Jl(this.query,e.eu,o,l,e.mutatedKeys,h===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:u}:{_u:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new nS,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=st(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new ZI(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new YI(r))}),t}uu(e){this.Ha=e.qs,this.Za=st();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Jl.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const e_="SyncEngine";class w5{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class E5{constructor(e){this.key=e,this.lu=!1}}class T5{constructor(e,t,r,i,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.hu={},this.Pu=new Ra(u=>pI(u),Gf),this.Tu=new Map,this.Iu=new Set,this.du=new Ut(De.comparator),this.Eu=new Map,this.Au=new zv,this.Ru={},this.Vu=new Map,this.mu=Ql.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function S5(n,e,t=!0){const r=sA(n);let i;const o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=await eA(r,e,t,!0),i}async function b5(n,e){const t=sA(n);await eA(t,e,!0,!1)}async function eA(n,e,t,r){const i=await q6(n.localStore,Ai(e)),o=i.targetId,l=n.sharedClientState.addLocalQueryTarget(o,t);let u;return r&&(u=await x5(n,e,o,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&zI(n.remoteStore,i),u}async function x5(n,e,t,r,i){n.gu=(y,v,T)=>async function(A,P,q,B){let U=P.view.nu(q);U.Ds&&(U=await J1(A.localStore,P.query,!1).then(({documents:x})=>P.view.nu(x,U)));const J=B&&B.targetChanges.get(P.targetId),Z=B&&B.targetMismatches.get(P.targetId)!=null,ne=P.view.applyChanges(U,A.isPrimaryClient,J,Z);return oS(A,P.targetId,ne._u),ne.snapshot}(n,y,v,T);const o=await J1(n.localStore,e,!0),l=new _5(e,o.qs),u=l.nu(o.documents),h=Yc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),f=l.applyChanges(u,n.isPrimaryClient,h);oS(n,t,f._u);const m=new w5(e,t,l);return n.Pu.set(e,m),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),f.snapshot}async function k5(n,e,t){const r=We(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(l=>!Gf(l,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Ty(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Gv(r.remoteStore,i.targetId),xy(r,i.targetId)}).catch(uu)):(xy(r,i.targetId),await Ty(r.localStore,i.targetId,!0))}async function I5(n,e){const t=We(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Gv(t.remoteStore,r.targetId))}async function A5(n,e,t){const r=M5(n);try{const i=await function(l,u){const h=We(l),f=Pt.now(),m=u.reduce((T,k)=>T.add(k.key),st());let y,v;return h.persistence.runTransaction("Locally write mutations","readwrite",T=>{let k=gs(),A=st();return h.Os.getEntries(T,m).next(P=>{k=P,k.forEach((q,B)=>{B.isValidDocument()||(A=A.add(q))})}).next(()=>h.localDocuments.getOverlayedDocuments(T,k)).next(P=>{y=P;const q=[];for(const B of u){const U=q3(B,y.get(B.key).overlayedDocument);U!=null&&q.push(new Ro(B.key,U,oI(U.value.mapValue),Pi.exists(!0)))}return h.mutationQueue.addMutationBatch(T,f,q,u)}).next(P=>{v=P;const q=P.applyToLocalDocumentSet(y,A);return h.documentOverlayCache.saveOverlays(T,P.batchId,q)})}).then(()=>({batchId:v.batchId,changes:yI(y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,u,h){let f=l.Ru[l.currentUser.toKey()];f||(f=new Ut(Xe)),f=f.insert(u,h),l.Ru[l.currentUser.toKey()]=f}(r,i.batchId,t),await eh(r,i.changes),await ep(r.remoteStore)}catch(i){const o=Yv(i,"Failed to persist write");t.reject(o)}}async function tA(n,e){const t=We(n);try{const r=await $6(t.localStore,e);e.targetChanges.forEach((i,o)=>{const l=t.Eu.get(o);l&&(gt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.lu=!0:i.modifiedDocuments.size>0?gt(l.lu,14607):i.removedDocuments.size>0&&(gt(l.lu,42227),l.lu=!1))}),await eh(t,r,e)}catch(r){await uu(r)}}function sS(n,e,t){const r=We(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.Pu.forEach((o,l)=>{const u=l.view.va(e);u.snapshot&&i.push(u.snapshot)}),function(l,u){const h=We(l);h.onlineState=u;let f=!1;h.queries.forEach((m,y)=>{for(const v of y.wa)v.va(u)&&(f=!0)}),f&&Zv(h)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function P5(n,e,t){const r=We(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Eu.get(e),o=i&&i.key;if(o){let l=new Ut(De.comparator);l=l.insert(o,Ln.newNoDocument(o,ze.min()));const u=st().add(o),h=new Xf(ze.min(),new Map,new Ut(Xe),l,u);await tA(r,h),r.du=r.du.remove(o),r.Eu.delete(e),t_(r)}else await Ty(r.localStore,e,!1).then(()=>xy(r,e,t)).catch(uu)}async function R5(n,e){const t=We(n),r=e.batch.batchId;try{const i=await U6(t.localStore,e);rA(t,r,null),nA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await eh(t,i)}catch(i){await uu(i)}}async function C5(n,e,t){const r=We(n);try{const i=await function(l,u){const h=We(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let m;return h.mutationQueue.lookupMutationBatch(f,u).next(y=>(gt(y!==null,37113),m=y.keys(),h.mutationQueue.removeMutationBatch(f,y))).next(()=>h.mutationQueue.performConsistencyCheck(f)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(f,m,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m)).next(()=>h.localDocuments.getDocuments(f,m))})}(r.localStore,e);rA(r,e,t),nA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await eh(r,i)}catch(i){await uu(i)}}function nA(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function rA(n,e,t){const r=We(n);let i=r.Ru[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function xy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||iA(n,r)})}function iA(n,e){n.Iu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Gv(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),t_(n))}function oS(n,e,t){for(const r of t)r instanceof YI?(n.Au.addReference(r.key,e),D5(n,r)):r instanceof ZI?(ve(e_,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||iA(n,r.key)):Fe(19791,{yu:r})}function D5(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(ve(e_,"New document in limbo: "+t),n.Iu.add(r),t_(n))}function t_(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Iu.values().next().value;n.Iu.delete(e);const t=new De(xt.fromString(e)),r=n.mu.next();n.Eu.set(r,new E5(t)),n.du=n.du.insert(t,r),zI(n.remoteStore,new lo(Ai(jv(t.path)),r,"TargetPurposeLimboResolution",qf.ue))}}async function eh(n,e,t){const r=We(n),i=[],o=[],l=[];r.Pu.isEmpty()||(r.Pu.forEach((u,h)=>{l.push(r.gu(h,e,t).then(f=>{var m;if((f||t)&&r.isPrimaryClient){const y=f?!f.fromCache:(m=t==null?void 0:t.targetChanges.get(h.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(h.targetId,y?"current":"not-current")}if(f){i.push(f);const y=Wv.Es(h.targetId,f);o.push(y)}}))}),await Promise.all(l),r.hu.J_(i),await async function(h,f){const m=We(h);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>ie.forEach(f,v=>ie.forEach(v.Is,T=>m.persistence.referenceDelegate.addReference(y,v.targetId,T)).next(()=>ie.forEach(v.ds,T=>m.persistence.referenceDelegate.removeReference(y,v.targetId,T)))))}catch(y){if(!cu(y))throw y;ve(Hv,"Failed to update sequence numbers: "+y)}for(const y of f){const v=y.targetId;if(!y.fromCache){const T=m.Fs.get(v),k=T.snapshotVersion,A=T.withLastLimboFreeSnapshotVersion(k);m.Fs=m.Fs.insert(v,A)}}}(r.localStore,o))}async function O5(n,e){const t=We(n);if(!t.currentUser.isEqual(e)){ve(e_,"User change. New user:",e.toKey());const r=await FI(t.localStore,e);t.currentUser=e,function(o,l){o.Vu.forEach(u=>{u.forEach(h=>{h.reject(new pe(te.CANCELLED,l))})}),o.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await eh(t,r.Bs)}}function N5(n,e){const t=We(n),r=t.Eu.get(e);if(r&&r.lu)return st().add(r.key);{let i=st();const o=t.Tu.get(e);if(!o)return i;for(const l of o){const u=t.Pu.get(l);i=i.unionWith(u.view.tu)}return i}}function sA(n){const e=We(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=tA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=N5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=P5.bind(null,e),e.hu.J_=y5.bind(null,e.eventManager),e.hu.pu=v5.bind(null,e.eventManager),e}function M5(n){const e=We(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=R5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=C5.bind(null,e),e}class wf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Yf(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return F6(this.persistence,new L6,e.initialUser,this.serializer)}Du(e){return new jI(qv.Vi,this.serializer)}bu(e){return new H6}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wf.provider={build:()=>new wf};class L5 extends wf{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){gt(this.persistence.referenceDelegate instanceof vf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new E6(r,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?ar.withCacheSize(this.cacheSizeBytes):ar.DEFAULT;return new jI(r=>vf.Vi(r,t),this.serializer)}}class ky{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>sS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=O5.bind(null,this.syncEngine),await p5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new g5}()}createDatastore(e){const t=Yf(e.databaseInfo.databaseId),r=function(o){return new X6(o)}(e.databaseInfo);return function(o,l,u,h){return new t5(o,l,u,h)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,o,l,u){return new r5(r,i,o,l,u)}(this.localStore,this.datastore,e.asyncQueue,t=>sS(this.syncEngine,t,0),function(){return Z1.C()?new Z1:new G6}())}createSyncEngine(e,t){return function(i,o,l,u,h,f,m){const y=new T5(i,o,l,u,h,f);return m&&(y.fu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const o=We(i);ve(xa,"RemoteStore shutting down."),o.Ia.add(5),await Zc(o),o.Ea.shutdown(),o.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}ky.provider={build:()=>new ky};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):ms("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo="FirestoreClient";class V5{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Mn.UNAUTHENTICATED,this.clientId=Dv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async l=>{ve(bo,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(ve(bo,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new po;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Yv(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function yg(n,e){n.asyncQueue.verifyOperationInProgress(),ve(bo,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await FI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{vo("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{ve("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{vo("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e}async function aS(n,e){n.asyncQueue.verifyOperationInProgress();const t=await j5(n);ve(bo,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>tS(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>tS(e.remoteStore,i)),n._onlineComponents=e}async function j5(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ve(bo,"Using user provided OfflineComponentProvider");try{await yg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===te.FAILED_PRECONDITION||i.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;vo("Error using user provided cache. Falling back to memory cache: "+t),await yg(n,new wf)}}else ve(bo,"Using default OfflineComponentProvider"),await yg(n,new L5(void 0));return n._offlineComponents}async function aA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ve(bo,"Using user provided OnlineComponentProvider"),await aS(n,n._uninitializedComponentsProvider._online)):(ve(bo,"Using default OnlineComponentProvider"),await aS(n,new ky))),n._onlineComponents}function F5(n){return aA(n).then(e=>e.syncEngine)}async function Iy(n){const e=await aA(n),t=e.eventManager;return t.onListen=S5.bind(null,e.syncEngine),t.onUnlisten=k5.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=b5.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=I5.bind(null,e.syncEngine),t}function U5(n,e,t={}){const r=new po;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,u,h,f){const m=new oA({next:v=>{m.Ou(),l.enqueueAndForget(()=>JI(o,y)),v.fromCache&&h.source==="server"?f.reject(new pe(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),y=new XI(u,m,{includeMetadataChanges:!0,ka:!0});return QI(o,y)}(await Iy(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA="firestore.googleapis.com",uS=!0;class cS{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uA,this.ssl=uS}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:uS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=VI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_6)throw new pe(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}r3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new pe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new pe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new pe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tp{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new KU;switch(r.type){case"firstParty":return new YU(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=lS.get(t);r&&(ve("ComponentProvider","Removing Datastore"),lS.delete(t),r.terminate())}(this),Promise.resolve()}}function $5(n,e,t,r={}){var i;n=cs(n,tp);const o=ou(e),l=n._getSettings(),u=Object.assign(Object.assign({},l),{emulatorOptions:n._getEmulatorOptions()}),h=`${e}:${t}`;o&&(Ok(`https://${h}`),Nk("Firestore",!0)),l.host!==uA&&l.host!==h&&vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},l),{host:h,ssl:o,emulatorOptions:r});if(!Ta(f,u)&&(n._setSettings(f),r.mockUserToken)){let m,y;if(typeof r.mockUserToken=="string")m=r.mockUserToken,y=Mn.MOCK_USER;else{m=vF(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new pe(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Mn(v)}n._authCredentials=new QU(new Gk(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ws(this.firestore,e,this._query)}}class nn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nn(this.firestore,e,this._key)}toJSON(){return{type:nn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Jc(t,nn._jsonSchema))return new nn(e,r||null,new De(xt.fromString(t.referencePath)))}}nn._jsonSchemaVersion="firestore/documentReference/1.0",nn._jsonSchema={type:tn("string",nn._jsonSchemaVersion),referencePath:tn("string")};class mo extends ws{constructor(e,t,r){super(e,t,jv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nn(this.firestore,null,new De(e))}withConverter(e){return new mo(this.firestore,e,this._path)}}function cA(n,e,...t){if(n=Fn(n),Qk("collection","path",e),n instanceof tp){const r=xt.fromString(e,...t);return S1(r),new mo(n,null,r)}{if(!(n instanceof nn||n instanceof mo))throw new pe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(xt.fromString(e,...t));return S1(r),new mo(n.firestore,null,r)}}function Ay(n,e,...t){if(n=Fn(n),arguments.length===1&&(e=Dv.newId()),Qk("doc","path",e),n instanceof tp){const r=xt.fromString(e,...t);return T1(r),new nn(n,null,new De(r))}{if(!(n instanceof nn||n instanceof mo))throw new pe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(xt.fromString(e,...t));return T1(r),new nn(n.firestore,n instanceof mo?n.converter:null,new De(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS="AsyncQueue";class dS{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new $I(this,"async_queue_retry"),this.oc=()=>{const r=gg();r&&ve(hS,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const t=gg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=gg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new po;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!cu(e))throw e;ve(hS,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,ms("INTERNAL UNHANDLED ERROR: ",fS(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const i=Xv.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&Fe(47125,{hc:fS(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function fS(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}class Xl extends tp{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new dS,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new dS(e),this._firestoreClient=void 0,await e}}}function B5(n,e){const t=typeof n=="object"?n:Rv(),r=typeof n=="string"?n:df,i=Pv(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=gF("firestore");o&&$5(i,...o)}return i}function n_(n){if(n._terminated)throw new pe(te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||z5(n),n._firestoreClient}function z5(n){var e,t,r;const i=n._freezeSettings(),o=function(u,h,f,m){return new p3(u,h,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,lA(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new V5(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(u){const h=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vr(xn.fromBase64String(e))}catch(t){throw new pe(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Vr(xn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Vr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Jc(e,Vr._jsonSchema))return Vr.fromBase64String(e.bytes)}}Vr._jsonSchemaVersion="firestore/bytes/1.0",Vr._jsonSchema={type:tn("string",Vr._jsonSchemaVersion),bytes:tn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new pe(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new pe(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new pe(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ci._jsonSchemaVersion}}static fromJSON(e){if(Jc(e,Ci._jsonSchema))return new Ci(e.latitude,e.longitude)}}Ci._jsonSchemaVersion="firestore/geoPoint/1.0",Ci._jsonSchema={type:tn("string",Ci._jsonSchemaVersion),latitude:tn("number"),longitude:tn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Di._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Jc(e,Di._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Di(e.vectorValues);throw new pe(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Di._jsonSchemaVersion="firestore/vectorValue/1.0",Di._jsonSchema={type:tn("string",Di._jsonSchemaVersion),vectorValues:tn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q5=/^__.*__$/;class W5{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ro(e,this.data,this.fieldMask,t,this.fieldTransforms):new Xc(e,this.data,t,this.fieldTransforms)}}class hA{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ro(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function dA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fe(40011,{Ec:n})}}class r_{constructor(e,t,r,i,o,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new r_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Ef(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(dA(this.Ec)&&q5.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class H5{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Yf(e)}Dc(e,t,r,i=!1){return new r_({Ec:e,methodName:t,bc:r,path:bn.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function i_(n){const e=n._freezeSettings(),t=Yf(n._databaseId);return new H5(n._databaseId,!!e.ignoreUndefinedProperties,t)}function G5(n,e,t,r,i,o={}){const l=n.Dc(o.merge||o.mergeFields?2:0,e,t,i);o_("Data must be an object, but it was:",l,r);const u=fA(r,l);let h,f;if(o.merge)h=new Er(l.fieldMask),f=l.fieldTransforms;else if(o.mergeFields){const m=[];for(const y of o.mergeFields){const v=Py(e,y,t);if(!l.contains(v))throw new pe(te.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);mA(m,v)||m.push(v)}h=new Er(m),f=l.fieldTransforms.filter(y=>h.covers(y.field))}else h=null,f=l.fieldTransforms;return new W5(new lr(u),h,f)}class ip extends rp{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ip}}class s_ extends rp{_toFieldTransform(e){return new U3(e.path,new Vc)}isEqual(e){return e instanceof s_}}function K5(n,e,t,r){const i=n.Dc(1,e,t);o_("Data must be an object, but it was:",i,r);const o=[],l=lr.empty();Po(r,(h,f)=>{const m=a_(e,h,t);f=Fn(f);const y=i.gc(m);if(f instanceof ip)o.push(m);else{const v=th(f,y);v!=null&&(o.push(m),l.set(m,v))}});const u=new Er(o);return new hA(l,u,i.fieldTransforms)}function Q5(n,e,t,r,i,o){const l=n.Dc(1,e,t),u=[Py(e,r,t)],h=[i];if(o.length%2!=0)throw new pe(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)u.push(Py(e,o[v])),h.push(o[v+1]);const f=[],m=lr.empty();for(let v=u.length-1;v>=0;--v)if(!mA(f,u[v])){const T=u[v];let k=h[v];k=Fn(k);const A=l.gc(T);if(k instanceof ip)f.push(T);else{const P=th(k,A);P!=null&&(f.push(T),m.set(T,P))}}const y=new Er(f);return new hA(m,y,l.fieldTransforms)}function J5(n,e,t,r=!1){return th(t,n.Dc(r?4:3,e))}function th(n,e){if(pA(n=Fn(n)))return o_("Unsupported field value:",e,n),fA(n,e);if(n instanceof rp)return function(r,i){if(!dA(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){const o=[];let l=0;for(const u of r){let h=th(u,i.yc(l));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),l++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Fn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return V3(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Pt.fromDate(r);return{timestampValue:yf(i.serializer,o)}}if(r instanceof Pt){const o=new Pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:yf(i.serializer,o)}}if(r instanceof Ci)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Vr)return{bytesValue:RI(i.serializer,r._byteString)};if(r instanceof nn){const o=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw i.wc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Bv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Di)return function(l,u){return{mapValue:{fields:{[iI]:{stringValue:sI},[ff]:{arrayValue:{values:l.toArray().map(f=>{if(typeof f!="number")throw u.wc("VectorValues must only contain numeric values.");return Fv(u.serializer,f)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${zf(r)}`)}(n,e)}function fA(n,e){const t={};return Yk(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Po(n,(r,i)=>{const o=th(i,e.Vc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function pA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Pt||n instanceof Ci||n instanceof Vr||n instanceof nn||n instanceof rp||n instanceof Di)}function o_(n,e,t){if(!pA(t)||!Jk(t)){const r=zf(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function Py(n,e,t){if((e=Fn(e))instanceof np)return e._internalPath;if(typeof e=="string")return a_(n,e);throw Ef("Field path arguments must be of type string or ",n,!1,void 0,t)}const X5=new RegExp("[~\\*/\\[\\]]");function a_(n,e,t){if(e.search(X5)>=0)throw Ef(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new np(...e.split("."))._internalPath}catch{throw Ef(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ef(n,e,t,r,i){const o=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(o||l)&&(h+=" (found",o&&(h+=` in field ${r}`),l&&(h+=` in document ${i}`),h+=")"),new pe(te.INVALID_ARGUMENT,u+n+h)}function mA(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Y5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(sp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Y5 extends gA{data(){return super.data()}}function sp(n,e){return typeof e=="string"?a_(n,e):e instanceof np?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new pe(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class l_{}class u_ extends l_{}function vA(n,e,...t){let r=[];e instanceof l_&&r.push(e),r=r.concat(t),function(o){const l=o.filter(h=>h instanceof c_).length,u=o.filter(h=>h instanceof op).length;if(l>1||l>0&&u>0)throw new pe(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class op extends u_{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new op(e,t,r)}_apply(e){const t=this._parse(e);return _A(e._query,t),new ws(e.firestore,e.converter,yy(e._query,t))}_parse(e){const t=i_(e.firestore);return function(o,l,u,h,f,m,y){let v;if(f.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new pe(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){gS(y,m);const k=[];for(const A of y)k.push(mS(h,o,A));v={arrayValue:{values:k}}}else v=mS(h,o,y)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||gS(y,m),v=J5(u,l,y,m==="in"||m==="not-in");return en.create(f,m,v)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Z5(n,e,t){const r=e,i=sp("where",n);return op._create(i,r,t)}class c_ extends l_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new c_(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:li.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let l=i;const u=o.getFlattenedFilters();for(const h of u)_A(l,h),l=yy(l,h)}(e._query,t),new ws(e.firestore,e.converter,yy(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class h_ extends u_{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new h_(e,t)}_apply(e){const t=function(i,o,l){if(i.startAt!==null)throw new pe(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new pe(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Lc(o,l)}(e._query,this._field,this._direction);return new ws(e.firestore,e.converter,function(i,o){const l=i.explicitOrderBy.concat([o]);return new hu(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function e9(n,e="asc"){const t=e,r=sp("orderBy",n);return h_._create(r,t)}class d_ extends u_{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new d_(e,t,r)}_apply(e){return new ws(e.firestore,e.converter,mf(e._query,this._limit,this._limitType))}}function oz(n){return d_._create("limit",n,"F")}function mS(n,e,t){if(typeof(t=Fn(t))=="string"){if(t==="")throw new pe(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fI(e)&&t.indexOf("/")!==-1)throw new pe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(xt.fromString(t));if(!De.isDocumentKey(r))throw new pe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return C1(n,new De(r))}if(t instanceof nn)return C1(n,t._key);throw new pe(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zf(t)}.`)}function gS(n,e){if(!Array.isArray(n)||n.length===0)throw new pe(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _A(n,e){const t=function(i,o){for(const l of i)for(const u of l.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new pe(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class t9{convertValue(e,t="none"){switch(To(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Eo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Fe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Po(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;const o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[ff].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>Kt(l.doubleValue));return new Di(o)}convertGeoPoint(e){return new Ci(Kt(e.latitude),Kt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Hf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Oc(e));default:return null}}convertTimestamp(e){const t=wo(e);return new Pt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=xt.fromString(e);gt(LI(r),9688,{name:e});const i=new Nc(r.get(1),r.get(3)),o=new De(r.popFirst(5));return i.isEqual(t)||ms(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n9(n,e,t){let r;return r=n?n.toFirestore(e):e,r}class oc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class va extends gA{constructor(e,t,r,i,o,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new zd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(sp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=va._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}va._jsonSchemaVersion="firestore/documentSnapshot/1.0",va._jsonSchema={type:tn("string",va._jsonSchemaVersion),bundleSource:tn("string","DocumentSnapshot"),bundleName:tn("string"),bundle:tn("string")};class zd extends va{data(e={}){return super.data(e)}}class _a{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new oc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new zd(this._firestore,this._userDataWriter,r.key,r,new oc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new pe(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(u=>{const h=new zd(i._firestore,i._userDataWriter,u.doc.key,u.doc,new oc(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>o||u.type!==3).map(u=>{const h=new zd(i._firestore,i._userDataWriter,u.doc.key,u.doc,new oc(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,m=-1;return u.type!==0&&(f=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),m=l.indexOf(u.doc.key)),{type:r9(u.type),doc:h,oldIndex:f,newIndex:m}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=_a._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Dv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function r9(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fe(61501,{type:n})}}_a._jsonSchemaVersion="firestore/querySnapshot/1.0",_a._jsonSchema={type:tn("string",_a._jsonSchemaVersion),bundleSource:tn("string","QuerySnapshot"),bundleName:tn("string"),bundle:tn("string")};class f_ extends t9{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new nn(this.firestore,null,t)}}function az(n){n=cs(n,ws);const e=cs(n.firestore,Xl),t=n_(e),r=new f_(e);return yA(n._query),U5(t,n._query).then(i=>new _a(e,r,n,i))}function yS(n,e,t,...r){n=cs(n,nn);const i=cs(n.firestore,Xl),o=i_(i);let l;return l=typeof(e=Fn(e))=="string"||e instanceof np?Q5(o,"updateDoc",n._key,e,t,r):K5(o,"updateDoc",n._key,e),EA(i,[l.toMutation(n._key,Pi.exists(!0))])}function lz(n,e){const t=cs(n.firestore,Xl),r=Ay(n),i=n9(n.converter,e);return EA(t,[G5(i_(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Pi.exists(!1))]).then(()=>r)}function wA(n,...e){var t,r,i;n=Fn(n);let o={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||pS(e[l])||(o=e[l++]);const u={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(pS(e[l])){const y=e[l];e[l]=(t=y.next)===null||t===void 0?void 0:t.bind(y),e[l+1]=(r=y.error)===null||r===void 0?void 0:r.bind(y),e[l+2]=(i=y.complete)===null||i===void 0?void 0:i.bind(y)}let h,f,m;if(n instanceof nn)f=cs(n.firestore,Xl),m=jv(n._key.path),h={next:y=>{e[l]&&e[l](i9(f,n,y))},error:e[l+1],complete:e[l+2]};else{const y=cs(n,ws);f=cs(y.firestore,Xl),m=y._query;const v=new f_(f);h={next:T=>{e[l]&&e[l](new _a(f,v,y,T))},error:e[l+1],complete:e[l+2]},yA(n._query)}return function(v,T,k,A){const P=new oA(A),q=new XI(T,P,k);return v.asyncQueue.enqueueAndForget(async()=>QI(await Iy(v),q)),()=>{P.Ou(),v.asyncQueue.enqueueAndForget(async()=>JI(await Iy(v),q))}}(n_(f),m,u,h)}function EA(n,e){return function(r,i){const o=new po;return r.asyncQueue.enqueueAndForget(async()=>A5(await F5(r),i,o)),o.promise}(n_(n),e)}function i9(n,e,t){const r=t.docs.get(e._key),i=new f_(n);return new va(n,i,e._key,r,new oc(t.hasPendingWrites,t.fromCache),e.converter)}function uz(){return new s_("serverTimestamp")}(function(e,t=!0){(function(i){lu=i})(au),Wl(new Sa("firestore",(r,{instanceIdentifier:i,options:o})=>{const l=r.getProvider("app").getImmediate(),u=new Xl(new JU(r.getProvider("auth-internal")),new ZU(l,r.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new pe(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nc(f.options.projectId,m)}(l,i),l);return o=Object.assign({useFetchStreams:t},o),u._setSettings(o),u},"PUBLIC").setMultipleInstances(!0)),ho(y1,v1,e),ho(y1,v1,"esm2017")})();function p_(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function TA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const s9=TA,SA=new Kc("auth","Firebase",TA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tf=new Iv("@firebase/auth");function o9(n,...e){Tf.logLevel<=it.WARN&&Tf.warn(`Auth (${au}): ${n}`,...e)}function qd(n,...e){Tf.logLevel<=it.ERROR&&Tf.error(`Auth (${au}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(n,...e){throw g_(n,...e)}function ai(n,...e){return g_(n,...e)}function m_(n,e,t){const r=Object.assign(Object.assign({},s9()),{[e]:t});return new Kc("auth","Firebase",r).create(e,{appName:n.name})}function wa(n){return m_(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function a9(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Mi(n,"argument-error"),m_(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function g_(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return SA.create(n,...e)}function $e(n,e,...t){if(!n)throw g_(e,...t)}function is(n){const e="INTERNAL ASSERTION FAILED: "+n;throw qd(e),new Error(e)}function ys(n,e){n||is(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function l9(){return vS()==="http:"||vS()==="https:"}function vS(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(l9()||bF()||"connection"in navigator)?navigator.onLine:!0}function c9(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,t){this.shortDelay=e,this.longDelay=t,ys(t>e,"Short delay should be less than long delay!"),this.isMobile=EF()||xF()}get(){return u9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y_(n,e){ys(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;is("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;is("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;is("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d9=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],f9=new nh(3e4,6e4);function v_(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function fu(n,e,t,r,i={}){return xA(n,i,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const u=Qc(Object.assign({key:n.config.apiKey},l)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const f=Object.assign({method:e,headers:h},o);return SF()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&ou(n.emulatorConfig.host)&&(f.credentials="include"),bA.fetch()(await kA(n,n.config.apiHost,t,u),f)})}async function xA(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},h9),e);try{const i=new m9(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Cd(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[h,f]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cd(n,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Cd(n,"email-already-in-use",l);if(h==="USER_DISABLED")throw Cd(n,"user-disabled",l);const m=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw m_(n,m,f);Mi(n,m)}}catch(i){if(i instanceof _s)throw i;Mi(n,"network-request-failed",{message:String(i)})}}async function p9(n,e,t,r,i={}){const o=await fu(n,e,t,r,i);return"mfaPendingCredential"in o&&Mi(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function kA(n,e,t,r){const i=`${e}${t}?${r}`,o=n,l=o.config.emulator?y_(n.config,i):`${n.config.apiScheme}://${i}`;return d9.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}class m9{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ai(this.auth,"network-request-failed")),f9.get())})}}function Cd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=ai(n,e,r);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g9(n,e){return fu(n,"POST","/v1/accounts:delete",e)}async function Sf(n,e){return fu(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function y9(n,e=!1){const t=Fn(n),r=await t.getIdToken(e),i=__(r);$e(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Ec(vg(i.auth_time)),issuedAtTime:Ec(vg(i.iat)),expirationTime:Ec(vg(i.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function vg(n){return Number(n)*1e3}function __(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return qd("JWT malformed, contained fewer than 3 sections"),null;try{const i=Pk(t);return i?JSON.parse(i):(qd("Failed to decode base64 JWT payload"),null)}catch(i){return qd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function _S(n){const e=__(n);return $e(e,"internal-error"),$e(typeof e.exp<"u","internal-error"),$e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uc(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof _s&&v9(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function v9({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ec(this.lastLoginAt),this.creationTime=Ec(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bf(n){var e;const t=n.auth,r=await n.getIdToken(),i=await Uc(n,Sf(t,{idToken:r}));$e(i==null?void 0:i.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?IA(o.providerUserInfo):[],u=E9(n.providerData,l),h=n.isAnonymous,f=!(n.email&&o.passwordHash)&&!(u!=null&&u.length),m=h?f:!1,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Cy(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(n,y)}async function w9(n){const e=Fn(n);await bf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function E9(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function IA(n){return n.map(e=>{var{providerId:t}=e,r=p_(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T9(n,e){const t=await xA(n,{},async()=>{const r=Qc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,l=await kA(n,i,"/v1/token",`key=${o}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:u,body:r};return n.emulatorConfig&&ou(n.emulatorConfig.host)&&(h.credentials="include"),bA.fetch()(l,h)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function S9(n,e){return fu(n,"POST","/v2/accounts:revokeToken",v_(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$e(e.idToken,"internal-error"),$e(typeof e.idToken<"u","internal-error"),$e(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_S(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){$e(e.length!==0,"internal-error");const t=_S(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:($e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:o}=await T9(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,l=new Ml;return r&&($e(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&($e(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&($e(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ml,this.toJSON())}_performRefresh(){return is("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xs(n,e){$e(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class oi{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=p_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Cy(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Uc(this,this.stsTokenManager.getToken(this.auth,e));return $e(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return y9(this,e)}reload(){return w9(this)}_assign(e){this!==e&&($e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new oi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){$e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await bf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(si(this.auth.app))return Promise.reject(wa(this.auth));const e=await this.getIdToken();return await Uc(this,g9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,l,u,h,f,m;const y=(r=t.displayName)!==null&&r!==void 0?r:void 0,v=(i=t.email)!==null&&i!==void 0?i:void 0,T=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,k=(l=t.photoURL)!==null&&l!==void 0?l:void 0,A=(u=t.tenantId)!==null&&u!==void 0?u:void 0,P=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,q=(f=t.createdAt)!==null&&f!==void 0?f:void 0,B=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:U,emailVerified:J,isAnonymous:Z,providerData:ne,stsTokenManager:x}=t;$e(U&&x,e,"internal-error");const b=Ml.fromJSON(this.name,x);$e(typeof U=="string",e,"internal-error"),Xs(y,e.name),Xs(v,e.name),$e(typeof J=="boolean",e,"internal-error"),$e(typeof Z=="boolean",e,"internal-error"),Xs(T,e.name),Xs(k,e.name),Xs(A,e.name),Xs(P,e.name),Xs(q,e.name),Xs(B,e.name);const C=new oi({uid:U,auth:e,email:v,emailVerified:J,displayName:y,isAnonymous:Z,photoURL:k,phoneNumber:T,tenantId:A,stsTokenManager:b,createdAt:q,lastLoginAt:B});return ne&&Array.isArray(ne)&&(C.providerData=ne.map(O=>Object.assign({},O))),P&&(C._redirectEventId=P),C}static async _fromIdTokenResponse(e,t,r=!1){const i=new Ml;i.updateFromServerResponse(t);const o=new oi({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await bf(o),o}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];$e(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?IA(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),u=new Ml;u.updateFromIdToken(r);const h=new oi({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Cy(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS=new Map;function ss(n){ys(n instanceof Function,"Expected a class definition");let e=wS.get(n);return e?(ys(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,wS.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}AA.type="NONE";const ES=AA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wd(n,e,t){return`firebase:${n}:${e}:${t}`}class Ll{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Wd(this.userKey,i.apiKey,o),this.fullPersistenceKey=Wd("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Sf(this.auth,{idToken:e}).catch(()=>{});return t?oi._fromGetAccountInfoResponse(this.auth,t,e):null}return oi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Ll(ss(ES),e,r);const i=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=i[0]||ss(ES);const l=Wd(r,e.config.apiKey,e.name);let u=null;for(const f of t)try{const m=await f._get(l);if(m){let y;if(typeof m=="string"){const v=await Sf(e,{idToken:m}).catch(()=>{});if(!v)break;y=await oi._fromGetAccountInfoResponse(e,v,m)}else y=oi._fromJSON(e,m);f!==o&&(u=y),o=f;break}}catch{}const h=i.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new Ll(o,e,r):(o=h[0],u&&await o._set(l,u.toJSON()),await Promise.all(t.map(async f=>{if(f!==o)try{await f._remove(l)}catch{}})),new Ll(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TS(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(DA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(NA(e))return"Blackberry";if(MA(e))return"Webos";if(RA(e))return"Safari";if((e.includes("chrome/")||CA(e))&&!e.includes("edge/"))return"Chrome";if(OA(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function PA(n=jn()){return/firefox\//i.test(n)}function RA(n=jn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function CA(n=jn()){return/crios\//i.test(n)}function DA(n=jn()){return/iemobile/i.test(n)}function OA(n=jn()){return/android/i.test(n)}function NA(n=jn()){return/blackberry/i.test(n)}function MA(n=jn()){return/webos/i.test(n)}function w_(n=jn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function b9(n=jn()){var e;return w_(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function x9(){return kF()&&document.documentMode===10}function LA(n=jn()){return w_(n)||OA(n)||MA(n)||NA(n)||/windows phone/i.test(n)||DA(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(n,e=[]){let t;switch(n){case"Browser":t=TS(jn());break;case"Worker":t=`${TS(jn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${au}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((l,u)=>{try{const h=e(o);l(h)}catch(h){u(h)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I9(n,e={}){return fu(n,"GET","/v2/passwordPolicy",v_(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A9=6;class P9{constructor(e){var t,r,i,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:A9,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,l,u;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(i=h.containsLowercaseLetter)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(o=h.containsUppercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(u=h.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),h}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new SS(this),this.idTokenSubscription=new SS(this),this.beforeStateQueue=new k9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=SA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ss(t)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await Ll.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Sf(this,{idToken:e}),r=await oi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(si(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=i==null?void 0:i._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&(h!=null&&h.user)&&(i=h.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return $e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await bf(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=c9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(si(this.app))return Promise.reject(wa(this));const t=e?Fn(e):null;return t&&$e(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&$e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return si(this.app)?Promise.reject(wa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return si(this.app)?Promise.reject(wa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ss(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await I9(this),t=new P9(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Kc("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await S9(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ss(e)||this._popupRedirectResolver;$e(t,this,"argument-error"),this.redirectPersistenceManager=await Ll.create(this,[ss(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if($e(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,i);return()=>{l=!0,h()}}else{const h=e.addObserver(t);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=VA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(si(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&o9(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ap(n){return Fn(n)}class SS{constructor(e){this.auth=e,this.observer=null,this.addObserver=NF(t=>this.observer=t)}get next(){return $e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let E_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function C9(n){E_=n}function D9(n){return E_.loadJS(n)}function O9(){return E_.gapiScript}function N9(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M9(n,e){const t=Pv(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(Ta(o,e??{}))return i;Mi(i,"already-initialized")}return t.initialize({options:e})}function L9(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(ss);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function V9(n,e,t){const r=ap(n);$e(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=jA(e),{host:l,port:u}=j9(e),h=u===null?"":`:${u}`,f={url:`${o}//${l}${h}/`},m=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){$e(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),$e(Ta(f,r.config.emulator)&&Ta(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,ou(l)?(Ok(`${o}//${l}${h}`),Nk("Auth",!0)):F9()}function jA(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function j9(n){const e=jA(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:bS(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:bS(l)}}}function bS(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function F9(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return is("not implemented")}_getIdTokenResponse(e){return is("not implemented")}_linkToIdToken(e,t){return is("not implemented")}_getReauthenticationResolver(e){return is("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vl(n,e){return p9(n,"POST","/v1/accounts:signInWithIdp",v_(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U9="http://localhost";class ka extends FA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ka(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Mi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=p_(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new ka(r,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Vl(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Vl(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Vl(e,t)}buildRequest(){const e={requestUri:U9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Qc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh extends T_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io extends rh{constructor(){super("facebook.com")}static credential(e){return ka._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return io.credential(e.oauthAccessToken)}catch{return null}}}io.FACEBOOK_SIGN_IN_METHOD="facebook.com";io.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends rh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ka._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return rs.credential(t,r)}catch{return null}}}rs.GOOGLE_SIGN_IN_METHOD="google.com";rs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so extends rh{constructor(){super("github.com")}static credential(e){return ka._fromParams({providerId:so.PROVIDER_ID,signInMethod:so.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return so.credentialFromTaggedObject(e)}static credentialFromError(e){return so.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return so.credential(e.oauthAccessToken)}catch{return null}}}so.GITHUB_SIGN_IN_METHOD="github.com";so.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends rh{constructor(){super("twitter.com")}static credential(e,t){return ka._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return oo.credentialFromTaggedObject(e)}static credentialFromError(e){return oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return oo.credential(t,r)}catch{return null}}}oo.TWITTER_SIGN_IN_METHOD="twitter.com";oo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const o=await oi._fromIdTokenResponse(e,r,i),l=xS(r);return new Yl({user:o,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=xS(r);return new Yl({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function xS(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf extends _s{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,xf.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new xf(e,t,r,i)}}function UA(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?xf._fromErrorAndOperation(n,o,e,r):o})}async function $9(n,e,t=!1){const r=await Uc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Yl._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B9(n,e,t=!1){const{auth:r}=n;if(si(r.app))return Promise.reject(wa(r));const i="reauthenticate";try{const o=await Uc(n,UA(r,i,e,n),t);$e(o.idToken,r,"internal-error");const l=__(o.idToken);$e(l,r,"internal-error");const{sub:u}=l;return $e(n.uid===u,r,"user-mismatch"),Yl._forOperation(n,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Mi(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z9(n,e,t=!1){if(si(n.app))return Promise.reject(wa(n));const r="signIn",i=await UA(n,r,e),o=await Yl._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}function q9(n,e,t,r){return Fn(n).onIdTokenChanged(e,t,r)}function W9(n,e,t){return Fn(n).beforeAuthStateChanged(e,t)}const kf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(kf,"1"),this.storage.removeItem(kf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H9=1e3,G9=10;class BA extends $A{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=LA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);x9()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,G9):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},H9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}BA.type="LOCAL";const K9=BA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA extends $A{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}zA.type="SESSION";const qA=zA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q9(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new lp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:o}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async f=>f(t.origin,o)),h=await Q9(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((u,h)=>{const f=S_("",20);i.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(y){const v=y;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(v.data.response);break;default:clearTimeout(m),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(){return window}function X9(n){Oi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(){return typeof Oi().WorkerGlobalScope<"u"&&typeof Oi().importScripts=="function"}async function Y9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Z9(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function e$(){return WA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA="firebaseLocalStorageDb",t$=1,If="firebaseLocalStorage",GA="fbase_key";class ih{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function up(n,e){return n.transaction([If],e?"readwrite":"readonly").objectStore(If)}function n$(){const n=indexedDB.deleteDatabase(HA);return new ih(n).toPromise()}function Dy(){const n=indexedDB.open(HA,t$);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(If,{keyPath:GA})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(If)?e(r):(r.close(),await n$(),e(await Dy()))})})}async function kS(n,e,t){const r=up(n,!0).put({[GA]:e,value:t});return new ih(r).toPromise()}async function r$(n,e){const t=up(n,!1).get(e),r=await new ih(t).toPromise();return r===void 0?null:r.value}function IS(n,e){const t=up(n,!0).delete(e);return new ih(t).toPromise()}const i$=800,s$=3;class KA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Dy(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>s$)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return WA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lp._getInstance(e$()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Y9(),!this.activeServiceWorker)return;this.sender=new J9(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Z9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Dy();return await kS(e,kf,"1"),await IS(e,kf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>kS(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>r$(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>IS(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=up(i,!1).getAll();return new ih(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),i$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}KA.type="LOCAL";const o$=KA;new nh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(n,e){return e?ss(e):($e(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_ extends FA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Vl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Vl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function a$(n){return z9(n.auth,new b_(n),n.bypassAuthState)}function l$(n){const{auth:e,user:t}=n;return $e(t,e,"internal-error"),B9(t,new b_(n),n.bypassAuthState)}async function u$(n){const{auth:e,user:t}=n;return $e(t,e,"internal-error"),$9(t,new b_(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:l,type:u}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return a$;case"linkViaPopup":case"linkViaRedirect":return u$;case"reauthViaPopup":case"reauthViaRedirect":return l$;default:Mi(this.auth,"internal-error")}}resolve(e){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c$=new nh(2e3,1e4);async function h$(n,e,t){if(si(n.app))return Promise.reject(ai(n,"operation-not-supported-in-this-environment"));const r=ap(n);a9(n,e,T_);const i=QA(r,t);return new ma(r,"signInViaPopup",e,i).executeNotNull()}class ma extends JA{constructor(e,t,r,i,o){super(e,t,i,o),this.provider=r,this.authWindow=null,this.pollId=null,ma.currentPopupAction&&ma.currentPopupAction.cancel(),ma.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return $e(e,this.auth,"internal-error"),e}async onExecution(){ys(this.filter.length===1,"Popup operations only handle one event");const e=S_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ma.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,c$.get())};e()}}ma.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d$="pendingRedirect",Hd=new Map;class f$ extends JA{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Hd.get(this.auth._key());if(!e){try{const r=await p$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Hd.set(this.auth._key(),e)}return this.bypassAuthState||Hd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function p$(n,e){const t=y$(e),r=g$(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function m$(n,e){Hd.set(n._key(),e)}function g$(n){return ss(n._redirectPersistence)}function y$(n){return Wd(d$,n.config.apiKey,n.name)}async function v$(n,e,t=!1){if(si(n.app))return Promise.reject(wa(n));const r=ap(n),i=QA(r,e),l=await new f$(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _$=10*60*1e3;class w${constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!E$(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!XA(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(ai(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_$&&this.cachedEventUids.clear(),this.cachedEventUids.has(AS(e))}saveEventToCache(e){this.cachedEventUids.add(AS(e)),this.lastProcessedEventTime=Date.now()}}function AS(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function XA({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function E$(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return XA(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T$(n,e={}){return fu(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,b$=/^https?/;async function x$(n){if(n.config.emulator)return;const{authorizedDomains:e}=await T$(n);for(const t of e)try{if(k$(t))return}catch{}Mi(n,"unauthorized-domain")}function k$(n){const e=Ry(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!b$.test(t))return!1;if(S$.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I$=new nh(3e4,6e4);function PS(){const n=Oi().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function A$(n){return new Promise((e,t)=>{var r,i,o;function l(){PS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{PS(),t(ai(n,"network-request-failed"))},timeout:I$.get()})}if(!((i=(r=Oi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Oi().gapi)===null||o===void 0)&&o.load)l();else{const u=N9("iframefcb");return Oi()[u]=()=>{gapi.load?l():t(ai(n,"network-request-failed"))},D9(`${O9()}?onload=${u}`).catch(h=>t(h))}}).catch(e=>{throw Gd=null,e})}let Gd=null;function P$(n){return Gd=Gd||A$(n),Gd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R$=new nh(5e3,15e3),C$="__/auth/iframe",D$="emulator/auth/iframe",O$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},N$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function M$(n){const e=n.config;$e(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?y_(e,D$):`https://${n.config.authDomain}/${C$}`,r={apiKey:e.apiKey,appName:n.name,v:au},i=N$.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Qc(r).slice(1)}`}async function L$(n){const e=await P$(n),t=Oi().gapi;return $e(t,n,"internal-error"),e.open({where:document.body,url:M$(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:O$,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const l=ai(n,"network-request-failed"),u=Oi().setTimeout(()=>{o(l)},R$.get());function h(){Oi().clearTimeout(u),i(r)}r.ping(h).then(h,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},j$=500,F$=600,U$="_blank",$$="http://localhost";class RS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function B$(n,e,t,r=j$,i=F$){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const h=Object.assign(Object.assign({},V$),{width:r.toString(),height:i.toString(),top:o,left:l}),f=jn().toLowerCase();t&&(u=CA(f)?U$:t),PA(f)&&(e=e||$$,h.scrollbars="yes");const m=Object.entries(h).reduce((v,[T,k])=>`${v}${T}=${k},`,"");if(b9(f)&&u!=="_self")return z$(e||"",u),new RS(null);const y=window.open(e||"",u,m);$e(y,n,"popup-blocked");try{y.focus()}catch{}return new RS(y)}function z$(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q$="__/auth/handler",W$="emulator/auth/handler",H$=encodeURIComponent("fac");async function CS(n,e,t,r,i,o){$e(n.config.authDomain,n,"auth-domain-config-required"),$e(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:au,eventId:i};if(e instanceof T_){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",OF(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,y]of Object.entries({}))l[m]=y}if(e instanceof rh){const m=e.getScopes().filter(y=>y!=="");m.length>0&&(l.scopes=m.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const h=await n._getAppCheckToken(),f=h?`#${H$}=${encodeURIComponent(h)}`:"";return`${G$(n)}?${Qc(u).slice(1)}${f}`}function G$({config:n}){return n.emulator?y_(n,W$):`https://${n.authDomain}/${q$}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g="webStorageSupport";class K${constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qA,this._completeRedirectFn=v$,this._overrideRedirectResult=m$}async _openPopup(e,t,r,i){var o;ys((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await CS(e,t,r,Ry(),i);return B$(e,l,S_())}async _openRedirect(e,t,r,i){await this._originValidation(e);const o=await CS(e,t,r,Ry(),i);return X9(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(ys(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await L$(e),r=new w$(e);return t.register("authEvent",i=>($e(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(_g,{type:_g},i=>{var o;const l=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[_g];l!==void 0&&t(!!l),Mi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=x$(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return LA()||RA()||w_()}}const Q$=K$;var DS="@firebase/auth",OS="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J${constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){$e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X$(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Y$(n){Wl(new Sa("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;$e(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VA(n)},f=new R9(r,i,o,h);return L9(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Wl(new Sa("auth-internal",e=>{const t=ap(e.getProvider("auth").getImmediate());return(r=>new J$(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ho(DS,OS,X$(n)),ho(DS,OS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z$=5*60,eB=Dk("authIdTokenMaxAge")||Z$;let NS=null;const tB=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>eB)return;const i=t==null?void 0:t.token;NS!==i&&(NS=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function nB(n=Rv()){const e=Pv(n,"auth");if(e.isInitialized())return e.getImmediate();const t=M9(n,{popupRedirectResolver:Q$,persistence:[o$,K9,qA]}),r=Dk("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=tB(o.toString());W9(t,l,()=>l(t.currentUser)),q9(t,u=>l(u))}}const i=Rk("auth");return i&&V9(t,`http://${i}`),t}function rB(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}C9({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=ai("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",rB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Y$("Browser");const iB={apiKey:"AIzaSyBqbrtGmDkzKNpyMpAYp57CYfvZxSCwuWE",authDomain:"classic-offset-cards.firebaseapp.com",projectId:"classic-offset-cards",storageBucket:"classic-offset-cards.appspot.com",messagingSenderId:"723894732778",appId:"1:723894732778:web:524ff4af317750fe14d493"},YA=MU().length?Rv():Vk(iB),Kd=B5(YA),sB=nB(YA);function oB(n){const e=new Date(n),r=Math.round((new Date().getTime()-e.getTime())/1e3),i=Math.round(r/60),o=Math.round(i/60),l=Math.round(o/24);return r<60?`${r} seconds ago`:i<60?`${i} minutes ago`:o<24?`${o} hours ago`:`${l} days ago`}const aB=({onClose:n})=>{const[e,t]=D.useState([]),r=eu();D.useEffect(()=>{const u=vA(cA(Kd,"notifications"),e9("timestamp","desc")),h=wA(u,f=>{const m=[];f.forEach(y=>{m.push({id:y.id,...y.data()})}),t(m)});return()=>h()},[]);const i=e.filter(u=>!u.read).length,o=async u=>{if(!u.read){const h=Ay(Kd,"notifications",u.id);await yS(h,{read:!0})}r("/orders"),n()},l=async()=>{e.forEach(async u=>{if(!u.read){const h=Ay(Kd,"notifications",u.id);await yS(h,{read:!0})}})};return R.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white dark:bg-gray-800 rounded-lg shadow-lg border dark:border-gray-700 z-50",children:[R.jsxs("div",{className:"flex justify-between items-center p-3 border-b dark:border-gray-700",children:[R.jsxs("h3",{className:"font-semibold",children:["Notifications (",i,")"]}),R.jsxs("button",{onClick:l,className:"text-sm text-primary-600 hover:underline flex items-center gap-1",children:[R.jsx(cN,{size:16})," Mark all as read"]})]}),R.jsx("div",{className:"max-h-96 overflow-y-auto",children:e.length===0?R.jsx("p",{className:"p-4 text-center text-gray-500",children:"No notifications yet."}):e.map(u=>R.jsxs("div",{onClick:()=>o(u),className:`p-3 border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer ${u.read?"":"bg-primary-50 dark:bg-primary-900/20"}`,children:[R.jsxs("p",{className:"font-bold",children:["Order #",u.orderId," Status"]}),R.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:u.message}),R.jsx("p",{className:"text-xs text-gray-400 mt-1",children:u.timestamp?oB(u.timestamp.toDate()):"just now"})]},u.id))}),R.jsx("div",{className:"p-2 text-center border-t dark:border-gray-700",children:R.jsx("button",{onClick:n,className:"text-sm text-gray-500 hover:underline",children:"Close"})})]})},lB=()=>{const{user:n}=Of(),[e,t]=D.useState(0),[r,i]=D.useState(!1),o=D.useRef(null);return kv(o,()=>i(!1)),D.useEffect(()=>{if(!n)return;const l=vA(cA(Kd,"notifications"),Z5("read","==",!1)),u=wA(l,h=>{t(h.size)});return()=>u()},[n]),R.jsxs("div",{className:"relative",ref:o,children:[R.jsxs("button",{onClick:()=>i(!r),className:"relative p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700",children:[e>0?R.jsx(rN,{className:"text-primary-500"}):R.jsx(sN,{}),e>0&&R.jsx("span",{className:"absolute top-1 right-1 h-3 w-3 rounded-full bg-red-500 text-white text-xs flex items-center justify-center font-bold",children:e>9?"9+":e})]}),r&&R.jsx(aB,{onClose:()=>i(!1)})]})},uB=()=>{const{theme:n,toggleTheme:e}=Df(),t=n==="dark";return R.jsx(Xb,{onClick:e,variant:"ghost",size:"icon",className:"rounded-full w-9 h-9 relative","aria-label":`Switch to ${t?"light":"dark"} mode`,title:`Switch to ${t?"light":"dark"} mode`,children:R.jsxs("div",{className:"relative w-5 h-5",children:[R.jsx(ya.div,{initial:{opacity:0,rotate:-90,scale:.5},animate:{opacity:t?0:1,rotate:t?-90:0,scale:t?.5:1},transition:{duration:.3},className:"absolute inset-0 flex items-center justify-center",children:R.jsx(JN,{size:18,className:"text-amber-500"})}),R.jsx(ya.div,{initial:{opacity:0,rotate:90,scale:.5},animate:{opacity:t?1:0,rotate:t?0:90,scale:t?1:.5},transition:{duration:.3},className:"absolute inset-0 flex items-center justify-center",children:R.jsx(BN,{size:18,className:"text-indigo-300"})})]})})},cB=({onMenuClick:n})=>{const{theme:e}=Df(),[t,r]=D.useState(!1),{userProfile:i}=Of(),o=(i==null?void 0:i.role)==="Owner"||(i==null?void 0:i.role)==="Manager";return R.jsxs(R.Fragment,{children:[R.jsx("header",{className:"h-16 bg-card border-b border-border flex-shrink-0 z-10",children:R.jsxs("div",{className:"h-full px-4 flex items-center justify-between",children:[R.jsx("div",{className:"flex items-center",children:R.jsx("button",{onClick:n,className:"p-2 rounded-full text-muted-foreground hover:bg-accent hover:text-accent-foreground transition-colors lg:hidden","aria-label":"Open sidebar",children:R.jsx(VN,{size:20})})}),R.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[R.jsxs(Ul,{to:"/showcase",className:"hidden sm:flex items-center gap-1.5 text-sm font-medium text-primary hover:text-primary/80 transition-colors duration-200 group",children:[R.jsx(AN,{size:16,className:"transition-transform duration-300 group-hover:rotate-6 group-hover:scale-110"}),"Showcase"]}),R.jsxs("button",{onClick:()=>r(!0),className:"hidden sm:flex items-center gap-1.5 text-sm font-medium text-success hover:text-success/80 transition-colors duration-200",children:[R.jsx(Fg,{size:16}),"WhatsApp"]}),o&&R.jsxs(Ul,{to:"/admin/content",className:"hidden sm:flex items-center gap-1.5 text-sm font-medium text-info hover:text-info/80 transition-colors duration-200 group",children:[R.jsx(Mf,{size:16,className:"transition-transform duration-300 group-hover:rotate-12 group-hover:scale-110"}),"Admin"]}),R.jsx(uB,{}),R.jsx(lB,{}),R.jsx("div",{className:"border-l border-border pl-2 sm:pl-4",children:R.jsx(oF,{})})]})]})}),R.jsx(aF,{isOpen:t,onClose:()=>r(!1)})]})},hB=()=>{const{pathname:n}=jr();return D.useEffect(()=>{const e=document.querySelector(".main-content");e&&e.scrollTo(0,0)},[n]),null},dB=({children:n})=>{const[e,t]=D.useState(!1),[r,i]=D.useState(()=>{const h=localStorage.getItem("sidebarCollapsed");return h?JSON.parse(h):!1}),{theme:o}=Df(),l=D.useRef(null);D.useEffect(()=>{localStorage.setItem("sidebarCollapsed",JSON.stringify(r))},[r]),kv(l,()=>{e&&t(!1)});const u=jr();return D.useEffect(()=>{window.innerWidth<1024&&t(!1)},[u.pathname]),R.jsxs("div",{className:`min-h-screen flex bg-background ${o==="dark"?"dark":""}`,children:[R.jsx(hB,{}),R.jsx("div",{className:"hidden lg:flex lg:flex-shrink-0",children:R.jsx(i1,{isDocked:!0,isCollapsed:r,setIsCollapsed:i,onClose:()=>{}})}),R.jsx(Qy,{children:e&&R.jsxs(R.Fragment,{children:[R.jsx(ya.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-30 lg:hidden","aria-hidden":"true",onClick:()=>t(!1)}),R.jsx(ya.div,{ref:l,initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",stiffness:300,damping:30},className:"fixed inset-y-0 left-0 z-40 lg:hidden",children:R.jsx(i1,{isDocked:!1,isCollapsed:!1,onClose:()=>t(!1)})},"mobile-sidebar")]})}),R.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[R.jsx(cB,{onMenuClick:()=>t(!0)}),R.jsx("main",{className:"flex-1 overflow-y-auto custom-scrollbar main-content",children:R.jsx("div",{className:"py-6",children:R.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:R.jsx(ya.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,ease:"easeInOut"},children:n},jr().pathname)})})})]})]})},fB=()=>{const{user:n,loading:e}=Of(),t=jr();return e?R.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:"Loading User..."}):n?R.jsx(dB,{children:R.jsx(OC,{})}):R.jsx(DC,{to:"/login",state:{from:t},replace:!0})},MS=({className:n})=>R.jsx("div",{className:`inline-block p-3 backdrop-blur-sm bg-white/20 rounded-xl ${n}`,children:R.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 24 24",strokeWidth:"2",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",className:"text-black dark:text-white",children:[R.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),R.jsx("path",{d:"M4 18v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z"}),R.jsx("path",{d:"M8 18v-12h-2"}),R.jsx("path",{d:"M12 18v-12"})]})});function pB(){const[n,e]=D.useState(""),[t,r]=D.useState(""),[i,o]=D.useState(""),[l,u]=D.useState(!1),[h,f]=D.useState(!1),m=eu(),y=async T=>{T.preventDefault(),u(!0),o("");const{error:k}=await as.auth.signInWithPassword({email:n,password:t});k?o(k.message):m("/"),u(!1)},v=async()=>{f(!0),o("");try{const T=new rs,A=(await h$(sB,T)).user;if(!A)throw new Error("Google sign-in failed.");const P=await A.getIdToken(),{data:q,error:B}=await as.functions.invoke("firebase-auth",{body:{idToken:P}});if(B)throw new Error(B.message);if(!q.access_token)throw new Error(q.error||"Supabase session error.");const{error:U}=await as.auth.setSession({access_token:q.access_token,refresh_token:q.refresh_token});if(U)throw U;m("/")}catch(T){o(T.message||"An error occurred during Google sign-in.")}finally{f(!1)}};return R.jsxs("div",{className:"min-h-screen w-full bg-white dark:bg-slate-900 md:grid md:grid-cols-2",children:[R.jsxs("div",{className:"hidden md:flex flex-col items-center justify-center p-12 bg-gradient-to-br from-indigo-600 via-purple-600 to-pink-600 text-white relative overflow-hidden",children:[R.jsx("div",{className:"absolute top-0 left-0 -mt-20 -ml-20 w-72 h-72 bg-white/10 rounded-full"}),R.jsx("div",{className:"absolute bottom-0 right-0 -mb-24 -mr-12 w-96 h-96 bg-white/10 rounded-full"}),R.jsxs("div",{className:"z-10 text-center",children:[R.jsx(MS,{}),R.jsx("h1",{className:"mt-6 text-4xl font-bold",children:"Classic Offset"}),R.jsx("p",{className:"mt-3 text-indigo-200 text-lg max-w-sm",children:"Where Every Impression Counts. Manage your printing business with precision and style."})]})]}),R.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-slate-50 dark:bg-slate-900 p-6",children:R.jsxs("div",{className:"w-full max-w-md",children:[R.jsx("div",{className:"text-center md:hidden mb-8",children:R.jsx(MS,{})}),R.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700",children:[R.jsx("h2",{className:"text-3xl font-bold text-black dark:text-white text-center",children:"Sign In"}),R.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400 text-center",children:"Welcome back! Please enter your details."}),i&&R.jsxs("div",{className:"mt-6 flex items-center gap-3 p-3 text-sm text-center text-red-800 dark:text-red-200 bg-red-100 dark:bg-red-900/30 border border-red-200 dark:border-red-700 rounded-lg",children:[R.jsx(jb,{className:"w-5 h-5 flex-shrink-0"}),R.jsx("span",{children:i})]}),R.jsxs("div",{className:"mt-8 space-y-4",children:[R.jsxs("button",{onClick:v,disabled:h||l,className:`w-full inline-flex justify-center items-center py-3 px-4 
                border border-gray-300 dark:border-gray-600 rounded-lg shadow-md hover:shadow-lg 
                bg-white dark:bg-gray-700 
                text-black dark:text-white 
                hover:bg-gray-100 dark:hover:bg-gray-600 
                disabled:opacity-60 disabled:cursor-wait transition-all`,children:[h?R.jsx(jg,{className:"w-5 h-5 mr-3 animate-spin"}):R.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 48 48",children:[R.jsx("defs",{children:R.jsx("path",{id:"a",d:"M44.5 20H24v8.5h11.8C34.7 33.9 30.1 37 24 37c-7.2 0-13-5.8-13-13s5.8-13 13-13c3.1 0 5.9 1.1 8.1 2.9l6.4-6.4C34.6 4.1 29.6 2 24 2 11.8 2 2 11.8 2 24s9.8 22 22 22c11 0 21-8 21-22 0-1.3-.2-2.7-.5-4z"})}),R.jsx("clipPath",{id:"b",children:R.jsx("use",{xlinkHref:"#a",overflow:"visible"})}),R.jsx("path",{clipPath:"url(#b)",fill:"#FBBC05",d:"M0 37V11l17 13z"}),R.jsx("path",{clipPath:"url(#b)",fill:"#EA4335",d:"M0 11l17 13 7-6.1L48 14V0H0z"}),R.jsx("path",{clipPath:"url(#b)",fill:"#34A853",d:"M0 37l30-23 7.9 1L48 0v48H0z"}),R.jsx("path",{clipPath:"url(#b)",fill:"#4285F4",d:"M48 48L17 24l-4-3 35-10z"})]}),R.jsx("span",{className:"font-medium",children:"Sign in with Google"})]}),R.jsxs("div",{className:"relative",children:[R.jsx("div",{className:"absolute inset-0 flex items-center",children:R.jsx("div",{className:"w-full border-t border-gray-300 dark:border-gray-600"})}),R.jsx("div",{className:"relative flex justify-center text-xs",children:R.jsx("span",{className:"px-2 bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-400 uppercase",children:"Or"})})]})]}),R.jsxs("form",{onSubmit:y,className:"mt-6 space-y-5",children:[R.jsxs("div",{children:[R.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-black dark:text-white mb-1",children:"Email"}),R.jsxs("div",{className:"relative",children:[R.jsx(Mb,{className:"w-5 h-5 text-gray-400 absolute top-1/2 left-3 -translate-y-1/2"}),R.jsx("input",{id:"email",type:"email",placeholder:"you@example.com",value:n,onChange:T=>e(T.target.value),required:!0,className:"w-full px-4 py-3 pl-10 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 text-black dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]}),R.jsxs("div",{children:[R.jsx("label",{htmlFor:"password-login",className:"block text-sm font-medium text-black dark:text-white mb-1",children:"Password"}),R.jsxs("div",{className:"relative",children:[R.jsx(Ob,{className:"w-5 h-5 text-gray-400 absolute top-1/2 left-3 -translate-y-1/2"}),R.jsx("input",{id:"password-login",type:"password",placeholder:"••••••••",value:t,onChange:T=>r(T.target.value),required:!0,className:"w-full px-4 py-3 pl-10 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 text-black dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]}),R.jsxs("div",{className:"flex items-center justify-between text-sm",children:[R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),R.jsx("label",{htmlFor:"remember-me",className:"text-gray-700 dark:text-gray-300",children:"Remember me"})]}),R.jsx(Ul,{to:"/forgot-password",className:"font-medium text-primary-600 hover:text-primary-500",children:"Forgot password?"})]}),R.jsx("div",{className:"pt-2",children:R.jsx("button",{type:"submit",disabled:l||h,className:`w-full flex items-center justify-center min-h-[48px] py-3 px-4 
                  bg-white dark:bg-primary-600 
                  text-black dark:text-white 
                  font-semibold rounded-lg 
                  hover:bg-gray-100 dark:hover:bg-primary-700 
                  focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 
                  disabled:opacity-60 disabled:cursor-wait 
                  transition-all duration-300 transform hover:scale-105 active:scale-95 
                  shadow-md hover:shadow-lg`,children:l?R.jsx(jg,{className:"w-5 h-5 animate-spin"}):"Sign In"})})]})]})]})})]})}const mB=()=>R.jsx("div",{className:"flex justify-center items-center h-screen w-full bg-background text-foreground",children:R.jsx("div",{className:"text-lg font-semibold",children:"Loading..."})}),gB=D.lazy(()=>Tt(()=>import("./Dashboard-CIRzPcG7.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13]))),yB=D.lazy(()=>Tt(()=>import("./Orders-BF5x3K_-.js"),__vite__mapDeps([14,2,15,16,17,18,19,20,11,21,13,22,23,24,25,26,6,27,28,12,29,30,31,32,33,34,35,9,36]))),vB=D.lazy(()=>Tt(()=>import("./Expenses-DhsdWDOj.js"),__vite__mapDeps([37,2,15,16,38,32,30,29,39,40,13,34,20,17,18,41,36]))),_B=D.lazy(()=>Tt(()=>import("./MaterialsPage-Debuw0bB.js"),__vite__mapDeps([42,2,15,16,38,32,33,30,29,35,6,20,17,18,43,39,11,28,13,44,8,36,41]))),wB=D.lazy(()=>Tt(()=>import("./Staff-ciGxGlqW.js"),__vite__mapDeps([45,2,1,12]))),EB=D.lazy(()=>Tt(()=>import("./index-ComdOs0r.js"),__vite__mapDeps([46,2,15,20,4,34,41,32,36,47,48,33,30,29,35,19,17,18]))),TB=D.lazy(()=>Tt(()=>import("./Payments-B9gms0DY.js"),__vite__mapDeps([49,2,15,16,18,20,41,31,32,11,13,40,33,30,29,38,35,12,50,6,10,44,36,9,21]))),SB=D.lazy(()=>Tt(()=>import("./DueSummary-BDXsS3Ee.js"),__vite__mapDeps([51,2,52,53,26,54]))),bB=D.lazy(()=>Tt(()=>import("./ProductMaster-bMpXEPrT.js"),__vite__mapDeps([55,2,15,16,17,32,33,30,29,39,34,20,41]))),xB=D.lazy(()=>Tt(()=>import("./StatusOverview-BaXjnbhF.js"),__vite__mapDeps([56,2,15,57,32,6]))),kB=D.lazy(()=>Tt(()=>import("./InvoiceList-si5Znuyr.js"),__vite__mapDeps([58,2,15,32,33]))),IB=D.lazy(()=>Tt(()=>import("./InvoicePage-CBaJZrwM.js"),__vite__mapDeps([59,53,2,26]))),AB=D.lazy(()=>Tt(()=>import("./UserManagement-6JV6tZJE.js"),__vite__mapDeps([60,15,32,29,20,16,2,47]))),PB=D.lazy(()=>Tt(()=>import("./StockPage-Cp9VOZ0d.js"),__vite__mapDeps([61,15,2,17,18,16,44,31,32,38,13,62,43,3,20,26,28,30,33,52]))),RB=D.lazy(()=>Tt(()=>import("./ShowcasePage-Dj4Itp2U.js"),__vite__mapDeps([63,20,16,64,7,48,2]))),CB=D.lazy(()=>Tt(()=>import("./WhatsAppDashboard-B9K9FX6g.js"),__vite__mapDeps([65,2,16,17,66]))),DB=D.lazy(()=>Tt(()=>import("./NotFoundPage-DBlgUV58.js"),[])),OB=D.lazy(()=>Tt(()=>import("./SettingsPage-DQjc68JQ.js"),__vite__mapDeps([67,2,15,17,11,27,68,22,12,24,69,70,33,71,31,72,73,23]))),NB=D.lazy(()=>Tt(()=>import("./TeamChatPage-CLceK29d.js"),__vite__mapDeps([74,57,20,15,66,21]))),MB=D.lazy(()=>Tt(()=>import("./AdminContentManagement-DBjTUasB.js"),__vite__mapDeps([75,2,76,36,62,54,40,3,77,20,15,17,16,41,29,24,33,70,5,30,48,64,78,35,32]))),LB=D.lazy(()=>Tt(()=>import("./AIAgentPage-BQ9SRNlZ.js"),__vite__mapDeps([79,80,15,73,66,62,30]))),VB=D.lazy(()=>Tt(()=>import("./InsightsPage-D-n6ieiI.js"),__vite__mapDeps([81,80,15,73,66,1,2,62,82,23]))),qt=n=>R.jsx(OM,{children:R.jsx(D.Suspense,{fallback:R.jsx(mB,{}),children:n})}),jB=BC(bg(R.jsxs(R.Fragment,{children:[R.jsx(At,{path:"/login",element:R.jsx(pB,{})}),R.jsxs(At,{element:R.jsx(fB,{}),children:[R.jsx(At,{path:"/",element:qt(R.jsx(gB,{}))}),R.jsx(At,{path:"/orders",element:qt(R.jsx(yB,{}))}),R.jsx(At,{path:"/expenses",element:qt(R.jsx(vB,{}))}),R.jsx(At,{path:"/materials",element:qt(R.jsx(_B,{}))}),R.jsx(At,{path:"/staff",element:qt(R.jsx(wB,{}))}),R.jsx(At,{path:"/customers",element:qt(R.jsx(EB,{}))}),R.jsx(At,{path:"/payments",element:qt(R.jsx(TB,{}))}),R.jsx(At,{path:"/due-summary",element:qt(R.jsx(SB,{}))}),R.jsx(At,{path:"/products",element:qt(R.jsx(bB,{}))}),R.jsx(At,{path:"/status-overview",element:qt(R.jsx(xB,{}))}),R.jsx(At,{path:"/invoices",element:qt(R.jsx(kB,{}))}),R.jsx(At,{path:"/invoices/:id",element:qt(R.jsx(IB,{}))}),R.jsx(At,{path:"/users",element:qt(R.jsx(AB,{}))}),R.jsx(At,{path:"/stock",element:qt(R.jsx(PB,{}))}),R.jsx(At,{path:"/showcase",element:qt(R.jsx(RB,{}))}),R.jsx(At,{path:"/whatsapp",element:qt(R.jsx(CB,{}))}),R.jsx(At,{path:"/settings",element:qt(R.jsx(OB,{}))}),R.jsx(At,{path:"/team-chat",element:qt(R.jsx(NB,{}))}),R.jsx(At,{path:"/ai-agent",element:qt(R.jsx(LB,{}))}),R.jsx(At,{path:"/admin/content",element:qt(R.jsx(MB,{}))}),R.jsx(At,{path:"/insights",element:qt(R.jsx(VB,{}))})]}),R.jsx(At,{path:"*",element:qt(R.jsx(DB,{}))})]})));function FB(){return R.jsx(s2,{children:R.jsxs(oO,{children:[R.jsx(JO,{position:"top-right",toastOptions:{success:{duration:3e3,style:{background:"hsl(var(--success))",color:"hsl(var(--success-foreground))"},iconTheme:{primary:"hsl(var(--success-foreground))",secondary:"hsl(var(--success))"}},error:{duration:5e3,style:{background:"hsl(var(--destructive))",color:"hsl(var(--destructive-foreground))"},iconTheme:{primary:"hsl(var(--destructive-foreground))",secondary:"hsl(var(--destructive))"}},style:{fontSize:"14px",maxWidth:"400px",padding:"12px 18px",borderRadius:"var(--radius)"}}}),R.jsx(JC,{router:jB})]})})}fR.createRoot(document.getElementById("root")).render(R.jsx(FB,{}));export{Ob as $,Qy as A,Xb as B,dN as C,Vg as D,yS as E,kN as F,pN as G,gN as H,wg as I,wN as J,jS as K,Ul as L,UN as M,qB as N,JO as O,Ug as P,Mb as Q,qN as R,sN as S,jb as T,Nd as U,JB as V,Df as W,ZN as X,JN as Y,BN as Z,Tt as _,jg as a,MN as a0,Mf as a1,$B as a2,iR as a3,VS as a4,Hn as a5,aN as a6,wx as a7,Wg as a8,us as a9,nk as aA,OL as aB,yR as aC,oz as aD,oB as aE,XB as aF,YB as aG,ZB as aH,ez as aI,tz as aJ,nz as aK,rz as aL,Hy as aa,Ic as ab,Gy as ac,Zb as ad,Rt as ae,go as af,KV as ag,tT as ah,WV as ai,LL as aj,Ft as ak,mv as al,Vn as am,JV as an,QV as ao,hv as ap,ls as aq,Bl as ar,eF as as,Gt as at,i4 as au,rF as av,nF as aw,n1 as ax,r4 as ay,sk as az,lz as b,at as c,cA as d,Kd as e,uz as f,eu as g,Of as h,vN as i,R as j,BB as k,Fg as l,ya as m,Oy as n,az as o,VE as p,vA as q,D as r,as as s,Jb as t,jr as u,Af as v,Z5 as w,e9 as x,wA as y,Ay as z};
