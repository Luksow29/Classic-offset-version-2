import{c as f,r as a,j as e,U as j,T as k,m,a as v,s as C}from"./index-BQ92t-xb.js";import{G as w,M as N}from"./GeminiChat-B8KWcT2A.js";import{M as _}from"./MetricCard-CrIrYRD-.js";import M from"./shopping-cart-ZqDE2_1l.js";import E from"./zap-CKB_YLdp.js";import{P as I}from"./palette-CeCNDCCv.js";import"./Input-BZEgl9G2.js";import"./languages-BqDD95Lq.js";import"./send-DvzX1HMZ.js";import"./Card-Cr9OAgbB.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],z=f("indian-rupee",S),W=()=>{const[r,i]=a.useState(null),[u,n]=a.useState(!0),[c,l]=a.useState(null),[h,g]=a.useState("Give me a summary of my business performance today."),[p,x]=a.useState(0);a.useEffect(()=>{(async()=>{n(!0),l(null);try{const{data:t,error:d}=await C.rpc("get_dashboard_metrics");if(d)throw new Error(`Database error: ${d.message}`);t&&t.length>0?i(t[0]):i({total_revenue:0,total_customers_count:0,orders_due_count:0,balance_due:0})}catch(t){console.error("Error fetching dashboard metrics:",t),l("Failed to load key metrics. Please try refreshing the page.")}finally{n(!1)}})()},[]);const o=s=>{g(s),x(t=>t+1)},y=r?[{title:"Total Revenue",icon:e.jsx(z,{size:28}),value:r.total_revenue,colorClass:"bg-gradient-to-br from-green-500 to-green-700",onClick:()=>o("Give me a detailed breakdown of this month's revenue.")},{title:"Total Customers",icon:e.jsx(j,{size:28}),value:r.total_customers_count,colorClass:"bg-gradient-to-br from-blue-500 to-blue-700",onClick:()=>o("Show me the newest customers.")},{title:"Due Orders",icon:e.jsx(M,{size:28}),value:r.orders_due_count,colorClass:"bg-gradient-to-br from-amber-500 to-amber-700",onClick:()=>o("Which orders have pending payments?")},{title:"Total Due Amount",icon:e.jsx(k,{size:28}),value:r.balance_due,colorClass:"bg-gradient-to-br from-red-500 to-red-700",onClick:()=>o("List all customers with outstanding balances.")}]:[],b=[{icon:e.jsx(E,{size:20,className:"text-yellow-400"}),text:"Gemini AI Integration: Ask complex questions in Tamil or English and get professional reports."},{icon:e.jsx(N,{size:20,className:"text-red-400"}),text:"Voice Input Enabled: Use the microphone icon in the chatbox to ask questions with your voice."},{icon:e.jsx(I,{size:20,className:"text-blue-400"}),text:"Interactive Cards: Click on any metric card above to get a detailed analysis of that metric."}];return e.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 space-y-8",children:[e.jsxs(m.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800 dark:text-white",children:"AI Business Insights ðŸ§ "}),e.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Get real-time metrics and chat with your intelligent business analyst."})]}),e.jsxs("div",{className:"bg-gray-800/80 backdrop-blur-sm border border-gray-700 p-4 rounded-xl",children:[e.jsx("h3",{className:"font-semibold text-lg text-white mb-3",children:"ðŸš€ What's New?"}),e.jsx("div",{className:"space-y-3",children:b.map((s,t)=>e.jsxs(m.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2+t*.1},className:"flex items-center gap-3 p-3 bg-gray-700/50 rounded-lg",children:[s.icon,e.jsx("span",{className:"text-gray-300 text-sm",children:s.text})]},t))})]}),u?e.jsx("div",{className:"flex justify-center items-center h-48",children:e.jsx(v,{className:"w-12 h-12 text-primary-500 animate-spin"})}):c?e.jsx("div",{className:"p-6 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-300 rounded-lg text-center",children:e.jsx("p",{children:c})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:y.map((s,t)=>a.createElement(_,{...s,key:t}))}),e.jsx("div",{className:"h-[600px] bg-white dark:bg-gray-800/50 rounded-2xl shadow-lg",children:e.jsx(w,{starterPrompt:h},p)})]})};export{W as default};
